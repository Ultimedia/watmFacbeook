!function(exports,global){function onPhotoDataSuccess(a){var b=document.getElementById("smallImage");b.style.display="block",b.src="data:image/jpeg;base64,"+a}function onPhotoURISuccess(a){var b=document.getElementById("largeImage");b.style.display="block",b.src=a}function capturePhoto(){navigator.camera.getPicture(onPhotoDataSuccess,onFail,{quality:50,destinationType:appData.settings.destinationType.DATA_URL})}function capturePhotoEdit(){navigator.camera.getPicture(onPhotoDataSuccess,onFail,{quality:20,allowEdit:!0,destinationType:appData.settings.destinationType.DATA_URL})}function getPhoto(a){navigator.camera.getPicture(onPhotoURISuccess,onFail,{quality:50,destinationType:appData.settings.destinationType.FILE_URI,sourceType:a})}function onFail(a){alert("Failed because: "+a)}function getLoginStatus(){FB.getLoginStatus(function(a){alert("connected"==a.status?"logged in":"not logged in")})}function me(){FB.api("/me/friends",{fields:"id, name, picture"},function(a){if(a.error)alert(JSON.stringify(a.error));else{var b=document.getElementById("data");fdata=a.data,console.log("fdata: "+fdata),a.data.forEach(function(a){var c=document.createElement("div");c.innerHTML="<img src="+a.picture+"/>"+a.name,b.appendChild(c)})}var c=a.data;console.log(c.length);for(var d=0;d<c.length&&200>d;d++){var e=c[d];friendIDs[d]=e.id}console.log("friendId's: "+friendIDs)})}function logout(){FB.logout(function(){})}function login(){}function facebookWallPost(){console.log("Debug 1");var a={method:"feed",name:"Facebook Dialogs",link:"https://developers.facebook.com/docs/reference/dialogs/",picture:"http://fbrell.com/f8.jpg",caption:"Reference Documentation",description:"Dialogs provide a simple, consistent interface for applications to interface with users."};console.log(a),FB.ui(a,function(a){console.log(a)})}function publishStoryFriend(){randNum=Math.floor(Math.random()*friendIDs.length);var a=friendIDs[randNum];if(void 0==a)alert("please click the me button to get a list of friends first");else{console.log("friend id: "+a),console.log("Opening a dialog for friendID: ",a);var b={method:"feed",to:a.toString(),name:"Facebook Dialogs",link:"https://developers.facebook.com/docs/reference/dialogs/",picture:"http://fbrell.com/f8.jpg",caption:"Reference Documentation",description:"Dialogs provide a simple, consistent interface for applications to interface with users."};FB.ui(b,function(a){console.log(a)})}}function PageSlider(a){var b,a=a,c=[];this.back=function(){location.hash=c[c.length-2]},this.slidePage=function(a){console.log("hiere");var b=c.length,d=window.location.hash;return 0===b?(console.log("page 0"),c.push(d),void this.slidePageFrom(a)):void(d===c[b-2]?(console.log("page left"),c.pop(),this.slidePageFrom(a,"page-left")):(console.log("page right"),c.push(d),this.slidePageFrom(a,"page-right")))},this.slidePageFrom=function(c,d){return a.append(c),b&&d?(c.attr("class","page "+d),b.one("webkitTransitionEnd",function(a){$(a.target).remove()}),console.log(a[0].offsetWidth),a[0].offsetWidth,c.attr("class","page transition page-center"),b.attr("class","page transition "+("page-left"===d?"page-right":"page-left")),void(b=c)):(c.attr("class","page page-center"),void(b=c))}}global["true"]=exports,window.FB||(window.FB={_apiKey:null,_authResponse:null,_userStatus:"unknown",_logging:!0,_inCanvas:window.name.indexOf("iframe_canvas")>-1||window.name.indexOf("app_runner")>-1,_https:window.name.indexOf("_fb_https")>-1,_domain:{api:"https://api.facebook.com/",api_read:"https://api-read.facebook.com/",cdn:"http://static.ak.fbcdn.net/",https_cdn:"https://s-static.ak.fbcdn.net/",graph:"https://graph.facebook.com/",staticfb:"http://static.ak.facebook.com/",https_staticfb:"https://s-static.ak.facebook.com/",www:"http://www.facebook.com/",https_www:"https://www.facebook.com/",m:"http://m.facebook.com/",https_m:"https://m.facebook.com/"},_locale:null,_localeIsRtl:!1,_nativeInterface:null,getDomain:function(a,b){var c=!b&&("https:"==window.location.protocol||FB._https);switch(a){case"api":return FB._domain.api;case"api_read":return FB._domain.api_read;case"cdn":return c?FB._domain.https_cdn:FB._domain.cdn;case"cdn_foreign":return FB._domain.cdn_foreign;case"https_cdn":return FB._domain.https_cdn;case"graph":return FB._domain.graph;case"staticfb":return c?FB._domain.https_staticfb:FB._domain.staticfb;case"https_staticfb":return FB._domain.https_staticfb;case"www":return c?FB._domain.https_www:FB._domain.www;case"https_www":return FB._domain.https_www;case"m":return c?FB._domain.https_m:FB._domain.m;case"https_m":return FB._domain.https_m}},copy:function(a,b,c,d){for(var e in b)(c||"undefined"==typeof a[e])&&(a[e]=d?d(b[e]):b[e]);return a},create:function(a,b){for(var c=window.FB,d=a?a.split("."):[],e=d.length,f=0;e>f;f++){var g=d[f],h=c[g];h||(h=b&&f+1==e?b:{},c[g]=h),c=h}return c},provide:function(a,b,c){return FB.copy("string"==typeof a?FB.create(a):a,b,c)},guid:function(){return"f"+(Math.random()*(1<<30)).toString(16).replace(".","")},log:function(a){FB._logging&&(window.Debug&&window.Debug.writeln?window.Debug.writeln(a):window.console&&window.console.log(a)),FB.Event&&FB.Event.fire("fb.log",a)},$:function(a){return document.getElementById(a)}}),FB.provide("Array",{indexOf:function(a,b){if(a.indexOf)return a.indexOf(b);var c=a.length;if(c)for(var d=0;c>d;d++)if(a[d]===b)return d;return-1},merge:function(a,b){for(var c=0;c<b.length;c++)FB.Array.indexOf(a,b[c])<0&&a.push(b[c]);return a},filter:function(a,b){for(var c=[],d=0;d<a.length;d++)b(a[d])&&c.push(a[d]);return c},keys:function(a,b){var c=[];for(var d in a)(b||a.hasOwnProperty(d))&&c.push(d);return c},map:function(a,b){for(var c=[],d=0;d<a.length;d++)c.push(b(a[d]));return c},forEach:function(a,b,c){if(a)if("[object Array]"!==Object.prototype.toString.apply(a)&&(a instanceof Function||"number"!=typeof a.length))for(var d in a)(c||a.hasOwnProperty(d))&&b(a[d],d,a);else if(a.forEach)a.forEach(b);else for(var e=0,f=a.length;f>e;e++)b(a[e],e,a)},toArray:function(a){for(var b=0,c=[],d=a.length;d>b;b++)c[b]=a[b];return c}}),FB.provide("QS",{encode:function(a,b,c){b=void 0===b?"&":b,c=c===!1?function(a){return a}:encodeURIComponent;var d=[];return FB.Array.forEach(a,function(a,b){null!==a&&"undefined"!=typeof a&&d.push(c(b)+"="+c(a))}),d.sort(),d.join(b)},decode:function(a){var b,c,d=decodeURIComponent,e={},f=a.split("&");for(b=0;b<f.length;b++)c=f[b].split("=",2),c&&c[0]&&(e[d(c[0])]=d(c[1]||""));return e}}),FB.provide("Content",{_root:null,_hiddenRoot:null,_callbacks:{},append:function(a,b){if(!b)if(FB.Content._root)b=FB.Content._root;else{if(FB.Content._root=b=FB.$("fb-root"),!b)return void FB.log('The "fb-root" div has not been created.');b.className+=" fb_reset"}if("string"==typeof a){var c=document.createElement("div");return b.appendChild(c).innerHTML=a,c}return b.appendChild(a)},appendHidden:function(a){if(!FB.Content._hiddenRoot){var b=document.createElement("div"),c=b.style;c.position="absolute",c.top="-10000px",c.width=c.height=0,FB.Content._hiddenRoot=FB.Content.append(b)}return FB.Content.append(a,FB.Content._hiddenRoot)},insertIframe:function(a){a.id=a.id||FB.guid(),a.name=a.name||FB.guid();var b=FB.guid(),c=!1,d=!1;if(FB.Content._callbacks[b]=function(){c&&!d&&(d=!0,a.onload&&a.onload(a.root.firstChild))},document.attachEvent){var e='<iframe id="'+a.id+'" name="'+a.name+'"'+(a.title?' title="'+a.title+'"':"")+(a.className?' class="'+a.className+'"':"")+' style="border:none;'+(a.width?"width:"+a.width+"px;":"")+(a.height?"height:"+a.height+"px;":"")+'" src="javascript:false;" frameborder="0" scrolling="no" allowtransparency="true" onload="FB.Content._callbacks.'+b+'()"></iframe>';a.root.innerHTML='<iframe src="javascript:false" frameborder="0" scrolling="no" style="height:1px"></iframe>',c=!0,window.setTimeout(function(){a.root.innerHTML=e,a.root.firstChild.src=a.url,a.onInsert&&a.onInsert(a.root.firstChild)},0)}else{var f=document.createElement("iframe");f.id=a.id,f.name=a.name,f.onload=FB.Content._callbacks[b],f.scrolling="no",f.style.border="none",f.style.overflow="hidden",a.title&&(f.title=a.title),a.className&&(f.className=a.className),a.height&&(f.style.height=a.height+"px"),a.width&&(f.style.width="100%"==a.width?a.width:a.width+"px"),a.root.appendChild(f),c=!0,f.src=a.url,a.onInsert&&a.onInsert(f)}},submitToTarget:function(a,b){var c=document.createElement("form");c.action=a.url,c.target=a.target,c.method=b?"GET":"POST",FB.Content.appendHidden(c),FB.Array.forEach(a.params,function(a,b){if(null!==a&&void 0!==a){var d=document.createElement("input");d.name=b,d.value=a,c.appendChild(d)}}),c.submit(),c.parentNode.removeChild(c)}}),FB.provide("Flash",{_minVersions:[[9,0,159,0],[10,0,22,87]],_swfPath:"swf/XdComm.swf",_callbacks:[],_names:{},_unloadRegistered:!1,init:function(){FB.Flash._init||(FB.Flash._init=!0,window.FB_OnFlashXdCommReady=function(){FB.Flash._ready=!0;for(var a=0,b=FB.Flash._callbacks.length;b>a;a++)FB.Flash._callbacks[a]();FB.Flash._callbacks=[]},FB.Flash.embedSWF("XdComm",FB.getDomain("cdn_foreign")+FB.Flash._swfPath))},embedSWF:function(a,b,c){var d=!!document.attachEvent,e='<object type="application/x-shockwave-flash" id="'+a+'" '+(c?'flashvars="'+c+'" ':"")+(d?'name="'+a+'" ':"")+(d?"":'data="'+b+'" ')+(d?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ':"")+'allowscriptaccess="always"><param name="movie" value="'+b+'"></param><param name="allowscriptaccess" value="always"></param></object>';if(FB.Content.appendHidden(e),FB.UA.ie()>=9){if(!FB.Flash._unloadRegistered){var f=function(){FB.Array.forEach(FB.Flash._names,function(a,b){var c=document.getElementById(b);c&&c.removeNode(!0)})};window.attachEvent("onunload",f),FB.Flash._unloadRegistered=!0}FB.Flash._names[a]=!0}},hasMinVersion:function(){if("undefined"==typeof FB.Flash._hasMinVersion){var a,b,c,d=[];try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(e){if(navigator.mimeTypes.length>0){var f="application/x-shockwave-flash";if(navigator.mimeTypes[f].enabledPlugin){var g="Shockwave Flash";a=(navigator.plugins[g+" 2.0"]||navigator.plugins[g]).description}}}if(a){var h=a.replace(/\D+/g,",").match(/^,?(.+),?$/)[1].split(",");for(b=0,c=h.length;c>b;b++)d.push(parseInt(h[b],10))}FB.Flash._hasMinVersion=!1;a:for(b=0,c=FB.Flash._minVersions.length;c>b;b++){var i=FB.Flash._minVersions[b];if(i[0]==d[0])for(var j=1,k=i.length,l=d.length;k>j&&l>j;j++){if(d[j]<i[j]){FB.Flash._hasMinVersion=!1;continue a}if(FB.Flash._hasMinVersion=!0,d[j]>i[j])break a}}}return FB.Flash._hasMinVersion},onReady:function(a){FB.Flash.init(),FB.Flash._ready?window.setTimeout(a,0):FB.Flash._callbacks.push(a)}}),this.JSON||(this.JSON={}),function(){function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)d=rep[c],"string"==typeof d&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),FB.provide("JSON",{stringify:function(a){return window.Prototype&&Object.toJSON?Object.toJSON(a):JSON.stringify(a)},parse:function(a){return JSON.parse(a)},flatten:function(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];if(null===d||void 0===d)continue;b[c]="string"==typeof d?d:FB.JSON.stringify(d)}return b}}),FB.provide("",{api:function(){"string"==typeof arguments[0]?FB.ApiServer.graph.apply(FB.ApiServer,arguments):FB.ApiServer.rest.apply(FB.ApiServer,arguments)}}),FB.provide("ApiServer",{METHODS:["get","post","delete","put"],_callbacks:{},_readOnlyCalls:{fql_query:!0,fql_multiquery:!0,friends_get:!0,notifications_get:!0,stream_get:!0,users_getinfo:!0},graph:function(){for(var a,b,c,d=Array.prototype.slice.call(arguments),e=d.shift().match(/\/?([^?]*)\??([^#]*)/),f=e[1],g=d.shift();g;){var h=typeof g;if("string"!==h||a)if("function"!==h||c){if("object"!==h||b)return void FB.log("Invalid argument passed to FB.api(): "+g);b=g}else c=g;else a=g.toLowerCase();g=d.shift()}return a=a||"get",b=FB.copy(b||{},FB.QS.decode(e[2])),FB.Array.indexOf(FB.ApiServer.METHODS,a)<0?void FB.log("Invalid method passed to FB.api(): "+a):void FB.ApiServer.oauthRequest("graph",f,a,b,c)},rest:function(a,b){var c=a.method.toLowerCase().replace(".","_");if(FB.Auth&&"auth_revokeauthorization"===c){var d=b;b=function(a){a===!0&&FB.Auth.setAuthResponse(null,"not_authorized"),d&&d(a)}}a.format="json-strings",a.api_key=FB._apiKey;var e=FB.ApiServer._readOnlyCalls[c]?"api_read":"api";FB.ApiServer.oauthRequest(e,"restserver.php","get",a,b)},oauthRequest:function(a,b,c,d,e){!d.access_token&&FB.getAccessToken()&&(d.access_token=FB.getAccessToken()),d.sdk="joey",d.pretty=0;var f=e;e=function(a){FB.Auth&&a&&FB.getAccessToken()==d.access_token&&("190"===a.error_code||a.error&&("invalid_token"===a.error||"OAuthException"===a.error.type))&&FB.getLoginStatus(null,!0),f&&f(a)};try{FB.ApiServer.jsonp(a,b,c,FB.JSON.flatten(d),e)}catch(g){try{if(!FB.initSitevars.corsKillSwitch&&FB.ApiServer.corsPost(a,b,c,FB.JSON.flatten(d),e))return}catch(h){}if(!FB.Flash.hasMinVersion())throw new Error("Your browser does not support long connect requests. You can fix this problem by upgrading your browser or installing the latest version of Flash");FB.ApiServer.flash(a,b,c,FB.JSON.flatten(d),e)}},corsPost:function(a,b,c,d,e){var f=FB.getDomain(a)+b;"graph"==a&&(d.method=c);var g=FB.QS.encode(d),h="application/x-www-form-urlencoded",i=FB.ApiServer._createCORSRequest("POST",f,h);return i?(i.onload=function(){e&&e(FB.JSON.parse(i.responseText))},i.send(g),!0):!1},_createCORSRequest:function(a,b,c){if(!window.XMLHttpRequest)return null;var d=new XMLHttpRequest;return"withCredentials"in d?(d.open(a,b,!0),d.setRequestHeader("Content-type",c)):window.XDomainRequest?(d=new XDomainRequest,d.open(a,b)):d=null,d},jsonp:function(a,b,c,d,e){var f=FB.guid(),g=document.createElement("script");"graph"===a&&"get"!==c&&(d.method=c),d.callback="FB.ApiServer._callbacks."+f;var h=FB.getDomain(a)+b+(b.indexOf("?")>-1?"&":"?")+FB.QS.encode(d);if(h.length>2e3)throw new Error("JSONP only support a maximum of 2000 bytes of input.");FB.ApiServer._callbacks[f]=function(a){e&&e(a),delete FB.ApiServer._callbacks[f],g.parentNode.removeChild(g)},g.src=h,document.getElementsByTagName("head")[0].appendChild(g)},flash:function(a,b,c,d,e){window.FB_OnXdHttpResult||(window.FB_OnXdHttpResult=function(a,b){FB.ApiServer._callbacks[a](decodeURIComponent(b))}),FB.Flash.onReady(function(){"graph"===a&&(d.suppress_http_code=1);var f=FB.getDomain(a)+b,g=FB.QS.encode(d);"get"===c?f.length+g.length>2e3?("graph"===a&&(d.method="get"),c="post",g=FB.QS.encode(d)):(f+=(f.indexOf("?")>-1?"&":"?")+g,g=""):"post"!==c&&("graph"===a&&(d.method=c),c="post",g=FB.QS.encode(d));var h=document.XdComm.sendXdHttpRequest(c.toUpperCase(),f,g,null);FB.ApiServer._callbacks[h]=function(a){e&&e(FB.JSON.parse(a)),delete FB.ApiServer._callbacks[h]}})}}),FB.provide("EventProvider",{subscribers:function(){return this._subscribersMap||(this._subscribersMap={}),this._subscribersMap},subscribe:function(a,b){var c=this.subscribers();c[a]?c[a].push(b):c[a]=[b]},unsubscribe:function(a,b){var c=this.subscribers()[a];FB.Array.forEach(c,function(a,d){a==b&&(c[d]=null)})},monitor:function(a,b){if(!b()){var c=this,d=function(){b.apply(b,arguments)&&c.unsubscribe(a,d)};this.subscribe(a,d)}},clear:function(a){delete this.subscribers()[a]},fire:function(){var a=Array.prototype.slice.call(arguments),b=a.shift();FB.Array.forEach(this.subscribers()[b],function(b){b&&b.apply(this,a)})},listen:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},unlisten:function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)}}),FB.provide("Event",FB.EventProvider),FB.provide("XD",{_origin:null,_transport:null,_callbacks:{},_forever:{},_xdProxyUrl:"connect/xd_proxy.php",_openerTransport:null,_openerOrigin:null,_nonOpenerOrigin:null,init:function(a){if(!FB.XD._origin){var b=window.location.protocol+"//"+window.location.host+"/"+FB.guid();if(window.addEventListener&&!window.attachEvent&&window.postMessage)FB.XD._origin=b,FB.XD.PostMessage.init(),FB.XD._transport="postmessage";else if(!a&&FB.Flash.hasMinVersion())if(document.getElementById("fb-root")){var c=document.domain;"facebook.com"==c&&(c=window.location.host),FB.XD._origin=window.location.protocol+"//"+c+"/"+FB.guid(),FB.XD.Flash.init(),FB.XD._transport="flash"}else FB.log&&FB.log("missing fb-root, defaulting to fragment-based xdcomm"),FB.XD._transport="fragment",FB.XD.Fragment._channelUrl=a||window.location.toString();else FB.XD._transport="fragment",FB.XD.Fragment._channelUrl=a||window.location.toString();var d=!!window.attachEvent;"postmessage"!=FB.XD._transport&&d&&window.postMessage&&(FB.XD._openerTransport=FB.XD._transport,FB.XD._openerOrigin=FB.XD._origin,FB.XD._nonOpenerOrigin=b)}},resolveRelation:function(a){for(var b,c,d=a.split("."),e=window,f=0,g=d.length;g>f;f++)if(b=d[f],"opener"===b||"parent"===b||"top"===b)e=e[b];else{if(!(c=/^frames\[['"]?([a-zA-Z0-9-_]+)['"]?\]$/.exec(b)))throw new SyntaxError("Malformed id to resolve: "+a+", pt: "+b);e=e.frames[c[1]]}return e},handler:function(a,b,c,d,e){if(window.location.toString().indexOf(FB.XD.Fragment._magic)>0)return"javascript:false;//";FB.initSitevars.forceSecureXdProxy&&(e=!0);var f=FB.getDomain((e?"https_":"")+"cdn")+FB.XD._xdProxyUrl+"#";if(d=d||FB.guid(),b=b||"opener",FB.XD._openerTransport&&("opener"==b?(FB.XD._transport=FB.XD._openerTransport,FB.XD._origin=FB.XD._openerOrigin):(FB.XD.PostMessage.init(),FB.XD._transport="postmessage",FB.XD._origin=FB.XD._nonOpenerOrigin)),"fragment"==FB.XD._transport){f=FB.XD.Fragment._channelUrl;var g=f.indexOf("#");g>0&&(f=f.substr(0,g)),f+=(f.indexOf("?")<0?"?":"&")+FB.XD.Fragment._magic+"#?=&"}return c&&(FB.XD._forever[d]=!0),FB.XD._callbacks[d]=a,f+FB.QS.encode({cb:d,origin:FB.XD._origin,relation:b,transport:FB.XD._transport})},recv:function(a){if("string"==typeof a)try{a=FB.JSON.parse(a)}catch(b){a=FB.QS.decode(a)}var c=FB.XD._callbacks[a.cb];FB.XD._forever[a.cb]||delete FB.XD._callbacks[a.cb],c&&c(a)},PostMessage:{_isInitialized:!1,init:function(){if(!FB.XD.PostMessage._isInitialized){var a=FB.XD.PostMessage.onMessage;window.addEventListener?window.addEventListener("message",a,!1):window.attachEvent("onmessage",a),FB.XD.PostMessage._isInitialized=!0}},onMessage:function(a){FB.XD.recv(a.data)}},WebView:{onMessage:function(a,b,c){FB.XD.recv(c)}},Flash:{init:function(){FB.Flash.onReady(function(){document.XdComm.postMessage_init("FB.XD.Flash.onMessage",FB.XD._openerOrigin?FB.XD._openerOrigin:FB.XD._origin)})},onMessage:function(a){FB.XD.recv(decodeURIComponent(a))}},Fragment:{_magic:"fb_xd_fragment",checkAndDispatch:function(){var a=window.location.toString(),b=a.substr(a.indexOf("#")+1),c=a.indexOf(FB.XD.Fragment._magic);c>0&&(FB.init=FB.getLoginStatus=FB.api=function(){},document.documentElement.style.display="none",FB.XD.resolveRelation(FB.QS.decode(b).relation).FB.XD.recv(b))}}}),FB.XD.Fragment.checkAndDispatch(),FB.provide("UA",{ie:function(){return FB.UA._populate()||this._ie},firefox:function(){return FB.UA._populate()||this._firefox},opera:function(){return FB.UA._populate()||this._opera},safari:function(){return FB.UA._populate()||this._safari},chrome:function(){return FB.UA._populate()||this._chrome},windows:function(){return FB.UA._populate()||this._windows},osx:function(){return FB.UA._populate()||this._osx},linux:function(){return FB.UA._populate()||this._linux},ios:function(){return FB.UA._populate(),FB.UA.mobile()&&this._ios},mobile:function(){return FB.UA._populate(),!FB._inCanvas&&this._mobile},nativeApp:function(){return FB.UA.mobile()&&navigator.userAgent.match(/FBAN\/\w+;/i)},android:function(){return FB.UA._populate(),FB.UA.mobile()&&this._android},iPad:function(){return FB.UA._populate(),FB.UA.mobile()&&this._iPad},_populated:!1,_populate:function(){if(!FB.UA._populated){FB.UA._populated=!0;var a=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))/.exec(navigator.userAgent),b=/(Mac OS X)|(Windows)|(Linux)/.exec(navigator.userAgent),c=/\b(iPhone|iP[ao]d)/.exec(navigator.userAgent);FB.UA._iPad=/\b(iPad)/.exec(navigator.userAgent),FB.UA._android=navigator.userAgent.match(/Android/i),FB.UA._mobile=c||FB.UA._android||navigator.userAgent.match(/Mobile/i),a?(FB.UA._ie=a[1]?parseFloat(a[1]):0/0,FB.UA._ie>=8&&!window.HTMLCollection&&(FB.UA._ie=7),FB.UA._firefox=a[2]?parseFloat(a[2]):0/0,FB.UA._opera=a[3]?parseFloat(a[3]):0/0,FB.UA._safari=a[4]?parseFloat(a[4]):0/0,FB.UA._safari?(a=/(?:Chrome\/(\d+\.\d+))/.exec(navigator.userAgent),FB.UA._chrome=a&&a[1]?parseFloat(a[1]):0/0):FB.UA._chrome=0/0):FB.UA._ie=FB.UA._firefox=FB.UA._opera=FB.UA._chrome=FB.UA._safari=0/0,b?(FB.UA._osx=!!b[1],FB.UA._windows=!!b[2],FB.UA._linux=!!b[3]):FB.UA._osx=FB.UA._windows=FB.UA._linux=!1,FB.UA._ios=c}}}),FB.provide("Arbiter",{_canvasProxyUrl:"connect/canvas_proxy.php",BEHAVIOR_EVENT:"e",BEHAVIOR_PERSISTENT:"p",BEHAVIOR_STATE:"s",inform:function(a,b,c,d,e){if(FB.Canvas.isTabIframe()||FB._inPlugin&&window.postMessage||!FB._inCanvas&&FB.UA.mobile()&&window.postMessage){var f=FB.JSON.stringify({method:a,params:b,behavior:e||FB.Arbiter.BEHAVIOR_PERSISTENT});if(window.postMessage)return void FB.XD.resolveRelation(c||"parent").postMessage(f,"*");try{return void window.opener.postMessage(f)}catch(g){}}d|=window!=window.parent&&0===document.referrer.indexOf("https:");var h=FB.getDomain((d?"https_":"")+"staticfb",!0)+FB.Arbiter._canvasProxyUrl+"#"+FB.QS.encode({method:a,params:FB.JSON.stringify(b||{}),behavior:e||FB.Arbiter.BEHAVIOR_PERSISTENT,relation:c}),i=FB.Content.appendHidden("");FB.Content.insertIframe({url:h,root:i,width:1,height:1,onload:function(){setTimeout(function(){i.parentNode.removeChild(i)},10)}})}}),FB.provide("Canvas",{_timer:null,_lastSize:{},_pageInfo:{clientWidth:0,clientHeight:0,scrollLeft:0,scrollTop:0,offsetLeft:0,offsetTop:0},getPageInfo:function(a){var b="top.frames["+window.name+"]",c=FB.XD.handler(function(b){for(var c in FB.Canvas._pageInfo)b[c]&&(FB.Canvas._pageInfo[c]=0|b[c]);a&&a(FB.Canvas._pageInfo)},b,!0),d={channelUrl:c,frame:window.name};FB.Arbiter.inform("getPageInfo",d,"top")},hideFlashElement:function(a){a.style.visibility="hidden"},showFlashElement:function(a){a.style.visibility=""},_flashClassID:"CLSID:D27CDB6E-AE6D-11CF-96B8-444553540000",_hideFlashCallback:function(a){for(var b=window.document.getElementsByTagName("object"),c=0;c<b.length;c++){var d=b[c];if("application/x-shockwave-flash"==d.type.toLowerCase()||d.classid.toUpperCase()==FB.Canvas._flashClassID){for(var e=!1,f=0;f<d.childNodes.length;f++)"param"==d.childNodes[f].nodeName.toLowerCase()&&"wmode"==d.childNodes[f].name.toLowerCase()&&("opaque"==d.childNodes[f].value.toLowerCase()||"transparent"==d.childNodes[f].value.toLowerCase())&&(e=!0);if(!e){var g=Math.random();if(.001>=g&&FB.api(FB._apiKey+"/occludespopups","post",{}),FB.Canvas._devHideFlashCallback){var h=200,i={state:a.state,elem:d},j=FB.bind(function(a){"opened"==a.state?FB.Canvas.hideFlashElement(a.elem):FB.Canvas.showFlashElement(a.elem)},this,i);setTimeout(j,h),FB.Canvas._devHideFlashCallback(i)}else"opened"==a.state?(d._old_visibility=d.style.visibility,d.style.visibility="hidden"):"closed"==a.state&&(d.style.visibility=d._old_visibility,delete d._old_visibility)}}}},_devHideFlashCallback:null,_setHideFlashCallback:function(a){FB.Canvas._devHideFlashCallback=a},init:function(){var a=FB.Dom.getViewportInfo();FB.Canvas._pageInfo.clientWidth=a.width,FB.Canvas._pageInfo.clientHeight=a.height,FB.Canvas.getPageInfo();var b=FB.XD.handler(FB.Canvas._hideFlashCallback,"top.frames["+window.name+"]",!0);FB.Arbiter.inform("iframeSetupFlashHiding",{channelUrl:b})},setSize:function(a){"object"!=typeof a&&(a={});var b=0,c=0;if(a=a||{},(null==a.width||null==a.height)&&(a=FB.copy(a,FB.Canvas._computeContentSize()),b=16,c=4),a=FB.copy(a,{frame:window.name||"iframe_canvas"}),FB.Canvas._lastSize[a.frame]){var d=FB.Canvas._lastSize[a.frame].height,e=a.height-d;if(FB.Canvas._lastSize[a.frame].width==a.width&&c>=e&&e>=-b)return!1}return FB.Canvas._lastSize[a.frame]=a,FB.Arbiter.inform("setSize",a),!0},scrollTo:function(a,b){FB.Arbiter.inform("scrollTo",{frame:window.name||"iframe_canvas",x:a,y:b})},setAutoGrow:function(a,b){void 0===b&&"number"==typeof a&&(b=a,a=!0),void 0===a||a?(null===FB.Canvas._timer&&(FB.Canvas._timer=window.setInterval(FB.Canvas.setSize,b||100)),FB.Canvas.setSize()):null!==FB.Canvas._timer&&(window.clearInterval(FB.Canvas._timer),FB.Canvas._timer=null)},setAutoResize:function(a,b){return FB.Canvas.setAutoGrow(a,b)},isTabIframe:function(){return 0===window.name.indexOf("app_runner_")},setDoneLoading:function(a){FB.Canvas._passAppTtiMessage(a,"RecordIframeAppTti")},stopTimer:function(a){FB.Canvas._passAppTtiMessage(a,"StopIframeAppTtiTimer")},setUrlHandler:function(a){var b=FB.XD.handler(a,"top.frames["+window.name+"]",!0);FB.Arbiter.inform("setUrlHandler",b),FB.Event.listen(window,"load",function(){FB.Arbiter.inform("setUrlHandler",b)})},startTimer:function(){FB.Canvas._passAppTtiMessage(null,"StartIframeAppTtiTimer")},_passAppTtiMessage:function(a,b){var c=null;a&&(c=FB.XD.handler(a,"top.frames["+window.name+"]",!1)),FB.Arbiter.inform(b,{frame:window.name||"iframe_canvas",time:(new Date).getTime(),appId:parseInt(FB._apiKey,10),channelUrl:c})},_computeContentSize:function(){var a=document.body,b=document.documentElement,c=0,d=Math.max(a.offsetTop,0),e=Math.max(b.offsetTop,0),f=a.scrollHeight+d,g=a.offsetHeight+d,h=b.scrollHeight+e,i=b.offsetHeight+e;return bottom=Math.max(f,g,h,i),a.offsetWidth<a.scrollWidth?c=a.scrollWidth+a.offsetLeft:FB.Array.forEach(a.childNodes,function(a){var b=a.offsetWidth+a.offsetLeft;b>c&&(c=b)}),b.clientLeft>0&&(c+=2*b.clientLeft),b.clientTop>0&&(bottom+=2*b.clientTop),{height:bottom,width:c}}}),FB.provide("String",{trim:function(a){return a.replace(/^\s*|\s*$/g,"")},format:function(a){FB.String.format._formatRE||(FB.String.format._formatRE=/(\{[^\}^\{]+\})/g);var b=arguments;return a.replace(FB.String.format._formatRE,function(a,c){var d=parseInt(c.substr(1),10),e=b[d+1];return null===e||void 0===e?"":e.toString()})},escapeHTML:function(a){var b=document.createElement("div");return b.appendChild(document.createTextNode(a)),b.innerHTML.replace(/"/g,"&quot;").replace(/'/g,"&#39;")},quote:function(a){var b=/["\\\x00-\x1f\x7f-\x9f]/g,c={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return b.test(a)?'"'+a.replace(b,function(a){var b=c[a];return b?b:(b=a.charCodeAt(),"\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16))})+'"':'"'+a+'"'}}),FB.provide("Dom",{containsCss:function(a,b){var c=" "+a.className+" ";return c.indexOf(" "+b+" ")>=0},addCss:function(a,b){FB.Dom.containsCss(a,b)||(a.className=a.className+" "+b)},removeCss:function(a,b){FB.Dom.containsCss(a,b)&&(a.className=a.className.replace(b,""),FB.Dom.removeCss(a,b))},getByClass:function(a,b,c){if(b=b||document.body,c=c||"*",b.querySelectorAll)return FB.Array.toArray(b.querySelectorAll(c+"."+a));for(var d=b.getElementsByTagName(c),e=[],f=0,g=d.length;g>f;f++)this.containsCss(d[f],a)&&(e[e.length]=d[f]);return e},getStyle:function(a,b){{var c=!1;a.style}return a.currentStyle?(FB.Array.forEach(b.match(/\-([a-z])/g),function(a){b=b.replace(a,a.substr(1,1).toUpperCase())}),c=a.currentStyle[b]):(FB.Array.forEach(b.match(/[A-Z]/g),function(a){b=b.replace(a,"-"+a.toLowerCase())}),window.getComputedStyle&&(c=document.defaultView.getComputedStyle(a,null).getPropertyValue(b),("background-position-y"==b||"background-position-x"==b)&&("top"==c||"left"==c)&&(c="0px"))),"opacity"==b?a.filters&&a.filters.alpha?c:100*c:c},setStyle:function(a,b,c){var d=a.style;"opacity"==b?(c>=100&&(c=99.999),0>c&&(c=0),d.opacity=c/100,d.MozOpacity=c/100,d.KhtmlOpacity=c/100,a.filters&&(void 0==a.filters.alpha?a.filter="alpha(opacity="+c+")":a.filters.alpha.opacity=c)):d[b]=c},addScript:function(a){var b=document.createElement("script");return b.type="text/javascript",b.src=a,document.getElementsByTagName("head")[0].appendChild(b)},addCssRules:function(a,b){FB.Dom._cssRules||(FB.Dom._cssRules={});var c=!0;if(FB.Array.forEach(b,function(a){a in FB.Dom._cssRules||(c=!1,FB.Dom._cssRules[a]=!0)}),!c)if(FB.UA.ie())try{document.createStyleSheet().cssText=a}catch(d){document.styleSheets[0]&&(document.styleSheets[0].cssText+=a)}else{var e=document.createElement("style");e.type="text/css",e.textContent=a,document.getElementsByTagName("head")[0].appendChild(e)}},getViewportInfo:function(){var a=document.documentElement&&"CSS1Compat"==document.compatMode?document.documentElement:document.body;return{scrollTop:a.scrollTop,scrollLeft:a.scrollLeft,width:self.innerWidth?self.innerWidth:a.clientWidth,height:self.innerHeight?self.innerHeight:a.clientHeight}},ready:function(a){FB.Dom._isReady?a&&a():FB.Event.subscribe("dom.ready",a)},getPosition:function(a){var b=0,c=0;do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent);return{x:b,y:c}}}),function(){function domReady(){FB.Dom._isReady=!0,FB.Event.fire("dom.ready"),FB.Event.clear("dom.ready")}if(FB.Dom._isReady||"complete"==document.readyState)return domReady();document.addEventListener?document.addEventListener("DOMContentLoaded",domReady,!1):document.attachEvent&&document.attachEvent("onreadystatechange",domReady),FB.UA.ie()&&window===top&&!function(){try{document.documentElement.doScroll("left")
}catch(a){return void setTimeout(arguments.callee,0)}domReady()}();var oldonload=window.onload;window.onload=function(){domReady(),oldonload&&("string"==typeof oldonload?eval(oldonload):oldonload())}}(),FB.provide("Intl",function(){function a(a){return"string"!=typeof a?!1:a.match(new RegExp(d+"[)\"'»༻༽’”›〉》」』】〕〗〙〛〞〟﴿＇）］s]*$"))}function b(b,c){if(void 0!==c)if("object"!=typeof c)FB.log("The second arg to FB.Intl.tx() must be an Object for FB.Intl.tx("+b+", ...)");else{var e;for(var f in c)c.hasOwnProperty(f)&&(e=a(c[f])?new RegExp("{"+f+"}"+d+"*","g"):new RegExp("{"+f+"}","g"),b=b.replace(e,c[f]))}return b}function c(a,c){return FB.Intl._stringTable?b(FB.Intl._stringTable[a],c):null}var d="[.!?。！？।…ຯ᠁ฯ．]";return c._=b,{tx:c,_tx:b}}()),FB.provide("",{bind:function(){var a=Array.prototype.slice.call(arguments),b=a.shift(),c=a.shift();return function(){return b.apply(c,a.concat(Array.prototype.slice.call(arguments)))}},Class:function(a,b,c){if(FB.CLASSES[a])return FB.CLASSES[a];var d=b||function(){};return d.prototype=c,d.prototype.bind=function(a){return FB.bind(a,this)},d.prototype.constructor=d,FB.create(a,d),FB.CLASSES[a]=d,d},subclass:function(a,b,c,d){if(FB.CLASSES[a])return FB.CLASSES[a];var e=FB.create(b);return FB.copy(d,e.prototype),d._base=e,d._callBase=function(a){var b=Array.prototype.slice.call(arguments,1);return e.prototype[a].apply(this,b)},FB.Class(a,c?c:function(){e.apply&&e.apply(this,arguments)},d)},CLASSES:{}}),FB.provide("Type",{isType:function(a,b){for(;a;){if(a.constructor===b||a===b)return!0;a=a._base}return!1}}),FB.Class("Obj",null,FB.copy({setProperty:function(a,b){FB.JSON.stringify(b)!=FB.JSON.stringify(this[a])&&(this[a]=b,this.fire(a,b))}},FB.EventProvider)),FB.subclass("Dialog","Obj",function(a){this.id=a,FB.Dialog._dialogs||(FB.Dialog._dialogs={},FB.Dialog._addOrientationHandler()),FB.Dialog._dialogs[a]=this},{}),FB.provide("Dialog",{_dialogs:null,_lastYOffset:0,_loaderEl:null,_overlayEl:null,_stack:[],_active:null,_popStateListenerOn:!1,_hideOnPopState:function(){FB.Dialog.hide(FB.Dialog._stack.pop())},get:function(a){return FB.Dialog._dialogs[a]},_findRoot:function(a){for(;a;){if(FB.Dom.containsCss(a,"fb_dialog"))return a;a=a.parentNode}},_createWWWLoader:function(a){return a=parseInt(a,10),a=a?a:460,FB.Dialog.create({content:'<div class="dialog_title">  <a id="fb_dialog_loader_close">    <div class="fb_dialog_close_icon"></div>  </a>  <span>Facebook</span>  <div style="clear:both;"></div></div><div class="dialog_content"></div><div class="dialog_footer"></div>',width:a})},_createMobileLoader:function(){var a=FB.UA.nativeApp()?"":'<table>  <tbody>    <tr>      <td class="header_left">        <label class="touchable_button">          <input type="submit" value="'+FB.Intl.tx._("Cancel")+'"            id="fb_dialog_loader_close"/>        </label>      </td>      <td class="header_center">        <div>'+FB.Intl.tx._("Loading...")+'</div>      </td>      <td class="header_right">      </td>    </tr>  </tbody></table>';return FB.Dialog.create({classes:"loading"+(FB.UA.iPad()?" centered":""),content:'<div class="dialog_header">'+a+"</div>"})},_restoreBodyPosition:function(){if(!FB.UA.iPad()){var a=document.getElementsByTagName("body")[0];FB.Dom.removeCss(a,"fb_hidden")}},_showIPadOverlay:function(){FB.UA.iPad()&&(FB.Dialog._overlayEl||(FB.Dialog._overlayEl=document.createElement("div"),FB.Dialog._overlayEl.setAttribute("id","fb_dialog_ipad_overlay"),FB.Content.append(FB.Dialog._overlayEl,null)),FB.Dialog._overlayEl.className="")},_hideIPadOverlay:function(){FB.UA.iPad()&&(FB.Dialog._overlayEl.className="hidden")},showLoader:function(a,b){FB.Dialog._showIPadOverlay(),FB.Dialog._loaderEl||(FB.Dialog._loaderEl=FB.Dialog._findRoot(FB.UA.mobile()?FB.Dialog._createMobileLoader():FB.Dialog._createWWWLoader(b))),a||(a=function(){});var c=FB.$("fb_dialog_loader_close");FB.Dom.removeCss(c,"fb_hidden"),c.onclick=function(){FB.Dialog._hideLoader(),FB.Dialog._restoreBodyPosition(),FB.Dialog._hideIPadOverlay(),a()};var d=FB.$("fb_dialog_ipad_overlay");d&&(d.ontouchstart=c.onclick),FB.Dialog._makeActive(FB.Dialog._loaderEl)},_hideLoader:function(){FB.Dialog._loaderEl&&FB.Dialog._loaderEl==FB.Dialog._active&&(FB.Dialog._loaderEl.style.top="-10000px")},_makeActive:function(a){FB.Dialog._setDialogSizes(),FB.Dialog._lowerActive(),FB.Dialog._active=a,FB.Canvas&&FB.Canvas.getPageInfo(function(a){FB.Dialog._centerActive(a)}),FB.Dialog._centerActive(FB.Canvas._pageInfo)},_lowerActive:function(){FB.Dialog._active&&(FB.Dialog._active.style.top="-10000px",FB.Dialog._active=null)},_removeStacked:function(a){FB.Dialog._stack=FB.Array.filter(FB.Dialog._stack,function(b){return b!=a})},_centerActive:function(a){var b=FB.Dialog._active;if(b){var c=FB.Dom.getViewportInfo(),d=parseInt(b.offsetWidth,10),e=parseInt(b.offsetHeight,10),f=c.scrollLeft+(c.width-d)/2,g=(c.height-e)/2.5;g>f&&(g=f);var h=c.height-e-g,i=(c.height-e)/2;if(a&&(i=a.scrollTop-a.offsetTop+(a.clientHeight-e)/2),g>i?i=g:i>h&&(i=h),i+=c.scrollTop,FB.UA.mobile()){var j=100;if(FB.UA.iPad())j+=(c.height-e)/2;else{var k=document.getElementsByTagName("body")[0];FB.Dom.addCss(k,"fb_hidden"),f=1e4,i=1e4}var l=FB.Dom.getByClass("fb_dialog_padding",b);l.length&&(l[0].style.height=j+"px")}b.style.left=(f>0?f:0)+"px",b.style.top=(i>0?i:0)+"px"}},_setDialogSizes:function(){if(FB.UA.mobile()&&!FB.UA.iPad())for(var a in FB.Dialog._dialogs)if(document.getElementById(a)){var b=document.getElementById(a);b.style.width=FB.UIServer.getDefaultSize().width+"px",b.style.height=FB.UIServer.getDefaultSize().height+"px"}},_handleOrientationChange:function(){if(FB.UA.android()&&screen.availWidth==FB.Dialog._availScreenWidth)return void window.setTimeout(FB.Dialog._handleOrientationChange,50);if(FB.Dialog._availScreenWidth=screen.availWidth,FB.UA.iPad())FB.Dialog._centerActive();else for(var a in FB.Dialog._dialogs)document.getElementById(a)&&(document.getElementById(a).style.width=FB.UIServer.getDefaultSize().width+"px")},_addOrientationHandler:function(){if(FB.UA.mobile()){var a="onorientationchange"in window?"orientationchange":"resize";FB.Dialog._availScreenWidth=screen.availWidth,FB.Event.listen(window,a,FB.Dialog._handleOrientationChange)}},create:function(a){a=a||{};var b=document.createElement("div"),c=document.createElement("div"),d="fb_dialog";if(a.closeIcon&&a.onClose){var e=document.createElement("a");e.className="fb_dialog_close_icon",e.onclick=a.onClose,b.appendChild(e)}d+=" "+(a.classes||""),FB.UA.ie()?(d+=" fb_dialog_legacy",FB.Array.forEach(["vert_left","vert_right","horiz_top","horiz_bottom","top_left","top_right","bottom_left","bottom_right"],function(a){var c=document.createElement("span");c.className="fb_dialog_"+a,b.appendChild(c)})):d+=FB.UA.mobile()?" fb_dialog_mobile":" fb_dialog_advanced",a.content&&FB.Content.append(a.content,c),b.className=d;var f=parseInt(a.width,10);if(isNaN(f)||(b.style.width=f+"px"),c.className="fb_dialog_content",b.appendChild(c),FB.UA.mobile()){var g=document.createElement("div");g.className="fb_dialog_padding",b.appendChild(g)}return FB.Content.append(b),a.visible&&FB.Dialog.show(b),c},show:function(a){var b=FB.Dialog._findRoot(a);b&&(FB.Dialog._removeStacked(b),FB.Dialog._hideLoader(),FB.Dialog._makeActive(b),FB.Dialog._stack.push(b),"fbCallID"in a&&FB.Dialog.get(a.fbCallID).fire("iframe_show"),FB.Event._popStateListenerOn||(FB.Event.listen(window,"popstate",FB.Dialog._hideOnPopState),FB.Event._popStateListenerOn=!0))},hide:function(a){var b=FB.Dialog._findRoot(a);b==FB.Dialog._active&&(FB.Dialog._lowerActive(),FB.Dialog._restoreBodyPosition(),FB.Dialog._hideIPadOverlay(),"fbCallID"in a&&FB.Dialog.get(a.fbCallID).fire("iframe_hide"),FB.Event._popStateListenerOn&&(FB.Event.unlisten(window,"popstate",FB.Dialog._hideOnPopState),FB.Event._popStateListenerOn=!1))},remove:function(a){if(a=FB.Dialog._findRoot(a)){var b=FB.Dialog._active==a;FB.Dialog._removeStacked(a),b?(FB.Dialog._hideLoader(),FB.Dialog._stack.length>0?FB.Dialog.show(FB.Dialog._stack.pop()):(FB.Dialog._lowerActive(),FB.Dialog._restoreBodyPosition(),FB.Dialog._hideIPadOverlay())):null===FB.Dialog._active&&FB.Dialog._stack.length>0&&FB.Dialog.show(FB.Dialog._stack.pop()),window.setTimeout(function(){a.parentNode.removeChild(a)},3e3)}},isActive:function(a){var b=FB.Dialog._findRoot(a);return b&&b===FB.Dialog._active}}),FB.provide("",{ui:function(a,b){if(a=FB.copy({},a),!a.method)return FB.log('"method" is a required parameter for FB.ui().'),null;if(!FB._nativeInterface){if(!("permissions.request"!=a.method&&"permissions.oauth"!=a.method||"iframe"!=a.display&&"dialog"!=a.display)){var c,d;c=a.scope,d=c.split(/\s|,/g);for(var e=0;e<d.length;e++){var f=FB.String.trim(d[e]);if(f&&!FB.initSitevars.iframePermissions[f]){a.display="popup";break}}}var g=FB.UIServer.prepareCall(a,b);if(!g)return null;var h=g.params.display;"dialog"===h?h="iframe":"none"===h&&(h="hidden");var i=FB.UIServer[h];return i?(i(g),g.dialog):(FB.log('"display" must be one of "popup", "dialog", "iframe", "touch", "async", "hidden", or "none"'),null)}switch(a.method){case"auth.login":FB._nativeInterface.login(a,b,function(a){alert("Cordova Facebook Connect plugin fail on login!"+a)});break;case"permissions.request":FB._nativeInterface.login(a,b,function(a){alert("Cordova Facebook Connect plugin fail on login!"+a)});break;case"permissions.oauth":FB._nativeInterface.login(a,b,function(a){alert("Cordova Facebook Connect plugin fail on login!"+a)});break;case"auth.logout":FB._nativeInterface.logout(b,function(){alert("Cordova Facebook Connect plugin fail on logout!")});break;case"auth.status":FB._nativeInterface.getLoginStatus(b,function(){alert("Cordova Facebook Connect plugin fail on auth.status!")});break;case"login.status":FB._nativeInterface.getLoginStatus(b,function(){alert("Cordova Facebook Connect plugin fail on auth.status!")});break;case"feed":FB._nativeInterface.dialog(a,b,function(){alert("Cordova Facebook Connect plugin fail on auth.status!")});break;case"apprequests":FB._nativeInterface.dialog(a,b,function(){alert("Cordova Facebook Connect plugin fail on auth.status!")})}}}),FB.provide("UIServer",{Methods:{},_loadedNodes:{},_defaultCb:{},_resultToken:'"xxRESULTTOKENxx"',_forceHTTPS:!1,genericTransform:function(a){return("dialog"==a.params.display||"iframe"==a.params.display)&&(a.params.display="iframe",a.params.channel=FB.UIServer._xdChannelHandler(a.id,"parent.parent")),a},prepareCall:function(a,b){var c=a.method.toLowerCase(),d=FB.copy({},FB.UIServer.Methods[c]),e=FB.guid(),f=d.noHttps!==!0&&(FB._https||"auth.status"!==c&&"login.status"!=c);FB.UIServer._forceHTTPS=f,FB.copy(a,{api_key:FB._apiKey,app_id:FB._apiKey,locale:FB._locale,sdk:"joey",access_token:f&&FB.getAccessToken()||void 0}),a.display=FB.UIServer.getDisplayMode(d,a),d.url||(d.url="dialog/"+c);var g={cb:b,id:e,size:d.size||FB.UIServer.getDefaultSize(),url:FB.getDomain(f?"https_www":"www")+d.url,forceHTTPS:f,params:a,name:c,dialog:new FB.Dialog(e)},h=d.transform?d.transform:FB.UIServer.genericTransform;if(!h||(g=h(g))){var i=d.getXdRelation||FB.UIServer.getXdRelation,j=i(g.params);return g.id in FB.UIServer._defaultCb||"next"in g.params||"redirect_uri"in g.params||(g.params.next=FB.UIServer._xdResult(g.cb,g.id,j,!0)),"parent"===j&&(g.params.channel_url=FB.UIServer._xdChannelHandler(e,"parent.parent")),g=FB.UIServer.prepareParams(g)}},prepareParams:function(a){var b=a.params.method;if(FB.Canvas.isTabIframe()||delete a.params.method,FB.TemplateUI&&FB.TemplateUI.supportsTemplate(b,a))FB.reportTemplates&&console.log("Using template for "+b+"."),FB.TemplateUI.useCachedUI(b,a);else{a.params=FB.JSON.flatten(a.params);var c=FB.QS.encode(a.params);!FB.UA.nativeApp()&&FB.UIServer.urlTooLongForIE(a.url+"?"+c)?a.post=!0:c&&(a.url+="?"+c)}return a},urlTooLongForIE:function(a){return a.length>2e3},getDisplayMode:function(a,b){return"hidden"===b.display||"none"===b.display?b.display:FB.Canvas.isTabIframe()&&"popup"!==b.display?"async":FB.UA.mobile()||"touch"===b.display?"touch":FB.getAccessToken()||"dialog"!=b.display||a.loggedOutIframe?a.connectDisplay&&!FB._inCanvas?a.connectDisplay:b.display||(FB.getAccessToken()?"dialog":"popup"):(FB.log('"dialog" mode can only be used when the user is connected.'),"popup")},getXdRelation:function(a){var b=a.display;return"popup"===b||"touch"===b?"opener":"dialog"===b||"iframe"===b||"hidden"===b||"none"===b?"parent":"async"===b?"parent.frames["+window.name+"]":void 0},popup:function(a){var b="undefined"!=typeof window.screenX?window.screenX:window.screenLeft,c="undefined"!=typeof window.screenY?window.screenY:window.screenTop,d="undefined"!=typeof window.outerWidth?window.outerWidth:document.documentElement.clientWidth,e="undefined"!=typeof window.outerHeight?window.outerHeight:document.documentElement.clientHeight-22,f=FB.UA.mobile()?null:a.size.width,g=FB.UA.mobile()?null:a.size.height,h=0>b?window.screen.width+b:b,i=parseInt(h+(d-f)/2,10),j=parseInt(c+(e-g)/2.5,10),k=[];null!==f&&k.push("width="+f),null!==g&&k.push("height="+g),k.push("left="+i),k.push("top="+j),k.push("scrollbars=1"),("permissions.request"==a.name||"permissions.oauth"==a.name)&&k.push("location=1,toolbar=0"),k=k.join(","),a.post?(FB.UIServer.setLoadedNode(a,window.open("about:blank",a.id,k),"popup"),FB.Content.submitToTarget({url:a.url,target:a.id,params:a.params})):FB.UIServer.setLoadedNode(a,window.open(a.url,a.id,k),"popup"),a.id in FB.UIServer._defaultCb&&FB.UIServer._popupMonitor()},setLoadedNode:function(a,b,c){a.params&&"popup"!=a.params.display&&(b.fbCallID=a.id),b={node:b,type:c,fbCallID:a.id},FB.UIServer._loadedNodes[a.id]=b},getLoadedNode:function(a){var b="object"==typeof a?a.id:a,c=FB.UIServer._loadedNodes[b];return c?c.node:null},hidden:function(a){a.className="FB_UI_Hidden",a.root=FB.Content.appendHidden(""),FB.UIServer._insertIframe(a)},iframe:function(a){a.className="FB_UI_Dialog";var b=function(){FB.UIServer._triggerDefault(a.id)};a.root=FB.Dialog.create({onClose:b,closeIcon:!0,classes:FB.UA.iPad()?"centered":""}),a.hideLoader||FB.Dialog.showLoader(b,a.size.width),FB.Dom.addCss(a.root,"fb_dialog_iframe"),FB.UIServer._insertIframe(a)},touch:function(a){a.params&&a.params.in_iframe?a.ui_created?FB.Dialog.showLoader(function(){FB.UIServer._triggerDefault(a.id)},0):FB.UIServer.iframe(a):FB.UA.nativeApp()&&!a.ui_created?(a.frame=a.id,FB.Native.onready(function(){FB.UIServer.setLoadedNode(a,FB.Native.open(a.url+"#cb="+a.frameName))}),FB.UIServer._popupMonitor()):a.ui_created||FB.UIServer.popup(a)},async:function(a){a.frame=window.name,delete a.url,delete a.size,FB.Arbiter.inform("showDialog",a)},getDefaultSize:function(){if(FB.UA.mobile()){if(FB.UA.iPad())return{width:500,height:590};if(FB.UA.android())return{width:screen.availWidth,height:screen.availHeight};var a=window.innerWidth,b=window.innerHeight,c=a/b>1.2;return{width:a,height:Math.max(b,c?screen.width:screen.height)}}return{width:575,height:240}},_insertIframe:function(a){FB.UIServer._loadedNodes[a.id]=!1;var b=function(b){a.id in FB.UIServer._loadedNodes&&FB.UIServer.setLoadedNode(a,b,"iframe")};FB.Content.insertIframe(a.post?{url:"about:blank",root:a.root,className:a.className,width:a.size.width,height:a.size.height,id:a.id,onInsert:b,onload:function(b){FB.Content.submitToTarget({url:a.url,target:b.name,params:a.params})}}:{url:a.url,root:a.root,className:a.className,width:a.size.width,height:a.size.height,id:a.id,name:a.frameName,onInsert:b})},_handleResizeMessage:function(a,b){var c=FB.UIServer.getLoadedNode(a);c&&(b.height&&(c.style.height=b.height+"px"),b.width&&(c.style.width=b.width+"px"),FB.Arbiter.inform("resize.ack",b||{},"parent.frames["+c.name+"]",!0),FB.Dialog.isActive(c)||FB.Dialog.show(c))},_triggerDefault:function(a){FB.UIServer._xdRecv({frame:a},FB.UIServer._defaultCb[a]||function(){})},_popupMonitor:function(){var a;for(var b in FB.UIServer._loadedNodes)if(FB.UIServer._loadedNodes.hasOwnProperty(b)&&b in FB.UIServer._defaultCb){var c=FB.UIServer._loadedNodes[b];if("popup"!=c.type)continue;win=c.node;try{win.closed?FB.UIServer._triggerDefault(b):a=!0}catch(d){}}a&&!FB.UIServer._popupInterval?FB.UIServer._popupInterval=window.setInterval(FB.UIServer._popupMonitor,100):!a&&FB.UIServer._popupInterval&&(window.clearInterval(FB.UIServer._popupInterval),FB.UIServer._popupInterval=null)},_xdChannelHandler:function(a,b){var c=FB.UIServer._forceHTTPS&&7!==FB.UA.ie();return FB.XD.handler(function(b){var c=FB.UIServer.getLoadedNode(a);if(c)if("resize"==b.type)FB.UIServer._handleResizeMessage(a,b);else if("hide"==b.type)FB.Dialog.hide(c);else if("rendered"==b.type){var d=FB.Dialog._findRoot(c);FB.Dialog.show(d)}else"fireevent"==b.type&&FB.Event.fire(b.event)},b,!0,null,c)},_xdNextHandler:function(a,b,c,d){return d&&(FB.UIServer._defaultCb[b]=a),FB.XD.handler(function(b){FB.UIServer._xdRecv(b,a)},c)+"&frame="+b},_xdRecv:function(a,b){var c=FB.UIServer.getLoadedNode(a.frame);if(c){try{FB.Dom.containsCss(c,"FB_UI_Hidden")?window.setTimeout(function(){c.parentNode.parentNode.removeChild(c.parentNode)},3e3):FB.Dom.containsCss(c,"FB_UI_Dialog")&&(FB.Dialog.remove(c),FB.TemplateUI&&FB.UA.mobile()&&FB.TemplateUI.populateCache())}catch(d){}try{c.close&&(c.close(),FB.UIServer._popupCount--)}catch(e){}}delete FB.UIServer._loadedNodes[a.frame],delete FB.UIServer._defaultCb[a.frame],b(a)},_xdResult:function(a,b,c,d){return FB.UIServer._xdNextHandler(function(b){a&&a(b.result&&b.result!=FB.UIServer._resultToken&&FB.JSON.parse(b.result))},b,c,d)+"&result="+encodeURIComponent(FB.UIServer._resultToken)}}),FB.provide("",{getLoginStatus:function(a,b){if(!FB._apiKey)return void FB.log("FB.getLoginStatus() called before calling FB.init().");if(a){if(!b&&"loaded"==FB.Auth._loadState)return void a({status:FB._userStatus,authResponse:FB._authResponse});FB.Event.subscribe("FB.loginStatus",a)}if(b||"loading"!=FB.Auth._loadState){FB.Auth._loadState="loading";var c=function(a){FB.Auth._loadState="loaded",FB.Event.fire("FB.loginStatus",a),FB.Event.clear("FB.loginStatus")};FB.Auth.fetchLoginStatus(c)}},getAuthResponse:function(){return FB._authResponse},getAccessToken:function(){return FB._authResponse&&FB._authResponse.accessToken||null},getUserID:function(){return FB._userID},login:function(a,b){b&&b.perms&&!b.scope&&(b.scope=b.perms,delete b.perms,FB.log("OAuth2 specification states that 'perms' should now be called 'scope'.  Please update.")),FB.ui(FB.copy({method:"permissions.oauth",display:"popup",domain:location.hostname},b||{}),a)},logout:function(a){FB.ui({method:"auth.logout",display:"hidden"},a)}}),FB.provide("Auth",{_callbacks:[],_xdStorePath:"xd_localstorage/",fetchLoginStatus:function(a){FB.UA.mobile()&&window.postMessage&&window.localStorage&&!FB._nativeInterface?FB.Auth.staticAuthCheck(a):FB.ui({method:"login.status",display:"none",domain:location.hostname},a)},staticAuthCheck:function(a){var b=FB.getDomain("https_staticfb");FB.Content.insertIframe({root:FB.Content.appendHidden(""),className:"FB_UI_Hidden",url:b+FB.Auth._xdStorePath,onload:function(c){var d=frames[c.name],e=FB.guid(),f=!1,g=function(b){f||(f=!0,FB.Auth._staticAuthHandler(a,b))};FB.XD.handler(g,"parent",!0,e),setTimeout(g,500),d.postMessage(FB.JSON.stringify({method:"getItem",params:["LoginInfo_"+FB._apiKey,!0],returnCb:e}),b)}})},_staticAuthHandler:function(a,b){if(b&&b.data&&b.data.status&&"connected"==b.data.status){var c,d=b.data.status;1==b.data.https&&(FB._https=!0);var e=b.data.authResponse||null;c=FB.Auth.setAuthResponse(e,d),a&&a(c)}else FB.ui({method:"login.status",display:"none"},a)},setAuthResponse:function(a,b){var c=0;if(a)if(a.userID)c=a.userID;else if(a.signedRequest){var d=FB.Auth.parseSignedRequest(a.signedRequest);d&&d.user_id&&(c=d.user_id)}var e=!FB._userID&&a,f=FB._userID&&!a,g=a&&FB._userID!=c,h=e||f||g,i=b!=FB._userStatus,j={authResponse:a,status:b};return FB._authResponse=a,FB._userID=c,FB._userStatus=b,(f||g)&&FB.Event.fire("auth.logout",j),(e||g)&&FB.Event.fire("auth.login",j),h&&FB.Event.fire("auth.authResponseChange",j),i&&FB.Event.fire("auth.statusChange",j),FB.Auth._refreshTimer&&(window.clearTimeout(FB.Auth._refreshTimer),delete FB.Auth._refreshTimer),FB.Auth._loadState&&a&&(FB.Auth._refreshTimer=window.setTimeout(function(){FB.getLoginStatus(null,!0)},12e5)),j},_getContextType:function(){return FB.UA.nativeApp()?3:FB.UA.mobile()?2:FB._inCanvas?5:1},xdHandler:function(a,b,c,d,e){return FB.UIServer._xdNextHandler(FB.Auth.xdResponseWrapper(a,d,e),b,c,!0)},xdResponseWrapper:function(a,b,c){return function(d){if(d.access_token){var e=FB.Auth.parseSignedRequest(d.signed_request);if(b={accessToken:d.access_token,userID:e.user_id,expiresIn:parseInt(d.expires_in,10),signedRequest:d.signed_request},FB.Cookie.getEnabled()){var f=0===b.expiresIn?0:(new Date).getTime()+1e3*b.expiresIn,g=FB.Cookie._domain;!g&&d.base_domain&&(g="."+d.base_domain),FB.Cookie.setSignedRequestCookie(d.signed_request,f,g)}FB.Auth.setAuthResponse(b,"connected")}else if(!FB._authResponse&&b)FB.Auth.setAuthResponse(b,"connected");else if(!b||"permissions.oauth"!=c){var h;h=d.error&&"not_authorized"===d.error?"not_authorized":"unknown",FB.Auth.setAuthResponse(null,h),FB.Cookie.getEnabled()&&FB.Cookie.clearSignedRequestCookie()}d&&1==d.https&&!FB._https&&(FB._https=!0),response={authResponse:FB._authResponse,status:FB._userStatus},a&&a(response)}},parseSignedRequest:function(a){if(!a)return null;var b=a.split(".",2),c=b[1],d=FB.Auth.base64URLDecode(c);return FB.JSON.parse(d)},base64URLDecode:function(a){if(a=a.replace(/\-/g,"+").replace(/\_/g,"/"),a.length%4!==0)for(var b=4-a.length%4,c=0;b>c;c++)a+="=";for(var d,e,f,g,h,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",j="",k="",l="",m=0;m<a.length;m+=4)f=i.indexOf(a.charAt(m)),g=i.indexOf(a.charAt(m+1)),h=i.indexOf(a.charAt(m+2)),l=i.indexOf(a.charAt(m+3)),d=f<<2|g>>4,e=(15&g)<<4|h>>2,k=(3&h)<<6|l,j+=String.fromCharCode(d),64!=h&&(j+=String.fromCharCode(e)),64!=l&&(j+=String.fromCharCode(k)),d=e=k="",f=g=h=l="";return unescape(j)}}),FB.provide("UIServer.Methods",{"permissions.oauth":{url:"dialog/oauth",size:{width:FB.UA.mobile()?null:627,height:FB.UA.mobile()?null:326},transform:function(a){if(!FB._apiKey)return void FB.log("FB.login() called before FB.init().");if(FB._authResponse&&!a.params.scope)return FB.log("FB.login() called when user is already connected."),void(a.cb&&a.cb({status:FB._userStatus,authResponse:FB._authResponse}));var b=a.cb,c=a.id;return delete a.cb,FB.copy(a.params,{client_id:FB._apiKey,redirect_uri:FB.URI.resolve(FB.Auth.xdHandler(b,c,"opener",FB._authResponse,"permissions.oauth")),origin:FB.Auth._getContextType(),response_type:"token,signed_request",domain:location.hostname}),a}},"auth.logout":{url:"logout.php",transform:function(a){if(FB._apiKey){if(FB._authResponse)return a.params.next=FB.Auth.xdHandler(a.cb,a.id,"parent",FB._authResponse),a;FB.log("FB.logout() called without an access token.")}else FB.log("FB.logout() called before calling FB.init().")}},"login.status":{url:"dialog/oauth",transform:function(a){var b=a.cb,c=a.id;return delete a.cb,FB.copy(a.params,{client_id:FB._apiKey,redirect_uri:FB.Auth.xdHandler(b,c,"parent",FB._authResponse),origin:FB.Auth._getContextType(),response_type:"token,signed_request,code",domain:location.hostname}),a}}}),FB.provide("CanvasInsights",{setDoneLoading:function(a){FB.Canvas.setDoneLoading(a)}}),FB.provide("Cookie",{_domain:null,_enabled:!1,setEnabled:function(a){FB.Cookie._enabled=!!a,"string"==typeof a&&(FB.Cookie._domain=a)},getEnabled:function(){return FB.Cookie._enabled},loadMeta:function(){var a,b=document.cookie.match("\\bfbm_"+FB._apiKey+"=([^;]*)\\b");return b&&(a=FB.QS.decode(b[1]),FB.Cookie._domain||(FB.Cookie._domain=a.base_domain)),a},loadSignedRequest:function(){var a=document.cookie.match("\\bfbsr_"+FB._apiKey+"=([^;]*)\\b");return a?a[1]:null},setSignedRequestCookie:function(a,b,c){if(!a)throw new Error("Value passed to FB.Cookie.setSignedRequestCookie was empty.");if(FB.Cookie.getEnabled()){if(c){var d=FB.QS.encode({base_domain:c});FB.Cookie.setRaw("fbm_",d,b,c)}FB.Cookie._domain=c,FB.Cookie.setRaw("fbsr_",a,b,c)}},clearSignedRequestCookie:function(){FB.Cookie.getEnabled()&&FB.Cookie.setRaw("fbsr_","",0,FB.Cookie._domain)},setRaw:function(a,b,c,d){d&&(document.cookie=a+FB._apiKey+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;",document.cookie=a+FB._apiKey+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;domain="+location.hostname+";");var e=new Date(c).toGMTString();document.cookie=a+FB._apiKey+"="+b+(b&&0===c?"":"; expires="+e)+"; path=/"+(d?"; domain="+d:"")}}),FB.provide("Frictionless",{_allowedRecipients:{},_useFrictionless:!1,_updateRecipients:function(){FB.Frictionless._allowedRecipients={},FB.api("/me/apprequestformerrecipients",function(a){a&&!a.error&&FB.Array.forEach(a.data,function(a){FB.Frictionless._allowedRecipients[a.recipient_id]=!0},!1)})},init:function(){FB.Frictionless._useFrictionless=!0,FB.getLoginStatus(function(a){"connected"==a.status&&FB.Frictionless._updateRecipients()}),FB.Event.subscribe("auth.login",function(a){a.authResponse&&FB.Frictionless._updateRecipients()})},_processRequestResponse:function(a,b){return function(c){var d=c&&c.updated_frictionless;FB.Frictionless._useFrictionless&&d&&FB.Frictionless._updateRecipients(),c&&(!b&&c.frictionless&&(FB.Dialog._hideLoader(),FB.Dialog._restoreBodyPosition(),FB.Dialog._hideIPadOverlay()),delete c.frictionless,delete c.updated_frictionless),a&&a(c)}},isAllowed:function(a){if(!a)return!1;if("number"==typeof a)return FB.Frictionless._allowedRecipients[a];"string"==typeof a&&(a=a.split(",")),a=FB.Array.map(a,FB.String.trim);var b=!0,c=!1;return FB.Array.forEach(a,function(a){b=b&&FB.Frictionless._allowedRecipients[a],c=!0},!1),b&&c}}),FB.provide("Canvas.Prefetcher",{_sampleRate:0,_appIdsBlacklist:[],_links:[],COLLECT_AUTOMATIC:0,COLLECT_MANUAL:1,_collectionMode:0,addStaticResource:function(a){FB._inCanvas&&FB._apiKey&&FB.Canvas.Prefetcher._links.push(a)},setCollectionMode:function(a){return FB._inCanvas&&FB._apiKey?a!=FB.Canvas.Prefetcher.COLLECT_AUTOMATIC&&a!=FB.Canvas.Prefetcher.COLLECT_MANUAL?!1:void(FB.Canvas.Prefetcher._collectionMode=a):!1},_maybeSample:function(){if(FB._inCanvas&&FB._apiKey&&FB.Canvas.Prefetcher._sampleRate){var a=Math.random();a>1/FB.Canvas.Prefetcher._sampleRate||"*"!=FB.Canvas.Prefetcher._appIdsBlacklist&&-1==FB.Array.indexOf(FB.Canvas.Prefetcher._appIdsBlacklist,parseInt(FB._apiKey,10))&&window.setTimeout(FB.Canvas.Prefetcher._sample,3e4)}},_sample:function(){var a={object:"data",link:"href",script:"src"};FB.Canvas.Prefetcher._collectionMode==FB.Canvas.Prefetcher.COLLECT_AUTOMATIC&&FB.Array.forEach(a,function(a,b){FB.Array.forEach(window.document.getElementsByTagName(b),function(b){b[a]&&FB.Canvas.Prefetcher._links.push(b[a])})});var b=FB.JSON.stringify(FB.Canvas.Prefetcher._links);FB.api(FB._apiKey+"/staticresources","post",{urls:b,is_https:FB._https}),FB.Canvas.Prefetcher._links=[]}}),FB.provide("Canvas.EarlyFlush",{addResource:function(a){return FB.Canvas.Prefetcher.addStaticResource(a)},setCollectionMode:function(a){return FB.Canvas.Prefetcher.setCollectionMode(a)}}),FB.provide("",{initSitevars:{},init:function(a){if(a=FB.copy(a||{},{logging:!0,status:!0}),FB._userID=0,FB._apiKey=a.appId||a.apiKey,FB._nativeInterface=a.nativeInterface,FB._nativeInterface&&FB._nativeInterface.init(FB._apiKey,function(){alert("Cordova Facebook Connect plugin fail on init!")}),!a.logging&&window.location.toString().indexOf("fb_debug=1")<0&&(FB._logging=!1),FB.XD.init(a.channelUrl),FB.UA.mobile()&&FB.TemplateUI&&FB.TemplateData&&FB.TemplateData._enabled&&a.useCachedDialogs!==!1&&(FB.TemplateUI.init(),FB.Event.subscribe("auth.statusChange",FB.TemplateData.update)),a.reportTemplates&&(FB.reportTemplates=!0),a.frictionlessRequests&&FB.Frictionless.init(),FB._apiKey){if(FB.Cookie.setEnabled(a.cookie),a.authResponse)FB.Auth.setAuthResponse(a.authResponse,"connected");else{var b=FB.Cookie.loadSignedRequest(),c=FB.Auth.parseSignedRequest(b);FB._userID=c&&c.user_id||0,FB.Cookie.loadMeta()}a.status&&FB.getLoginStatus()}FB._inCanvas&&(FB.Canvas._setHideFlashCallback(a.hideFlashCallback),FB.Canvas.init()),FB.Event.subscribe("xfbml.parse",function(){FB.XFBML.IframeWidget.batchWidgetPipeRequests()}),a.xfbml&&window.setTimeout(function(){if(FB.XFBML)if(FB.initSitevars.parseXFBMLBeforeDomReady){FB.XFBML.parse();var a=window.setInterval(function(){FB.XFBML.parse()},100);FB.Dom.ready(function(){window.clearInterval(a),FB.XFBML.parse()})}else FB.Dom.ready(FB.XFBML.parse)},0),FB.Canvas&&FB.Canvas.Prefetcher&&FB.Canvas.Prefetcher._maybeSample()}}),FB.provide("UIServer.MobileIframableMethod",{transform:function(a){return"touch"===a.params.display&&a.params.access_token&&window.postMessage?(a.params.channel=FB.UIServer._xdChannelHandler(a.id,"parent"),FB.UA.nativeApp()||(a.params.in_iframe=1),a):FB.UIServer.genericTransform(a)},getXdRelation:function(a){var b=a.display;return"touch"===b&&window.postMessage&&a.in_iframe?"parent":FB.UIServer.getXdRelation(a)}}),FB.provide("UIServer.Methods",{"stream.share":{size:{width:650,height:340},url:"sharer.php",transform:function(a){return a.params.u||(a.params.u=window.location.toString()),a}},"fbml.dialog":{size:{width:575,height:300},url:"render_fbml.php",loggedOutIframe:!0,transform:function(a){return a}},"auth.logintofacebook":{size:{width:530,height:287},url:"login.php",transform:function(a){a.params.skip_api_login=1;var b=FB.UIServer.getXdRelation(a.params),c=FB.UIServer._xdResult(a.cb,a.id,b,!0);return a.params.next=FB.getDomain(FB._https?"https_www":"www")+"login.php?"+FB.QS.encode({api_key:FB._apiKey,next:c,skip_api_login:1}),a}},apprequests:{transform:function(a){return a=FB.UIServer.MobileIframableMethod.transform(a),a.params.frictionless=FB.Frictionless&&FB.Frictionless._useFrictionless,a.params.frictionless&&(FB.Frictionless.isAllowed(a.params.to)&&(a.params.in_iframe=!0,a.hideLoader=!0),a.cb=FB.Frictionless._processRequestResponse(a.cb,a.hideLoader)),a},getXdRelation:function(a){return FB.UIServer.MobileIframableMethod.getXdRelation(a)}},feed:FB.UIServer.MobileIframableMethod}),FB.provide("",{share:function(a){FB.log("FB.share() has been deprecated. Please use FB.ui() instead."),FB.ui({display:"popup",method:"stream.share",u:a})},publish:function(a,b){FB.log("FB.publish() has been deprecated. Please use FB.ui() instead."),a=a||{},FB.ui(FB.copy({display:"popup",method:"stream.publish",preview:1},a||{}),b)},addFriend:function(a,b){FB.log("FB.addFriend() has been deprecated. Please use FB.ui() instead."),FB.ui({display:"popup",id:a,method:"friend.add"},b)}}),FB.UIServer.Methods["auth.login"]=FB.UIServer.Methods["permissions.request"],FB.provide("XFBML",{_renderTimeout:3e4,getElements:function(a,b,c){var d=FB.Array,e=FB.XFBML._getDomElements(a,b,c),f=FB.Dom.getByClass(b+"-"+c,a,"div");return e=d.toArray(e),f=d.toArray(f),f=d.filter(f,function(a){return!a.hasChildNodes()||1===a.childNodes.length&&3===a.childNodes[0].nodeType}),d.merge(e,f)},parse:function(a,b){a=a||document.body;var c=1,d=function(){c--,0===c&&(b&&b(),FB.Event.fire("xfbml.render"))},e={};FB.XFBML._widgetPipeIsEnabled()&&FB.Array.forEach(FB.XFBML._tagInfos,function(b){if(b.supportsWidgetPipe){var c=b.xmlns?b.xmlns:"fb",d=FB.XFBML.getElements(a,c,b.localName);e[b.localName]=d,FB.XFBML._widgetPipeEnabledTagCount+=d.length}}),FB.Array.forEach(FB.XFBML._tagInfos,function(b){b.xmlns||(b.xmlns="fb");var f;f=void 0!==e[b.localName]?e[b.localName]:FB.XFBML.getElements(a,b.xmlns,b.localName);for(var g=0;g<f.length;g++)c++,FB.XFBML._processElement(f[g],b,d)}),FB.Event.fire("xfbml.parse"),window.setTimeout(function(){c>0&&FB.log(c+" XFBML tags failed to render in "+FB.XFBML._renderTimeout+"ms.")},FB.XFBML._renderTimeout),d()},registerTag:function(a){FB.XFBML._tagInfos.push(a)},shouldUseWidgetPipe:function(){if(!FB.XFBML._widgetPipeIsEnabled())return!1;var a=FB.XFBML._widgetPipeEnabledTagCount>1;return a},getBoolAttr:function(a,b){return b=FB.XFBML.getAttr(a,b),b&&FB.Array.indexOf(["true","1","yes","on"],b.toLowerCase())>-1},getAttr:function(a,b){return a.getAttribute(b)||a.getAttribute(b.replace(/_/g,"-"))||a.getAttribute(b.replace(/-/g,"_"))||a.getAttribute(b.replace(/-/g,""))||a.getAttribute(b.replace(/_/g,""))||a.getAttribute("data-"+b)||a.getAttribute("data-"+b.replace(/_/g,"-"))||a.getAttribute("data-"+b.replace(/-/g,"_"))||a.getAttribute("data-"+b.replace(/-/g,""))||a.getAttribute("data-"+b.replace(/_/g,""))||null
},_processElement:function(dom,tagInfo,cb){var element=dom._element;if(element)element.subscribe("render",cb),element.process();else{var processor=function(){var fn=eval(tagInfo.className),isLogin=!1,showFaces=!0,showLoginFace=!1,renderInIframe=!1,addToTimeline="FB.XFBML.AddToTimeline"===tagInfo.className;if(("FB.XFBML.LoginButton"===tagInfo.className||addToTimeline)&&(renderInIframe=FB.XFBML.getBoolAttr(dom,"render-in-iframe"),mode=FB.XFBML.getAttr(dom,"mode"),showFaces=addToTimeline&&"button"!=mode||FB.XFBML.getBoolAttr(dom,"show-faces"),showLoginFace=FB.XFBML.getBoolAttr(dom,"show-login-face"),isLogin=addToTimeline||renderInIframe||showFaces||showLoginFace||FB.XFBML.getBoolAttr(dom,"oneclick"),isLogin&&!addToTimeline&&(fn=FB.XFBML.Login)),element=dom._element=new fn(dom),isLogin){showFaces=!!showFaces,showLoginFace=!!showLoginFace;var extraParams={show_faces:showFaces,show_login_face:showLoginFace,add_to_profile:addToTimeline,mode:mode},scope=FB.XFBML.getAttr(dom,"scope")||FB.XFBML.getAttr(dom,"perms");scope&&(extraParams.scope=scope),element.setExtraParams(extraParams)}element.subscribe("render",cb),element.process()};FB.CLASSES[tagInfo.className.substr(3)]?processor():FB.log("Tag "+tagInfo.className+" was not found.")}},_getDomElements:function(a,b,c){var d=b+":"+c;if(FB.UA.firefox())return a.getElementsByTagNameNS(document.body.namespaceURI,d);if(FB.UA.ie()<9){try{var e=document.namespaces;if(e&&e[b]){var f=a.getElementsByTagName(c);if(!document.addEventListener||f.length>0)return f}}catch(g){}return a.getElementsByTagName(d)}return a.getElementsByTagName(d)},_tagInfos:[{localName:"activity",className:"FB.XFBML.Activity"},{localName:"add-profile-tab",className:"FB.XFBML.AddProfileTab"},{localName:"add-to-timeline",className:"FB.XFBML.AddToTimeline"},{localName:"bookmark",className:"FB.XFBML.Bookmark"},{localName:"comments",className:"FB.XFBML.Comments"},{localName:"comments-count",className:"FB.XFBML.CommentsCount"},{localName:"connect-bar",className:"FB.XFBML.ConnectBar"},{localName:"fan",className:"FB.XFBML.Fan"},{localName:"like",className:"FB.XFBML.Like",supportsWidgetPipe:!0},{localName:"like-box",className:"FB.XFBML.LikeBox"},{localName:"live-stream",className:"FB.XFBML.LiveStream"},{localName:"login",className:"FB.XFBML.Login"},{localName:"login-button",className:"FB.XFBML.LoginButton"},{localName:"facepile",className:"FB.XFBML.Facepile"},{localName:"friendpile",className:"FB.XFBML.Friendpile"},{localName:"name",className:"FB.XFBML.Name"},{localName:"profile-pic",className:"FB.XFBML.ProfilePic"},{localName:"question",className:"FB.XFBML.Question"},{localName:"recommendations",className:"FB.XFBML.Recommendations"},{localName:"recommendations-bar",className:"FB.XFBML.RecommendationsBar"},{localName:"registration",className:"FB.XFBML.Registration"},{localName:"send",className:"FB.XFBML.Send"},{localName:"serverfbml",className:"FB.XFBML.ServerFbml"},{localName:"share-button",className:"FB.XFBML.ShareButton"},{localName:"social-context",className:"FB.XFBML.SocialContext"},{localName:"subscribe",className:"FB.XFBML.Subscribe"}],_widgetPipeEnabledTagCount:0,_widgetPipeIsEnabled:function(){return FB.widgetPipeEnabledApps&&void 0!==FB.widgetPipeEnabledApps[FB._apiKey]}}),function(){try{document.namespaces&&!document.namespaces.item.fb&&document.namespaces.add("fb")}catch(a){}}(),FB.provide("XFBML",{set:function(a,b,c){FB.log("FB.XFBML.set() has been deprecated."),a.innerHTML=b,FB.XFBML.parse(a,c)}}),FB.subclass("Waitable","Obj",function(){},{set:function(a){this.setProperty("value",a)},error:function(a){this.fire("error",a)},wait:function(a,b){b&&this.subscribe("error",b),this.monitor("value",this.bind(function(){return void 0!==this.value?(a(this.value),!0):void 0}))}}),FB.subclass("Data.Query","Waitable",function(){FB.Data.Query._c||(FB.Data.Query._c=1),this.name="v_"+FB.Data.Query._c++},{parse:function(a){var b=FB.String.format.apply(null,a),c=/^select (.*?) from (\w+)\s+where (.*)$/i.exec(b);this.fields=this._toFields(c[1]),this.table=c[2],this.where=this._parseWhere(c[3]);for(var d=1;d<a.length;d++)FB.Type.isType(a[d],FB.Data.Query)&&(a[d].hasDependency=!0);return this},toFql:function(){var a="select "+this.fields.join(",")+" from "+this.table+" where ";switch(this.where.type){case"unknown":a+=this.where.value;break;case"index":a+=this.where.key+"="+this._encode(this.where.value);break;case"in":a+=1==this.where.value.length?this.where.key+"="+this._encode(this.where.value[0]):this.where.key+" in ("+FB.Array.map(this.where.value,this._encode).join(",")+")"}return a},_encode:function(a){return"string"==typeof a?FB.String.quote(a):a},toString:function(){return"#"+this.name},_toFields:function(a){return FB.Array.map(a.split(","),FB.String.trim)},_parseWhere:function(s){var re=/^\s*(\w+)\s*=\s*(.*)\s*$/i.exec(s),result,value,type="unknown";return re&&(value=re[2],/^(["'])(?:\\?.)*?\1$/.test(value)?(value=eval(value),type="index"):/^\d+\.?\d*$/.test(value)&&(type="index")),result="index"==type?{type:"index",key:re[1],value:value}:{type:"unknown",value:s}}}),FB.provide("Data",{query:function(){var a=(new FB.Data.Query).parse(arguments);return FB.Data.queue.push(a),FB.Data._waitToProcess(),a},waitOn:function(dependencies,callback){var result=new FB.Waitable,count=dependencies.length;if("string"==typeof callback){var s=callback;callback=function(args){return eval(s)}}return FB.Array.forEach(dependencies,function(a){a.monitor("value",function(){var b=!1;if(void 0!==FB.Data._getValue(a)&&(count--,b=!0),0===count){var c=callback(FB.Array.map(dependencies,FB.Data._getValue));result.set(void 0!==c?c:!0)}return b})}),result},_getValue:function(a){return FB.Type.isType(a,FB.Waitable)?a.value:a},_selectByIndex:function(a,b,c,d){var e=new FB.Data.Query;return e.fields=a,e.table=b,e.where={type:"index",key:c,value:d},FB.Data.queue.push(e),FB.Data._waitToProcess(),e},_waitToProcess:function(){FB.Data.timer<0&&(FB.Data.timer=setTimeout(FB.Data._process,10))},_process:function(){FB.Data.timer=-1;var a={},b=FB.Data.queue;FB.Data.queue=[];for(var c=0;c<b.length;c++){var d=b[c];"index"!=d.where.type||d.hasDependency?a[d.name]=d:FB.Data._mergeIndexQuery(d,a)}var e={q:{}};FB.copy(e.q,a,!0,function(a){return a.toFql()}),e.queries=FB.JSON.stringify(e.queries),FB.api("/fql","GET",e,function(b){b.error?FB.Array.forEach(a,function(a){a.error(new Error(b.error.message))}):FB.Array.forEach(b.data,function(b){a[b.name].set(b.fql_result_set)})})},_mergeIndexQuery:function(a,b){var c=a.where.key,d=a.where.value,e="index_"+a.table+"_"+c,f=b[e];f||(f=b[e]=new FB.Data.Query,f.fields=[c],f.table=a.table,f.where={type:"in",key:c,value:[]}),FB.Array.merge(f.fields,a.fields),FB.Array.merge(f.where.value,[d]),f.wait(function(b){a.set(FB.Array.filter(b,function(a){return a[c]==d}))})},timer:-1,queue:[]}),window.setTimeout(function(){var a=/(connect.facebook.net|facebook.com\/assets.php).*?#(.*)/;FB.Array.forEach(document.getElementsByTagName("script"),function(b){if(b.src){var c=a.exec(b.src);if(c){var d=FB.QS.decode(c[2]);FB.Array.forEach(d,function(a,b){"0"==a&&(d[b]=0)}),d.oauth=!0,FB.init(d)}}}),window.fbAsyncInit&&!window.fbAsyncInit.hasRun&&(window.fbAsyncInit.hasRun=!0,fbAsyncInit())},0),FB.provide("Native",{NATIVE_READY_EVENT:"fbNativeReady",onready:function(a){if(!FB.UA.nativeApp())return void FB.log("FB.Native.onready only works when the page is rendered in a WebView of the native Facebook app. Test if this is the case calling FB.UA.nativeApp()");if(window.__fbNative&&!this.nativeReady&&FB.provide("Native",window.__fbNative),this.nativeReady)a();else{var b=function(){window.removeEventListener(FB.Native.NATIVE_READY_EVENT,b),FB.Native.onready(a)};window.addEventListener(FB.Native.NATIVE_READY_EVENT,b,!1)}}}),FB.provide("UIServer.Methods",{"pay.prompt":{transform:function(a){var b=FB.XD.handler(function(b){a.cb(FB.JSON.parse(b.response))},"parent.frames["+(window.name||"iframe_canvas")+"]");return a.params.channel=b,FB.Arbiter.inform("Pay.Prompt",a.params),!1}}}),FB.provide("UIServer.Methods",{pay:{size:{width:555,height:120},noHttps:!0,connectDisplay:"popup",transform:function(a){if(!FB._inCanvas)return a.params.order_info=FB.JSON.stringify(a.params.order_info),a;var b=FB.XD.handler(function(b){a.cb(FB.JSON.parse(b.response))},"parent.frames["+(window.name||"iframe_canvas")+"]");return a.params.channel=b,a.params.uiserver=!0,FB.Arbiter.inform("Pay.Prompt",a.params),!1}}}),FB.provide("Helper",{isUser:function(a){return 22e8>a||a>=1e14&&0x5b0a58f100ef>=a||a>=89e12&&89999999999999>=a},getLoggedInUser:function(){return FB.getUserID()},upperCaseFirstChar:function(a){return a.length>0?a.substr(0,1).toUpperCase()+a.substr(1):a},getProfileLink:function(a,b,c){return c=c||(a?FB.getDomain("www")+"profile.php?id="+a.uid:null),c&&(b='<a class="fb_link" href="'+c+'">'+b+"</a>"),b},invokeHandler:function(handler,scope,args){handler&&("string"==typeof handler?eval(handler):handler.apply&&handler.apply(scope,args||[]))},fireEvent:function(a,b){var c=b._attr.href;b.fire(a,c),FB.Event.fire(a,c,b)},executeFunctionByName:function(a){for(var b=Array.prototype.slice.call(arguments,1),c=a.split("."),d=c.pop(),e=window,f=0;f<c.length;f++)e=e[c[f]];return e[d].apply(this,b)}}),FB.provide("TemplateData",{_initialized:!1,_version:0,_response:null,_localStorageTimeout:86400,_enabled:!0,enabled:function(){return FB.TemplateData._enabled&&FB.TemplateData._initialized&&FB.TemplateData.supportsLocalStorage()&&"connected"==FB._userStatus&&FB.TemplateData.getResponse()},supportsLocalStorage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return!1}},_isStale:function(a){if(!a||!a.version||a.version!=FB.TemplateData._version||a.currentUserID!=FB.getUserID())return!0;var b=Math.round((new Date).getTime());return(b-a.setAt)/1e3>FB.TemplateData._localStorageTimeout},getResponse:function(){var a=FB.TemplateData;try{a._response=a._response||a.supportsLocalStorage()&&FB.JSON.parse(localStorage.FB_templateDataResponse||"null")}catch(b){a._response=null}return a._isStale(a._response)&&a.saveResponse(null),a._response},saveResponse:function(a){FB.TemplateData._response=a,FB.TemplateData.supportsLocalStorage()&&(localStorage.FB_templateDataResponse=FB.JSON.stringify(a))},getData:function(){var a=FB.TemplateData.getResponse();return a?a.data:{}},init:function(a){a&&(FB.TemplateData._initialized=!0,FB.TemplateData._version=a,!FB.TemplateData.supportsLocalStorage()||"FB_templateDataResponse"in localStorage||FB.TemplateData.clear())},clear:function(){FB.TemplateData.saveResponse(null)},update:function(){"connected"!=FB._userStatus&&FB.TemplateData.clear(),"connected"!=FB._userStatus||FB.TemplateData.getResponse()||FB.api({method:"dialog.template_data"},function(a){if(!("error_code"in a)){var b={data:a,currentUserID:FB.getUserID(),setAt:(new Date).getTime(),version:FB.TemplateData._version};FB.TemplateData.saveResponse(b)}})}}),FB.subclass("TemplateUI","Obj",function(a,b){this.method=a;var c=FB.UA.nativeApp()?0:1,d={display:"touch",preview_template:1,in_iframe:c,locale:FB._locale,v:FB.TemplateUI._version,user_agent:navigator.userAgent};window.devicePixelRatio&&(d.m_pixel_ratio=window.devicePixelRatio);var e=FB.QS.encode(d);if(this.cachedCall={url:FB.getDomain("staticfb")+"dialog/"+a+"?"+e,frameName:FB.guid(),id:FB.guid(),size:FB.UIServer.getDefaultSize(),hideLoader:!0},FB.XD.handler(this.bind(function(a){"getParams"==a.type&&this.setProperty("getParamsCb",a.returnCb)}),"parent",!0,this.cachedCall.frameName),c)FB.UIServer.iframe(this.cachedCall),FB.Dialog.hide(this.cachedCall.root);else if(b&&!FB.TemplateUI._preloads[this.cachedCall.url]){var f=document.createElement("div");FB.TemplateUI._preloads[this.cachedCall.url]={container:f},FB.Content.insertIframe({url:this.cachedCall.url,root:FB.Content.appendHidden(f)})}},{use:function(a){if(!this.cachedCall.root){FB.UIServer.touch(this.cachedCall);var b=FB.TemplateUI._preloads[this.cachedCall.url];b&&b.container&&(b.container.parentNode.removeChild(b.container),delete b.container)}a.ui_created=!0,a.root=this.cachedCall.root,FB.UIServer.setLoadedNode(a,FB.UIServer.getLoadedNode(this.cachedCall.id)),delete FB.UIServer._loadedNodes[this.cachedCall.id];var c=FB.Dialog._dialogs[a.id];FB.Dialog._dialogs[this.cachedCall.id]=c,c.id=this.cachedCall.id,delete FB.Dialog._dialogs[a.id],FB.UIServer.getLoadedNode(a).fbCallID=this.cachedCall.id,this.cachedCall.id=a.id;var d={};FB.copy(d,a.params),FB.copy(d,FB.TemplateData.getData()[this.method]),d.frictionless=FB.TemplateUI.isFrictionlessAppRequest(this.method,d),d.common=FB.TemplateData.getData().common,d.method=this.method,this.setParams(d),FB.UA.nativeApp()&&FB.UIServer._popupMonitor()},setParams:function(a){this.monitor("getParamsCb",this.bind(function(){if(this.getParamsCb){var b=frames[this.cachedCall.frameName]||FB.UIServer.getLoadedNode(this.cachedCall);return b.postMessage(FB.JSON.stringify({params:a,cb:this.getParamsCb}),"*"),!0}}))}}),FB.provide("TemplateUI",{_timer:null,_cache:{},_preloads:{},_version:0,init:function(){FB.TemplateData.init(FB.TemplateUI._version),FB.TemplateUI.initCache()},useCachedUI:function(a,b){try{FB.TemplateUI.populateCache(),cache=FB.TemplateUI._cache[a],delete FB.TemplateUI._cache[a],cache.use(b)}catch(c){FB.TemplateData.clear()}},populateCache:function(a){if(FB.TemplateData.enabled()&&FB.UA.mobile()){clearInterval(FB.TemplateUI._timer);var b={feed:!0,apprequests:!0};for(var c in b)c in FB.TemplateUI._cache||(FB.TemplateUI._cache[c]=new FB.TemplateUI(c,a))}},initCache:function(){FB.TemplateUI._timer=setInterval(function(){FB.TemplateUI.populateCache(!0)},2e3)},supportsTemplate:function(a,b){return FB.TemplateData.enabled()&&FB.TemplateUI.paramsAllowTemplate(a,b.params)&&"touch"===b.params.display&&FB.UA.mobile()},paramsAllowTemplate:function(a,b){var c={feed:{to:1,attachment:1,source:1},apprequests:{}};if(!(a in c))return!1;for(var d in c[a])if(b[d])return!1;return!FB.TemplateUI.willWriteOnGet(a,b)},isFrictionlessAppRequest:function(a){return"apprequests"===a&&FB.Frictionless&&FB.Frictionless._useFrictionless},willWriteOnGet:function(a,b){return FB.TemplateUI.isFrictionlessAppRequest(a,b)&&b.to&&FB.Frictionless.isAllowed(b.to)}}),FB.provide("URI",{resolve:function(a){if(!a)return window.location.href;var b=document.createElement("div");return b.innerHTML='<a href="'+a.replace(/"/g,"&quot;")+'"></a>',b.firstChild.href}}),FB.Class("XFBML.Element",function(a){this.dom=a},FB.copy({getAttribute:function(a,b,c){var d=FB.XFBML.getAttr(this.dom,a);return d?c?c(d):d:b},_getBoolAttribute:function(a,b){return null===FB.XFBML.getAttr(this.dom,a)?b:FB.XFBML.getBoolAttr(this.dom,a)},_getPxAttribute:function(a,b){return this.getAttribute(a,b,function(a){var c=parseInt(a.replace("px",""),10);return isNaN(c)?b:c})},_getAttributeFromList:function(a,b,c){return this.getAttribute(a,b,function(a){return a=a.toLowerCase(),FB.Array.indexOf(c,a)>-1?a:b})},isValid:function(){for(var a=this.dom;a;a=a.parentNode)if(a==document.body)return!0},clear:function(){this.dom.innerHTML=""}},FB.EventProvider)),FB.subclass("XFBML.IframeWidget","XFBML.Element",null,{_iframeName:null,_showLoader:!0,_refreshOnAuthChange:!1,_allowReProcess:!1,_fetchPreCachedLoader:!1,_visibleAfter:"load",_widgetPipeEnabled:!1,getUrlBits:function(){throw new Error("Inheriting class needs to implement getUrlBits().")},setupAndValidate:function(){return!0},oneTimeSetup:function(){},getSize:function(){},getIframeName:function(){return!this._iframeName&&this._widgetPipeEnabled&&FB.XFBML.shouldUseWidgetPipe()&&(this._iframeName=this.generateWidgetPipeIframeName(),FB.XFBML.IframeWidget.allWidgetPipeIframes[this._iframeName]=this,null===FB.XFBML.IframeWidget.masterWidgetPipeIframe&&(FB.XFBML.IframeWidget.masterWidgetPipeIframe=this)),this._iframeName},getIframeTitle:function(){},getChannelUrl:function(){if(!this._channelUrl){var a=this;this._channelUrl=FB.XD.handler(function(b){a.fire("xd."+b.type,b)},"parent.parent",!0)}return this._channelUrl},getIframeNode:function(){return this.dom.getElementsByTagName("iframe")[0]},arbiterInform:function(a,b,c){this.loaded?this._arbiterInform(a,b,c):this.subscribe("iframe.onload",FB.bind(this._arbiterInform,this,a,b,c))},_arbiterInform:function(a,b,c){var d='parent.frames["'+this.getIframeNode().name+'"]';FB.Arbiter.inform(a,b,d,"https:"==window.location.protocol,c)},getDefaultWebDomain:function(){return"www"},getDefaultStaticDomain:function(){return"cdn"},process:function(a){if(this._done){if(!this._allowReProcess&&!a)return;this.clear()}else this._oneTimeSetup();if(this._done=!0,!this.setupAndValidate())return void this.fire("render");this._showLoader&&this._addLoader(),FB.Dom.addCss(this.dom,"fb_iframe_widget"),"immediate"!=this._visibleAfter?FB.Dom.addCss(this.dom,"fb_hide_iframes"):this.subscribe("iframe.onload",FB.bind(this.fire,this,"render"));var b=this.getSize()||{},c=this.getFullyQualifiedURL();"100%"==b.width&&FB.Dom.addCss(this.dom,"fb_iframe_widget_fluid"),FB.Content.insertIframe({url:c,root:this.dom.appendChild(document.createElement("span")),name:this.getIframeName(),title:this.getIframeTitle(),className:FB._localeIsRtl?"fb_rtl":"fb_ltr",height:b.height,width:b.width,onload:FB.bind(this.fire,this,"iframe.onload")}),this.loaded=!1,this.subscribe("iframe.onload",FB.bind(function(){this.loaded=!0},this))},generateWidgetPipeIframeName:function(){return FB.XFBML.IframeWidget.widgetPipeIframeCount++,"fb_iframe_"+FB.XFBML.IframeWidget.widgetPipeIframeCount},getFullyQualifiedURL:function(){if(FB.XFBML.shouldUseWidgetPipe()&&this._widgetPipeEnabled)return this._getWidgetPipeShell();var a=this._getURL();if(this._fetchPreCachedLoader||(a+="?"+FB.QS.encode(this._getQS())),a.length>2e3){a="about:blank";var b=FB.bind(function(){this._postRequest(),this.unsubscribe("iframe.onload",b)},this);this.subscribe("iframe.onload",b)}return a},_getWidgetPipeShell:function(){return FB.getDomain("www")+"common/widget_pipe_shell.php"},_oneTimeSetup:function(){this.subscribe("xd.resize",FB.bind(this._handleResizeMsg,this)),FB.getLoginStatus&&(this.subscribe("xd.refreshLoginStatus",FB.bind(FB.getLoginStatus,FB,function(){},!0)),this.subscribe("xd.logout",FB.bind(FB.logout,FB,function(){}))),this._refreshOnAuthChange&&this._setupAuthRefresh(),"load"==this._visibleAfter&&this.subscribe("iframe.onload",FB.bind(this._makeVisible,this)),this.oneTimeSetup()},_makeVisible:function(){this._removeLoader(),FB.Dom.removeCss(this.dom,"fb_hide_iframes"),this.fire("render")},_setupAuthRefresh:function(){FB.getLoginStatus(FB.bind(function(a){var b=a.status;FB.Event.subscribe("auth.statusChange",FB.bind(function(a){this.isValid()&&(("unknown"==b||"unknown"==a.status)&&this.process(!0),b=a.status)},this))},this))},_handleResizeMsg:function(a){if(this.isValid()){var b=this.getIframeNode();b.style.height=a.height+"px",a.width&&(b.style.width=a.width+"px"),b.style.border="none",this._makeVisible()}},_addLoader:function(){this._loaderDiv||(FB.Dom.addCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv=document.createElement("div"),this._loaderDiv.className="FB_Loader",this.dom.appendChild(this._loaderDiv))},_removeLoader:function(){this._loaderDiv&&(FB.Dom.removeCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv.parentNode&&this._loaderDiv.parentNode.removeChild(this._loaderDiv),this._loaderDiv=null)},_getQS:function(){return FB.copy({api_key:FB._apiKey,locale:FB._locale,sdk:"joey",ref:this.getAttribute("ref")},this.getUrlBits().params)},_getURL:function(){var a=this.getDefaultWebDomain(),b="";return this._fetchPreCachedLoader&&(a=this.getDefaultStaticDomain(),b="static/"),FB.getDomain(a)+"plugins/"+b+this.getUrlBits().name+".php"},_postRequest:function(){FB.Content.submitToTarget({url:this._getURL(),target:this.getIframeNode().name,params:this._getQS()})}}),FB.provide("XFBML.IframeWidget",{widgetPipeIframeCount:0,masterWidgetPipeIframe:null,allWidgetPipeIframes:{},batchWidgetPipeRequests:function(){if(FB.XFBML.IframeWidget.masterWidgetPipeIframe){var a=FB.XFBML.IframeWidget._groupWidgetPipeDescriptions(),b={widget_pipe:FB.JSON.stringify(a),href:window.location,site:location.hostname,channel:FB.XFBML.IframeWidget.masterWidgetPipeIframe.getChannelUrl(),api_key:FB._apiKey,locale:FB._locale,sdk:"joey"},c=FB.guid(),d=FB.XFBML.IframeWidget.masterWidgetPipeIframe.dom,e=d.appendChild(document.createElement("span"));FB.Content.insertIframe({url:"about:blank",root:e,name:c,className:"fb_hidden fb_invisible",onload:function(){FB.Content.submitToTarget({url:FB._domain.www+"widget_pipe.php?widget_pipe=1",target:c,params:b})}})}},_groupWidgetPipeDescriptions:function(){var a={};for(var b in FB.XFBML.IframeWidget.allWidgetPipeIframes){var c=FB.XFBML.IframeWidget.allWidgetPipeIframes[b],d=c.getUrlBits(),e={widget:d.name};FB.copy(e,d.params),a[b]=e}return a}}),FB.subclass("XFBML.Activity","XFBML.IframeWidget",null,{_visibleAfter:"load",_refreshOnAuthChange:!0,setupAndValidate:function(){return this._attr={border_color:this.getAttribute("border-color"),colorscheme:this.getAttribute("color-scheme"),filter:this.getAttribute("filter"),action:this.getAttribute("action"),max_age:this.getAttribute("max_age"),font:this.getAttribute("font"),linktarget:this.getAttribute("linktarget","_blank"),header:this._getBoolAttribute("header"),height:this._getPxAttribute("height",300),recommendations:this._getBoolAttribute("recommendations"),site:this.getAttribute("site",location.hostname),width:this._getPxAttribute("width",300)},!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"activity",params:this._attr}}}),FB.subclass("XFBML.ButtonElement","XFBML.Element",null,{_allowedSizes:["icon","small","medium","large","xlarge"],onClick:function(){throw new Error("Inheriting class needs to implement onClick().")},setupAndValidate:function(){return!0},getButtonMarkup:function(){return this.getOriginalHTML()},getOriginalHTML:function(){return this._originalHTML},process:function(){if("_originalHTML"in this||(this._originalHTML=FB.String.trim(this.dom.innerHTML)),!this.setupAndValidate())return void this.fire("render");var a=this._getAttributeFromList("size","medium",this._allowedSizes),b="",c="";if("icon"==a)b="fb_button_simple";else{var d=FB._localeIsRtl?"_rtl":"";c=this.getButtonMarkup(),b="fb_button"+d+" fb_button_"+a+d}""!==c&&(this.dom.innerHTML='<a class="'+b+'"><span class="fb_button_text">'+c+"</span></a>",this.dom.firstChild.onclick=FB.bind(this.onClick,this)),this.fire("render")}}),FB.subclass("XFBML.AddProfileTab","XFBML.ButtonElement",null,{getButtonMarkup:function(){return FB.Intl.tx._("Add Profile Tab on Facebook")},onClick:function(){FB.ui({method:"profile.addtab"},this.bind(function(a){a.tab_added&&FB.Helper.invokeHandler(this.getAttribute("on-add"),this)}))}}),FB.subclass("XFBML.Facepile","XFBML.IframeWidget",null,{_visibleAfter:"load",_extraParams:{},setupAndValidate:function(){this._attr={href:this.getAttribute("href"),channel:this.getChannelUrl(),colorscheme:this.getAttribute("colorscheme","light"),max_rows:this.getAttribute("max-rows"),action:this.getAttribute("action","like"),tense:this.getAttribute("tense","past"),width:this._getPxAttribute("width",200),ref:this.getAttribute("ref"),size:this.getAttribute("size","small"),extended_social_context:this.getAttribute("extended_social_context",!1),login_text:this.dom.innerHTML},this.clear();for(var a in this._extraParams)this._attr[a]=this._extraParams[a];return!0},setExtraParams:function(a){this._extraParams=a},oneTimeSetup:function(){var a=FB._userStatus;FB.Event.subscribe("auth.statusChange",FB.bind(function(b){("connected"==a||"connected"==b.status)&&this.process(!0),a=b.status},this))},getSize:function(){return"large"==this._attr.size?{width:this._attr.width,height:90}:{width:this._attr.width,height:70}},getUrlBits:function(){return{name:"facepile",params:this._attr}}}),FB.subclass("XFBML.AddToTimeline","XFBML.Facepile",null,{_visibleAfter:"load",getSize:function(){return{width:300,height:250}},getUrlBits:function(){return{name:"add_to_timeline",params:this._attr}}}),FB.subclass("XFBML.Bookmark","XFBML.ButtonElement",null,{getButtonMarkup:function(){return FB.Intl.tx._("Bookmark on Facebook")},onClick:function(){FB.ui({method:"bookmark.add"},this.bind(function(a){a.bookmarked&&FB.Helper.invokeHandler(this.getAttribute("on-add"),this)}))}}),FB.subclass("XFBML.Comments","XFBML.IframeWidget",null,{_visibleAfter:"immediate",_refreshOnAuthChange:!0,setupAndValidate:function(){var a={channel_url:this.getChannelUrl(),colorscheme:this.getAttribute("colorscheme"),numposts:this.getAttribute("num-posts",10),width:this._getPxAttribute("width",550),href:this.getAttribute("href"),permalink:this.getAttribute("permalink"),publish_feed:this.getAttribute("publish_feed"),mobile:this._getBoolAttribute("mobile")};if(FB.initSitevars.enableMobileComments&&FB.UA.mobile()&&a.mobile!==!1&&(a.mobile=!0),a.href){var b=this.getAttribute("fb_comment_id");b||(b=FB.QS.decode(document.URL.substring(document.URL.indexOf("?")+1)).fb_comment_id,b&&b.indexOf("#")>0&&(b=b.substring(0,b.indexOf("#")))),b&&(a.fb_comment_id=b,this.subscribe("render",FB.bind(function(){window.location.hash=this.getIframeNode().id},this)))}else{if(a.migrated=this.getAttribute("migrated"),a.xid=this.getAttribute("xid"),a.title=this.getAttribute("title",document.title),a.url=this.getAttribute("url",document.URL),a.quiet=this.getAttribute("quiet"),a.reverse=this.getAttribute("reverse"),a.simple=this.getAttribute("simple"),a.css=this.getAttribute("css"),a.notify=this.getAttribute("notify"),!a.xid){var c=document.URL.indexOf("#");a.xid=encodeURIComponent(c>0?document.URL.substring(0,c):document.URL)}a.migrated&&(a.href="http://www.facebook.com/plugins/comments_v1.php?app_id="+FB._apiKey+"&xid="+encodeURIComponent(a.xid)+"&url="+encodeURIComponent(a.url))}return this._attr=a,!0},oneTimeSetup:function(){this.subscribe("xd.addComment",FB.bind(this._handleCommentMsg,this)),this.subscribe("xd.commentCreated",FB.bind(this._handleCommentCreatedMsg,this)),this.subscribe("xd.commentRemoved",FB.bind(this._handleCommentRemovedMsg,this))},getSize:function(){return this._attr.mobile?{width:"100%",height:160}:{width:this._attr.width,height:160}},getUrlBits:function(){return{name:"comments",params:this._attr}},getDefaultWebDomain:function(){return this._attr.mobile?"https_m":"https_www"},_handleCommentMsg:function(a){this.isValid()&&FB.Event.fire("comments.add",{post:a.post,user:a.user,widget:this})},_handleCommentCreatedMsg:function(a){if(this.isValid()){var b={href:a.href,commentID:a.commentID,parentCommentID:a.parentCommentID};FB.Event.fire("comment.create",b)}},_handleCommentRemovedMsg:function(a){if(this.isValid()){var b={href:a.href,commentID:a.commentID};FB.Event.fire("comment.remove",b)}}}),FB.subclass("XFBML.CommentsCount","XFBML.Element",null,{process:function(){this._href=this.getAttribute("href",window.location.href),this._count=FB.Data._selectByIndex(["commentsbox_count"],"link_stat","url",this._href),FB.Dom.addCss(this.dom,"fb_comments_count_zero"),this._count.wait(FB.bind(function(){var a=this._count.value[0].commentsbox_count;this.dom.innerHTML=FB.String.format('<span class="fb_comments_count">{0}</span>',a),a>0&&FB.Dom.removeCss(this.dom,"fb_comments_count_zero"),this.fire("render")},this))}}),FB.provide("Anim",{ate:function(a,b,c,d){c=!isNaN(parseFloat(c))&&c>=0?c:750;var e=40,f={},g={},h=null,i=(a.style,setInterval(FB.bind(function(){h||(h=(new Date).getTime());var e=1;0!=c&&(e=Math.min(((new Date).getTime()-h)/c,1)),FB.Array.forEach(b,FB.bind(function(b,c){if(!f[c]){var d=FB.Dom.getStyle(a,c);if(d===!1)return;f[c]=this._parseCSS(d+"")}g[c]||(g[c]=this._parseCSS(b.toString()));var h="";FB.Array.forEach(f[c],function(a,b){isNaN(g[c][b].numPart)&&"?"==g[c][b].textPart?h=a.numPart+a.textPart:isNaN(a.numPart)?h=a.textPart:h+=a.numPart+Math.ceil((g[c][b].numPart-a.numPart)*Math.sin(Math.PI/2*e))+g[c][b].textPart+" "}),FB.Dom.setStyle(a,c,h)},this)),1==e&&(clearInterval(i),d&&d(a))},this),e))},_parseCSS:function(a){var b=[];return FB.Array.forEach(a.split(" "),function(a){var c=parseInt(a,10);b.push({numPart:c,textPart:a.replace(c,"")})}),b}}),FB.provide("Insights",{impression:function(a,b){var c=FB.guid(),d="//ah8.facebook.com/impression.php/"+c+"/",e=new Image(1,1),f=[];!a.api_key&&FB._apiKey&&(a.api_key=FB._apiKey);for(var g in a)f.push(encodeURIComponent(g)+"="+encodeURIComponent(a[g]));d+="?"+f.join("&"),b&&(e.onload=b),e.src=d}}),FB.subclass("XFBML.ConnectBar","XFBML.Element",null,{_initialHeight:null,_initTopMargin:0,_picFieldName:"pic_square",_page:null,_displayed:!1,_notDisplayed:!1,_container:null,_animationSpeed:0,process:function(){FB.getLoginStatus(this.bind(function(){FB.Event.monitor("auth.statusChange",this.bind(function(){return this.isValid()&&"connected"==FB._userStatus?(this._uid=FB.Helper.getLoggedInUser(),FB.api({method:"Connect.shouldShowConnectBar"},this.bind(function(a){2!=a?(this._animationSpeed=0==a?750:0,this._showBar()):this._noRender()}))):this._noRender(),!1}))}))},_showBar:function(){var a=FB.Data._selectByIndex(["first_name","profile_url",this._picFieldName],"user","uid",this._uid),b=FB.Data._selectByIndex(["display_name"],"application","api_key",FB._apiKey);FB.Data.waitOn([a,b],FB.bind(function(a){a[0][0].site_name=a[1][0].display_name,this._displayed||(this._displayed=!0,this._notDisplayed=!1,this._renderConnectBar(a[0][0]),this.fire("render"),FB.Insights.impression({lid:104,name:"widget_load"}),this.fire("connectbar.ondisplay"),FB.Event.fire("connectbar.ondisplay",this),FB.Helper.invokeHandler(this.getAttribute("on-display"),this))},this))},_noRender:function(){this._displayed&&(this._displayed=!1,this._closeConnectBar()),this._notDisplayed||(this._notDisplayed=!0,this.fire("render"),this.fire("connectbar.onnotdisplay"),FB.Event.fire("connectbar.onnotdisplay",this),FB.Helper.invokeHandler(this.getAttribute("on-not-display"),this))},_renderConnectBar:function(a){var b=document.createElement("div"),c=document.createElement("div");b.className="fb_connect_bar",c.className="fb_reset fb_connect_bar_container",c.appendChild(b),document.body.appendChild(c),this._container=c,this._initialHeight=Math.round(parseFloat(FB.Dom.getStyle(c,"height"))+parseFloat(FB.Dom.getStyle(c,"borderBottomWidth"))),b.innerHTML=FB.String.format('<div class="fb_buttons"><a href="#" class="fb_bar_close"><img src="{1}" alt="{2}" title="{2}"/></a></div><a href="{7}" class="fb_profile" target="_blank"><img src="{3}" alt="{4}" title="{4}"/></a>{5} <span><a href="{8}" class="fb_learn_more" target="_blank">{6}</a> &ndash; <a href="#" class="fb_no_thanks">{0}</a></span>',FB.Intl.tx._("No Thanks"),FB.getDomain("cdn")+FB.XFBML.ConnectBar.imgs.buttonUrl,FB.Intl.tx._("Close"),a[this._picFieldName]||FB.getDomain("cdn")+FB.XFBML.ConnectBar.imgs.missingProfileUrl,FB.String.escapeHTML(a.first_name),FB.Intl.tx._("Hi {firstName}. <strong>{siteName}</strong> is using Facebook to personalize your experience.",{firstName:FB.String.escapeHTML(a.first_name),siteName:FB.String.escapeHTML(a.site_name)}),FB.Intl.tx._("Learn More"),a.profile_url,FB.getDomain("www")+"sitetour/connect.php");var d=this;FB.Array.forEach(b.getElementsByTagName("a"),function(a){a.onclick=FB.bind(d._clickHandler,d)}),this._page=document.body;var e=0;e=this._page.parentNode?Math.round((parseFloat(FB.Dom.getStyle(this._page.parentNode,"height"))-parseFloat(FB.Dom.getStyle(this._page,"height")))/2):parseInt(FB.Dom.getStyle(this._page,"marginTop"),10),e=isNaN(e)?0:e,this._initTopMargin=e,window.XMLHttpRequest?(c.style.top=-1*this._initialHeight+"px",FB.Anim.ate(c,{top:"0px"},this._animationSpeed)):c.className+=" fb_connect_bar_container_ie6";var f={marginTop:this._initTopMargin+this._initialHeight+"px"};FB.UA.ie()?f.backgroundPositionY=this._initialHeight+"px":f.backgroundPosition="? "+this._initialHeight+"px",FB.Anim.ate(this._page,f,this._animationSpeed)},_clickHandler:function(a){a=a||window.event;for(var b=a.target||a.srcElement;"A"!=b.nodeName;)b=b.parentNode;switch(b.className){case"fb_bar_close":FB.api({method:"Connect.connectBarMarkAcknowledged"}),FB.Insights.impression({lid:104,name:"widget_user_closed"}),this._closeConnectBar();
break;case"fb_learn_more":case"fb_profile":window.open(b.href);break;case"fb_no_thanks":this._closeConnectBar(),FB.api({method:"Connect.connectBarMarkAcknowledged"}),FB.Insights.impression({lid:104,name:"widget_user_no_thanks"}),FB.api({method:"auth.revokeAuthorization",block:!0},this.bind(function(){this.fire("connectbar.ondeauth"),FB.Event.fire("connectbar.ondeauth",this),FB.Helper.invokeHandler(this.getAttribute("on-deauth"),this),this._getBoolAttribute("auto-refresh",!0)&&window.location.reload()}))}return!1},_closeConnectBar:function(){this._notDisplayed=!0;var a={marginTop:this._initTopMargin+"px"};FB.UA.ie()?a.backgroundPositionY="0px":a.backgroundPosition="? 0px";var b=0==this._animationSpeed?0:300;FB.Anim.ate(this._page,a,b),FB.Anim.ate(this._container,{top:-1*this._initialHeight+"px"},b,function(a){a.parentNode.removeChild(a)}),this.fire("connectbar.onclose"),FB.Event.fire("connectbar.onclose",this),FB.Helper.invokeHandler(this.getAttribute("on-close"),this)}}),FB.provide("XFBML.ConnectBar",{imgs:{buttonUrl:"images/facebook-widgets/close_btn.png",missingProfileUrl:"pics/q_silhouette.gif"}}),FB.subclass("XFBML.Fan","XFBML.IframeWidget",null,{_visibleAfter:"load",setupAndValidate:function(){if(this._attr={api_key:FB._apiKey,connections:this.getAttribute("connections","10"),css:this.getAttribute("css"),height:this._getPxAttribute("height"),id:this.getAttribute("profile-id"),logobar:this._getBoolAttribute("logo-bar"),name:this.getAttribute("name"),stream:this._getBoolAttribute("stream",!0),width:this._getPxAttribute("width",300)},!this._attr.id&&!this._attr.name)return FB.log('<fb:fan> requires one of the "id" or "name" attributes.'),!1;var a=this._attr.height;return a||(a=this._attr.connections&&"0"!==this._attr.connections||this._attr.stream?this._attr.connections&&"0"!==this._attr.connections?this._attr.stream?550:250:375:65),this._attr.logobar&&(a+=25),this._attr.height=a,!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"fan",params:this._attr}}}),FB.subclass("XFBML.Friendpile","XFBML.Facepile",null,{}),FB.subclass("XFBML.EdgeCommentWidget","XFBML.IframeWidget",function(a){this._iframeWidth=a.width+1,this._iframeHeight=a.height,this._attr={master_frame_name:a.masterFrameName,offsetX:a.relativeWidthOffset-a.paddingLeft},this.dom=a.commentNode,this.dom.style.top=a.relativeHeightOffset+"px",this.dom.style.left=a.relativeWidthOffset+"px",this.dom.style.zIndex=FB.XFBML.EdgeCommentWidget.NextZIndex++,FB.Dom.addCss(this.dom,"fb_edge_comment_widget")},{_visibleAfter:"load",_showLoader:!1,getSize:function(){return{width:this._iframeWidth,height:this._iframeHeight}},getUrlBits:function(){return{name:"comment_widget_shell",params:this._attr}}}),FB.provide("XFBML.EdgeCommentWidget",{NextZIndex:1e4}),FB.subclass("XFBML.EdgeWidget","XFBML.IframeWidget",null,{_visibleAfter:"immediate",_showLoader:!1,_rootPadding:null,setupAndValidate:function(){return FB.Dom.addCss(this.dom,"fb_edge_widget_with_comment"),this._attr={channel_url:this.getChannelUrl(),debug:this._getBoolAttribute("debug"),href:this.getAttribute("href",window.location.href),is_permalink:this._getBoolAttribute("is-permalink"),node_type:this.getAttribute("node-type","link"),width:this._getWidgetWidth(),font:this.getAttribute("font"),layout:this._getLayout(),colorscheme:this.getAttribute("color-scheme"),action:this.getAttribute("action"),ref:this.getAttribute("ref"),show_faces:this._shouldShowFaces(),no_resize:this._getBoolAttribute("no_resize"),send:this._getBoolAttribute("send"),url_map:this.getAttribute("url_map"),extended_social_context:this._getBoolAttribute("extended_social_context",!1)},this._rootPadding={left:parseFloat(FB.Dom.getStyle(this.dom,"paddingLeft")),top:parseFloat(FB.Dom.getStyle(this.dom,"paddingTop"))},!0},oneTimeSetup:function(){this.subscribe("xd.authPrompted",FB.bind(this._onAuthPrompt,this)),this.subscribe("xd.edgeCreated",FB.bind(this._onEdgeCreate,this)),this.subscribe("xd.edgeRemoved",FB.bind(this._onEdgeRemove,this)),this.subscribe("xd.presentEdgeCommentDialog",FB.bind(this._handleEdgeCommentDialogPresentation,this)),this.subscribe("xd.dismissEdgeCommentDialog",FB.bind(this._handleEdgeCommentDialogDismissal,this)),this.subscribe("xd.hideEdgeCommentDialog",FB.bind(this._handleEdgeCommentDialogHide,this)),this.subscribe("xd.showEdgeCommentDialog",FB.bind(this._handleEdgeCommentDialogShow,this))},getSize:function(){return{width:this._getWidgetWidth(),height:this._getWidgetHeight()}},_getWidgetHeight:function(){var a=this._getLayout(),b=this._shouldShowFaces()?"show":"hide",c=this._getBoolAttribute("send"),d=65+(c?25:0),e={standard:{show:80,hide:35},box_count:{show:d,hide:d},button_count:{show:21,hide:21},simple:{show:20,hide:20}};return e[a][b]},_getWidgetWidth:function(){var a=this._getLayout(),b=this._getBoolAttribute("send"),c=this._shouldShowFaces()?"show":"hide",d="recommend"===this.getAttribute("action"),e=(d?265:225)+(b?60:0),f=(d?130:90)+(b?60:0),g="recommend"===this.getAttribute("action")?100:55,h="recommend"===this.getAttribute("action")?90:50,i={standard:{show:450,hide:450},box_count:{show:g,hide:g},button_count:{show:f,hide:f},simple:{show:h,hide:h}},j=i[a][c],k=this._getPxAttribute("width",j),l={standard:{min:e,max:900},box_count:{min:g,max:900},button_count:{min:f,max:900},simple:{min:49,max:900}};return k<l[a].min?k=l[a].min:k>l[a].max&&(k=l[a].max),k},_getLayout:function(){return this._getAttributeFromList("layout","standard",["standard","button_count","box_count","simple"])},_shouldShowFaces:function(){return"standard"===this._getLayout()&&this._getBoolAttribute("show-faces",!0)},_handleEdgeCommentDialogPresentation:function(a){if(this.isValid()){var b=document.createElement("span");this._commentSlave=this._createEdgeCommentWidget(a,b),this.dom.appendChild(b),this._commentSlave.process(),this._commentWidgetNode=b}},_createEdgeCommentWidget:function(a,b){var c={commentNode:b,externalUrl:a.externalURL,masterFrameName:a.masterFrameName,layout:this._getLayout(),relativeHeightOffset:this._getHeightOffset(a),relativeWidthOffset:this._getWidthOffset(a),anchorTargetX:parseFloat(a["query[anchorTargetX]"])+this._rootPadding.left,anchorTargetY:parseFloat(a["query[anchorTargetY]"])+this._rootPadding.top,width:parseFloat(a.width),height:parseFloat(a.height),paddingLeft:this._rootPadding.left};return new FB.XFBML.EdgeCommentWidget(c)},_getHeightOffset:function(a){return parseFloat(a["anchorGeometry[y]"])+parseFloat(a["anchorPosition[y]"])+this._rootPadding.top},_getWidthOffset:function(a){var b=parseFloat(a["anchorPosition[x]"])+this._rootPadding.left,c=FB.Dom.getPosition(this.dom).x,d=(this.dom.offsetWidth,FB.Dom.getViewportInfo().width),e=parseFloat(a.width),f=!1;return FB._localeIsRtl?f=c>e:c+e>d&&(f=!0),f&&(b+=parseFloat(a["anchorGeometry[x]"])-e),b},_getCommonEdgeCommentWidgetOpts:function(a,b){return{colorscheme:this._attr.colorscheme,commentNode:b,controllerID:a.controllerID,nodeImageURL:a.nodeImageURL,nodeRef:this._attr.ref,nodeTitle:a.nodeTitle,nodeURL:a.nodeURL,nodeSummary:a.nodeSummary,width:parseFloat(a.width),height:parseFloat(a.height),relativeHeightOffset:this._getHeightOffset(a),relativeWidthOffset:this._getWidthOffset(a),error:a.error,siderender:a.siderender,extended_social_context:a.extended_social_context,anchorTargetX:parseFloat(a["query[anchorTargetX]"])+this._rootPadding.left,anchorTargetY:parseFloat(a["query[anchorTargetY]"])+this._rootPadding.top}},_handleEdgeCommentDialogDismissal:function(){this._commentWidgetNode&&(this.dom.removeChild(this._commentWidgetNode),delete this._commentWidgetNode)},_handleEdgeCommentDialogHide:function(){this._commentWidgetNode&&(this._commentWidgetNode.style.display="none")},_handleEdgeCommentDialogShow:function(){this._commentWidgetNode&&(this._commentWidgetNode.style.display="block")},_fireEventAndInvokeHandler:function(a,b){FB.Helper.fireEvent(a,this),FB.Helper.invokeHandler(this.getAttribute(b),this,[this._attr.href])},_onEdgeCreate:function(){this._fireEventAndInvokeHandler("edge.create","on-create")},_onEdgeRemove:function(){this._fireEventAndInvokeHandler("edge.remove","on-remove")},_onAuthPrompt:function(){this._fireEventAndInvokeHandler("auth.prompt","on-prompt")}}),FB.subclass("XFBML.SendButtonFormWidget","XFBML.EdgeCommentWidget",function(a){this._base(a),FB.Dom.addCss(this.dom,"fb_send_button_form_widget"),FB.Dom.addCss(this.dom,a.colorscheme),FB.Dom.addCss(this.dom,"undefined"!=typeof a.siderender&&a.siderender?"siderender":""),this._attr.nodeImageURL=a.nodeImageURL,this._attr.nodeRef=a.nodeRef,this._attr.nodeTitle=a.nodeTitle,this._attr.nodeURL=a.nodeURL,this._attr.nodeSummary=a.nodeSummary,this._attr.offsetX=a.relativeWidthOffset,this._attr.offsetY=a.relativeHeightOffset,this._attr.anchorTargetX=a.anchorTargetX,this._attr.anchorTargetY=a.anchorTargetY,this._attr.channel=this.getChannelUrl(),this._attr.controllerID=a.controllerID,this._attr.colorscheme=a.colorscheme,this._attr.error=a.error,this._attr.siderender=a.siderender,this._attr.extended_social_context=a.extended_social_context},{_showLoader:!0,getUrlBits:function(){return{name:"send_button_form_shell",params:this._attr}},oneTimeSetup:function(){this.subscribe("xd.messageSent",FB.bind(this._onMessageSent,this))},_onMessageSent:function(){FB.Event.fire("message.send",this._attr.nodeURL,this)}}),FB.subclass("XFBML.Send","XFBML.EdgeWidget",null,{setupAndValidate:function(){return FB.Dom.addCss(this.dom,"fb_edge_widget_with_comment"),this._attr={channel:this.getChannelUrl(),api_key:FB._apiKey,font:this.getAttribute("font"),colorscheme:this.getAttribute("colorscheme","light"),href:this.getAttribute("href",window.location.href),ref:this.getAttribute("ref"),extended_social_context:this.getAttribute("extended_social_context",!1)},this._rootPadding={left:parseFloat(FB.Dom.getStyle(this.dom,"paddingLeft")),top:parseFloat(FB.Dom.getStyle(this.dom,"paddingTop"))},!0},getUrlBits:function(){return{name:"send",params:this._attr}},_createEdgeCommentWidget:function(a,b){var c=this._getCommonEdgeCommentWidgetOpts(a,b);return new FB.XFBML.SendButtonFormWidget(c)},getSize:function(){return{width:FB.XFBML.Send.Dimensions.width,height:FB.XFBML.Send.Dimensions.height}}}),FB.provide("XFBML.Send",{Dimensions:{width:80,height:25}}),FB.subclass("XFBML.Like","XFBML.EdgeWidget",null,{_widgetPipeEnabled:!0,getUrlBits:function(){return{name:"like",params:this._attr}},_createEdgeCommentWidget:function(a,b){if("send"in this._attr&&"widget_type"in a&&"send"==a.widget_type){var c=this._getCommonEdgeCommentWidgetOpts(a,b);return new FB.XFBML.SendButtonFormWidget(c)}return this._callBase("_createEdgeCommentWidget",a,b)},getIframeTitle:function(){return"Like this content on Facebook."}}),FB.subclass("XFBML.LikeBox","XFBML.EdgeWidget",null,{_visibleAfter:"load",setupAndValidate:function(){if(this._attr={channel:this.getChannelUrl(),api_key:FB._apiKey,connections:this.getAttribute("connections"),css:this.getAttribute("css"),height:this.getAttribute("height"),id:this.getAttribute("profile-id"),header:this._getBoolAttribute("header",!0),name:this.getAttribute("name"),show_faces:this._getBoolAttribute("show-faces",!0),stream:this._getBoolAttribute("stream",!0),width:this._getPxAttribute("width",300),href:this.getAttribute("href"),colorscheme:this.getAttribute("colorscheme","light"),border_color:this.getAttribute("border_color")},this._getBoolAttribute("force_wall",!1)&&(this._attr.force_wall=!0),"0"===this._attr.connections?this._attr.show_faces=!1:this._attr.connections&&(this._attr.show_faces=!0),!this._attr.id&&!this._attr.name&&!this._attr.href)return FB.log('<fb:like-box> requires one of the "id" or "name" attributes.'),!1;var a=this._attr.height;return a||(this._attr.show_faces||this._attr.stream?(a=95,this._attr.show_faces&&(a+=163),this._attr.stream&&(a+=300),this._attr.header&&"0"!==this._attr.header&&(a+=32)):a=62),this._attr.height=a,this.subscribe("xd.likeboxLiked",FB.bind(this._onLiked,this)),this.subscribe("xd.likeboxUnliked",FB.bind(this._onUnliked,this)),!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"likebox",params:this._attr}},_onLiked:function(){FB.Helper.fireEvent("edge.create",this)},_onUnliked:function(){FB.Helper.fireEvent("edge.remove",this)}}),FB.subclass("XFBML.LiveStream","XFBML.IframeWidget",null,{_visibleAfter:"load",setupAndValidate:function(){return this._attr={app_id:this.getAttribute("event-app-id"),height:this._getPxAttribute("height",500),hideFriendsTab:this.getAttribute("hide-friends-tab"),redesigned:this._getBoolAttribute("redesigned-stream"),width:this._getPxAttribute("width",400),xid:this.getAttribute("xid","default"),always_post_to_friends:this._getBoolAttribute("always-post-to-friends"),via_url:this.getAttribute("via_url")},!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){var a=this._attr.redesigned?"live_stream_box":"livefeed";return this._getBoolAttribute("modern",!1)&&(a="live_stream"),{name:a,params:this._attr}}}),FB.subclass("XFBML.Login","XFBML.Facepile",null,{_visibleAfter:"load",getSize:function(){return{width:this._attr.width,height:94}},getUrlBits:function(){return{name:"login",params:this._attr}}}),FB.subclass("XFBML.LoginButton","XFBML.ButtonElement",null,{setupAndValidate:function(){return this._alreadySetup?!0:(this._alreadySetup=!0,this._attr={autologoutlink:this._getBoolAttribute("auto-logout-link"),length:this._getAttributeFromList("length","short",["long","short"]),onlogin:this.getAttribute("on-login"),perms:this.getAttribute("perms"),scope:this.getAttribute("scope"),registration_url:this.getAttribute("registration-url"),status:"unknown"},this._attr.autologoutlink&&FB.Event.subscribe("auth.statusChange",FB.bind(this.process,this)),this._attr.registration_url&&(FB.Event.subscribe("auth.statusChange",this._saveStatus(this.process,!1)),FB.getLoginStatus(this._saveStatus(this.process,!1))),!0)},getButtonMarkup:function(){var a=this.getOriginalHTML();if(a)return a;if(!this._attr.registration_url)return FB.getAccessToken()&&this._attr.autologoutlink?FB.Intl.tx._("Facebook Logout"):FB.getAccessToken()?"":this._getLoginText();switch(this._attr.status){case"unknown":return this._getLoginText();case"notConnected":case"not_authorized":return FB.Intl.tx._("Register");case"connected":return FB.getAccessToken()&&this._attr.autologoutlink?FB.Intl.tx._("Facebook Logout"):"";default:return FB.log("Unknown status: "+this._attr.status),FB.Intl.tx._("Log In")}},_getLoginText:function(){return FB.Intl.tx._("short"==this._attr.length?"Log In":"Log In with Facebook")},onClick:function(){if(this._attr.registration_url)switch(this._attr.status){case"unknown":FB.ui({method:"auth.logintoFacebook"},FB.bind(function(){FB.bind(FB.getLoginStatus(this._saveStatus(this._authCallback,!0),!0),this)},this));break;case"notConnected":case"not_authorized":window.top.location=this._attr.registration_url;break;case"connected":FB.getAccessToken()&&this._attr.autologoutlink?FB.logout(FB.bind(this._authCallback,this)):this._authCallback();break;default:FB.log("Unknown status: "+this._attr.status)}else FB.getAccessToken()&&this._attr.autologoutlink?FB.logout(FB.bind(this._authCallback,this)):FB.login(FB.bind(this._authCallback,this),{perms:this._attr.perms,scope:this._attr.scope})},_authCallback:function(a){FB.Helper.invokeHandler(this._attr.onlogin,this,[a])},_saveStatus:function(a,b){return FB.bind(function(c){return!b||!this._attr.registration_url||"notConnected"!=this._attr.status&&"not_authorized"!=this._attr.status||"notConnected"!=c.status&&"not_authorized"!=c.status||(window.top.location=this._attr.registration_url),this._attr.status=c.status,a?(a=this.bind(a,this))(c):void 0},this)}}),FB.subclass("XFBML.Name","XFBML.Element",null,{process:function(){if(FB.copy(this,{_uid:this.getAttribute("uid"),_firstnameonly:this._getBoolAttribute("first-name-only"),_lastnameonly:this._getBoolAttribute("last-name-only"),_possessive:this._getBoolAttribute("possessive"),_reflexive:this._getBoolAttribute("reflexive"),_objective:this._getBoolAttribute("objective"),_linked:this._getBoolAttribute("linked",!0),_subjectId:this.getAttribute("subject-id")}),!this._uid)return FB.log('"uid" is a required attribute for <fb:name>'),void this.fire("render");var a=[];a.push(this._firstnameonly?"first_name":this._lastnameonly?"last_name":"name"),this._subjectId&&(a.push("sex"),this._subjectId==FB.Helper.getLoggedInUser()&&(this._reflexive=!0));var b;FB.Event.monitor("auth.statusChange",this.bind(function(){return this.isValid()?(this._uid&&"loggedinuser"!=this._uid||(this._uid=FB.Helper.getLoggedInUser()),void(this._uid&&(b=FB.Helper.isUser(this._uid)?FB.Data._selectByIndex(a,"user","uid",this._uid):FB.Data._selectByIndex(["name","id"],"profile","id",this._uid),b.wait(this.bind(function(a){this._subjectId==this._uid?this._renderPronoun(a[0]):this._renderOther(a[0]),this.fire("render")}))))):(this.fire("render"),!0)}))},_renderPronoun:function(a){var b="",c=this._objective;if(this._subjectId&&(c=!0,this._subjectId===this._uid&&(this._reflexive=!0)),this._uid==FB.Connect.get_loggedInUser()&&this._getBoolAttribute("use-you",!0))b=this._possessive?this._reflexive?"your own":"your":this._reflexive?"yourself":"you";else switch(a.sex){case"male":b=this._possessive?this._reflexive?"his own":"his":this._reflexive?"himself":c?"him":"he";break;case"female":b=this._possessive?this._reflexive?"her own":"her":this._reflexive?"herself":c?"her":"she";break;default:b=this._getBoolAttribute("use-they",!0)?this._possessive?this._reflexive?"their own":"their":this._reflexive?"themselves":c?"them":"they":this._possessive?this._reflexive?"his/her own":"his/her":this._reflexive?"himself/herself":c?"him/her":"he/she"}this._getBoolAttribute("capitalize",!1)&&(b=FB.Helper.upperCaseFirstChar(b)),this.dom.innerHTML=b},_renderOther:function(a){var b="",c="";this._uid==FB.Helper.getLoggedInUser()&&this._getBoolAttribute("use-you",!0)?b=this._reflexive?this._possessive?"your own":"yourself":this._possessive?"your":"you":a&&(null===a.first_name&&(a.first_name=""),null===a.last_name&&(a.last_name=""),this._firstnameonly&&void 0!==a.first_name?b=FB.String.escapeHTML(a.first_name):this._lastnameonly&&void 0!==a.last_name&&(b=FB.String.escapeHTML(a.last_name)),b||(b=FB.String.escapeHTML(a.name)),""!==b&&this._possessive&&(b+="'s")),b||(b=FB.String.escapeHTML(this.getAttribute("if-cant-see","Facebook User"))),b&&(this._getBoolAttribute("capitalize",!1)&&(b=FB.Helper.upperCaseFirstChar(b)),c=a&&this._linked?FB.Helper.getProfileLink(a,b,this.getAttribute("href",null)):b),this.dom.innerHTML=c}}),FB.subclass("XFBML.ProfilePic","XFBML.Element",null,{process:function(){var a=this.getAttribute("size","thumb"),b=FB.XFBML.ProfilePic._sizeToPicFieldMap[a],c=this._getPxAttribute("width"),d=this._getPxAttribute("height"),e=this.dom.style,f=this.getAttribute("uid");this._getBoolAttribute("facebook-logo")&&(b+="_with_logo"),c&&(c+="px",e.width=c),d&&(d+="px",e.height=d);var g=this.bind(function(a){var e=a?a[0]:null,f=e?e[b]:null;f||(f=FB.getDomain("cdn")+FB.XFBML.ProfilePic._defPicMap[b]);var g=(c?"width:"+c+";":"")+(d?"height:"+c+";":""),h=FB.String.format('<img src="{0}" alt="{1}" title="{1}" style="{2}" class="{3}" />',f,e?FB.String.escapeHTML(e.name):"",g,this.dom.className);this._getBoolAttribute("linked",!0)&&(h=FB.Helper.getProfileLink(e,h,this.getAttribute("href",null))),this.dom.innerHTML=h,FB.Dom.addCss(this.dom,"fb_profile_pic_rendered"),this.fire("render")});FB.Event.monitor("auth.statusChange",this.bind(function(){return this.isValid()?("loggedinuser"==this.getAttribute("uid",null)&&(f=FB.Helper.getLoggedInUser()),void(FB._userStatus&&f?FB.Data._selectByIndex(["name",b],FB.Helper.isUser(f)?"user":"profile",FB.Helper.isUser(f)?"uid":"id",f).wait(g):g())):(this.fire("render"),!0)}))}}),FB.provide("XFBML.ProfilePic",{_defPicMap:{pic:"pics/s_silhouette.jpg",pic_big:"pics/d_silhouette.gif",pic_big_with_logo:"pics/d_silhouette_logo.gif",pic_small:"pics/t_silhouette.jpg",pic_small_with_logo:"pics/t_silhouette_logo.gif",pic_square:"pics/q_silhouette.gif",pic_square_with_logo:"pics/q_silhouette_logo.gif",pic_with_logo:"pics/s_silhouette_logo.gif"},_sizeToPicFieldMap:{n:"pic_big",normal:"pic_big",q:"pic_square",s:"pic",small:"pic",square:"pic_square",t:"pic_small",thumb:"pic_small"}}),FB.subclass("XFBML.Question","XFBML.IframeWidget",null,{_visibleAfter:"load",setupAndValidate:function(){return this._attr={channel:this.getChannelUrl(),api_key:FB._apiKey,permalink:this.getAttribute("permalink"),id:this.getAttribute("id"),width:this._getPxAttribute("width",400),height:0,questiontext:this.getAttribute("questiontext"),options:this.getAttribute("options")},this.subscribe("xd.firstVote",FB.bind(this._onInitialVote,this)),this.subscribe("xd.vote",FB.bind(this._onChangedVote,this)),!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"question",params:this._attr}},_onInitialVote:function(a){FB.Event.fire("question.firstVote",this._attr.permalink,a.vote)},_onChangedVote:function(a){FB.Event.fire("question.vote",this._attr.permalink,a.vote)}}),FB.subclass("XFBML.Recommendations","XFBML.IframeWidget",null,{_visibleAfter:"load",_refreshOnAuthChange:!0,setupAndValidate:function(){return this._attr={border_color:this.getAttribute("border-color"),colorscheme:this.getAttribute("color-scheme"),filter:this.getAttribute("filter"),font:this.getAttribute("font"),action:this.getAttribute("action"),linktarget:this.getAttribute("linktarget","_blank"),max_age:this.getAttribute("max_age"),header:this._getBoolAttribute("header"),height:this._getPxAttribute("height",300),site:this.getAttribute("site",location.hostname),width:this._getPxAttribute("width",300)},!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"recommendations",params:this._attr}}}),FB.subclass("XFBML.RecommendationsBar","XFBML.IframeWidget",null,{getUrlBits:function(){return{name:"recommendations_bar",params:this._attr}},setupAndValidate:function(){function a(a,b){function c(){b(),e=null,d=(new Date).getTime()}var d=0,e=null;return function(){if(!e){var b=(new Date).getTime();a>b-d?e=window.setTimeout(c,a-(b-d)):c()}return!0}}function b(a){if(a.match(/^\d+(?:\.\d+)?%$/)){var b=Math.min(Math.max(parseInt(a,10),0),100);a=b/100}else"manual"!=a&&"onvisible"!=a&&(a="onvisible");return a}function c(a){return Math.max(parseInt(a,10)||30,10)}function d(a){return"left"==a||"right"==a?a:FB._localeIsRtl?"left":"right"}this._attr={channel:this.getChannelUrl(),api_key:FB._apiKey,font:this.getAttribute("font"),colorscheme:this.getAttribute("colorscheme"),href:FB.URI.resolve(this.getAttribute("href")),side:d(this.getAttribute("side")),site:this.getAttribute("site"),action:this.getAttribute("action"),ref:this.getAttribute("ref"),max_age:this.getAttribute("max_age"),trigger:b(this.getAttribute("trigger","")),read_time:c(this.getAttribute("read_time")),num_recommendations:parseInt(this.getAttribute("num_recommendations"),10)||2},FB._inPlugin=!0,this._showLoader=!1,this.subscribe("iframe.onload",FB.bind(function(){var a=this.dom.children[0];a.className="fbpluginrecommendationsbar"+this._attr.side},this));var e=FB.bind(function(){return FB.Event.unlisten(window,"scroll",e),FB.Event.unlisten(document.documentElement,"click",e),FB.Event.unlisten(document.documentElement,"mousemove",e),window.setTimeout(FB.bind(this.arbiterInform,this,"platform/plugins/recommendations_bar/action",null,FB.Arbiter.BEHAVIOR_STATE),1e3*this._attr.read_time),!0},this);if(FB.Event.listen(window,"scroll",e),FB.Event.listen(document.documentElement,"click",e),FB.Event.listen(document.documentElement,"mousemove",e),"manual"==this._attr.trigger){var f=FB.bind(function(a){return a==this._attr.href&&(FB.Event.unsubscribe("xfbml.recommendationsbar.read",f),this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,FB.Arbiter.BEHAVIOR_STATE)),!0},this);FB.Event.subscribe("xfbml.recommendationsbar.read",f)}else{var g=a(500,FB.bind(function(){return this.calculateVisibility()&&(FB.Event.unlisten(window,"scroll",g),FB.Event.unlisten(window,"resize",g),this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,FB.Arbiter.BEHAVIOR_STATE)),!0},this));FB.Event.listen(window,"scroll",g),FB.Event.listen(window,"resize",g),g()}this.visible=!1;var h=a(500,FB.bind(function(){return!this.visible&&this.calculateVisibility()?(this.visible=!0,this.arbiterInform("platform/plugins/recommendations_bar/visible")):this.visible&&!this.calculateVisibility()&&(this.visible=!1,this.arbiterInform("platform/plugins/recommendations_bar/invisible")),!0},this));FB.Event.listen(window,"scroll",h),FB.Event.listen(window,"resize",h),h(),this.focused=!0;var i=FB.bind(function(){return this.focused=!this.focused,!0},this);return FB.Event.listen(window,"blur",i),FB.Event.listen(window,"focus",i),this.resize_running=!1,this.animate=!1,this.subscribe("xd.signal_animation",FB.bind(function(){this.animate=!0},this)),!0},getSize:function(){return{height:25,width:"recommend"==this._attr.action?140:96}},calculateVisibility:function(){var a=document.documentElement.clientHeight;if(!this.focused&&window.console&&window.console.firebug)return this.visible;switch(this._attr.trigger){case"manual":return!1;case"onvisible":var b=this.dom.getBoundingClientRect().top;return a>=b;default:var c=window.pageYOffset||document.body.scrollTop,d=document.documentElement.scrollHeight;return(c+a)/d>=this._attr.trigger}},_handleResizeMsg:function(a){this.isValid()&&(a.width&&(this.getIframeNode().style.width=a.width+"px"),a.height&&(this._setNextResize(a.height),this._checkNextResize()),this._makeVisible())},_setNextResize:function(a){this.next_resize=a},_checkNextResize:function(){if(this.next_resize&&!this.resize_running){var a=this.getIframeNode(),b=this.next_resize;this.next_resize=null,this.animate?(this.animate=!1,this.resize_running=!0,FB.Anim.ate(a,{height:b+"px"},330,FB.bind(function(){this.resize_running=!1,this._checkNextResize()},this))):a.style.height=b+"px"}}}),FB.XFBML.RecommendationsBar.markRead=function(a){FB.Event.fire("xfbml.recommendationsbar.read",a||window.location.href)},FB.subclass("XFBML.Registration","XFBML.IframeWidget",null,{_visibleAfter:"immediate",_baseHeight:167,_fieldHeight:28,_skinnyWidth:520,_skinnyBaseHeight:173,_skinnyFieldHeight:52,setupAndValidate:function(){return this._attr={action:this.getAttribute("action"),border_color:this.getAttribute("border-color"),channel_url:this.getChannelUrl(),client_id:FB._apiKey,fb_only:this._getBoolAttribute("fb-only",!1),fb_register:this._getBoolAttribute("fb-register",!1),fields:this.getAttribute("fields"),height:this._getPxAttribute("height"),redirect_uri:this.getAttribute("redirect-uri",window.location.href),no_footer:this._getBoolAttribute("no-footer"),no_header:this._getBoolAttribute("no-header"),onvalidate:this.getAttribute("onvalidate"),width:this._getPxAttribute("width",600),target:this.getAttribute("target")},this._attr.onvalidate&&this.subscribe("xd.validate",this.bind(function(a){var b=FB.JSON.parse(a.value),c=this.bind(function(b){FB.Arbiter.inform("Registration.Validation",{errors:b,id:a.id},'parent.frames["'+this.getIframeNode().name+'"]',"https"==this._attr.channel_url.substring(0,5))}),d=FB.Helper.executeFunctionByName(this._attr.onvalidate,b,c);d&&c(d)})),this.subscribe("xd.authLogin",FB.bind(this._onAuthLogin,this)),this.subscribe("xd.authLogout",FB.bind(this._onAuthLogout,this)),!0},getSize:function(){return{width:this._attr.width,height:this._getHeight()}},_getHeight:function(){if(this._attr.height)return this._attr.height;var a;if(this._attr.fields)try{a=FB.JSON.parse(this._attr.fields)}catch(b){a=this._attr.fields.split(/,/)}else a=["name"];return this._attr.width<this._skinnyWidth?this._skinnyBaseHeight+a.length*this._skinnyFieldHeight:this._baseHeight+a.length*this._fieldHeight},getUrlBits:function(){return{name:"registration",params:this._attr}},getDefaultWebDomain:function(){return"https_www"},_onAuthLogin:function(){FB.getAuthResponse()||FB.getLoginStatus(),FB.Helper.fireEvent("auth.login",this)},_onAuthLogout:function(){FB.getAuthResponse()||FB.getLoginStatus(),FB.Helper.fireEvent("auth.logout",this)}}),FB.subclass("XFBML.ServerFbml","XFBML.IframeWidget",null,{_visibleAfter:"resize",setupAndValidate:function(){if(this._attr={channel_url:this.getChannelUrl(),fbml:this.getAttribute("fbml"),width:this._getPxAttribute("width")},!this._attr.fbml){var a=this.dom.getElementsByTagName("script")[0];a&&"text/fbml"===a.type&&(this._attr.fbml=a.innerHTML)}return this._attr.fbml?!0:(FB.log('<fb:serverfbml> requires the "fbml" attribute.'),!1)},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"serverfbml",params:this._attr}}}),FB.subclass("XFBML.ShareButton","XFBML.Element",null,{process:function(){this._href=this.getAttribute("href",window.location.href),this._type=this.getAttribute("type","icon_link"),FB.Dom.addCss(this.dom,"fb_share_count_hidden"),this._renderButton(!0)},_renderButton:function(a){if(!this.isValid())return void this.fire("render");var b="",c="",d="",e="",f=FB.Intl.tx._("Share"),g="";switch(this._type){case"icon":case"icon_link":e="fb_button_simple",b='<span class="fb_button_text">'+("icon_link"==this._type?f:"&nbsp;")+"</span>",a=!1;break;case"link":b=FB.Intl.tx._("Share on Facebook"),a=!1;break;case"button":b='<span class="fb_button_text">'+f+"</span>",e="fb_button fb_button_small",a=!1;break;case"button_count":b='<span class="fb_button_text">'+f+"</span>",c='<span class="fb_share_count_nub_right">&nbsp;</span><span class="fb_share_count fb_share_count_right">'+this._getCounterMarkup()+"</span>",e="fb_button fb_button_small";break;default:b='<span class="fb_button_text">'+f+"</span>",d='<span class="fb_share_count_nub_top">&nbsp;</span><span class="fb_share_count fb_share_count_top">'+this._getCounterMarkup()+"</span>",e="fb_button fb_button_small",g="fb_share_count_wrapper"}var h=FB.guid();this.dom.innerHTML=FB.String.format('<span class="{0}">{4}<a id="{1}" class="{2}" target="_blank">{3}</a>{5}</span>',g,h,e,b,d,c);var i=document.getElementById(h);i.href=this._href,i.onclick=function(){return FB.ui({method:"stream.share",u:this.href}),!1},a||this.fire("render")},_getCounterMarkup:function(){this._count||(this._count=FB.Data._selectByIndex(["total_count"],"link_stat","url",this._href));var a="0";if(void 0!==this._count.value){if(this._count.value.length>0){var b=this._count.value[0].total_count;b>3&&(FB.Dom.removeCss(this.dom,"fb_share_count_hidden"),a=b>=1e7?Math.round(b/1e6)+"M":b>=1e4?Math.round(b/1e3)+"K":b)}}else this._count.wait(FB.bind(this._renderButton,this,!1));return'<span class="fb_share_count_inner">'+a+"</span>"}}),FB.subclass("XFBML.SocialContext","XFBML.IframeWidget",null,{setupAndValidate:function(){this.getAttribute("size","small");return this._attr={channel:this.getChannelUrl(),width:this._getPxAttribute("width",400),height:this._getPxAttribute("height",100),ref:this.getAttribute("ref"),size:this.getAttribute("size"),keywords:this.getAttribute("keywords"),urls:this.getAttribute("urls")},!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"social_context",params:this._attr}}}),FB.subclass("XFBML.Subscribe","XFBML.EdgeWidget",null,{setupAndValidate:function(){return this._attr={channel:this.getChannelUrl(),api_key:FB._apiKey,font:this.getAttribute("font"),colorscheme:this.getAttribute("colorscheme","light"),href:this.getAttribute("href"),ref:this.getAttribute("ref"),layout:this._getLayout(),show_faces:this._shouldShowFaces(),width:this._getWidgetWidth()},!0},getUrlBits:function(){return{name:"subscribe",params:this._attr}},_getWidgetWidth:function(){var a=this._getLayout(),b={standard:450,box_count:83,button_count:115},c=b[a],d=this._getPxAttribute("width",c),e={standard:{min:225,max:900},box_count:{min:43,max:900},button_count:{min:63,max:900}};
return d<e[a].min?d=e[a].min:d>e[a].max&&(d=e[a].max),d}});var AutoCompleteItemView=Backbone.View.extend({tagName:"li",template:_.template('<a href="javascript:;"><%= label %></a>'),events:{click:"select"},render:function(){return this.$el.html(this.template({label:this.model.label()})),this},select:function(){return this.options.parent.hide().select(this.model),!1},initialize:function(a){this.options=a}}),AutoCompleteView=Backbone.View.extend({tagName:"ul",className:"autocomplete",wait:300,queryParameter:"query",minKeywordLength:2,currentText:"",sport_id:"",itemView:AutoCompleteItemView,updateID:"",updateModel:"",initialize:function(a){_.extend(this,a),this.filter=_.debounce(this.filter,this.wait),this.updateID=a.updateID,this.updateModel=a.updateModel},render:function(){return this.input.attr("autocomplete","off"),this.$el.width(this.input.outerWidth()),this.input.keyup(_.bind(this.keyup,this)).keydown(_.bind(this.keydown,this)).after(this.$el),this},keydown:function(a){return 38==a.keyCode?this.move(-1):40==a.keyCode?this.move(1):13==a.keyCode?this.onEnter():27==a.keyCode?this.hide():void 0},keyup:function(){var a=this.input.val();this.isChanged(a)&&(this.isValid(a)?this.filter(a):this.hide())},filter:function(a){var a=a.toLowerCase();if(this.model.url){var b={};b[this.queryParameter]=a,this.model.fetch({success:function(){this.loadResult(this.model.models,a)}.bind(this),data:b})}else this.loadResult(this.model.filter(function(b){return-1!==b.label().toLowerCase().indexOf(a)}),a)},isValid:function(a){return a.length>this.minKeywordLength},isChanged:function(a){return this.currentText!=a},move:function(a){var b=this.$el.children(".active"),c=this.$el.children(),d=b.index()+a;return c.eq(d).length&&(b.removeClass("active"),c.eq(d).addClass("active")),!1},onEnter:function(){return this.$el.children(".active").click(),!1},loadResult:function(a,b){this.currentText=b,this.show().reset(),a.length?(_.forEach(a,this.addItem,this),this.show()):this.hide()},addItem:function(a){this.$el.append(new this.itemView({model:a,parent:this}).render().$el)},select:function(a){var b=a.label();this.input.val(b),this.currentText=b,this.updateModel.set(this.updateID,a.get(this.updateID)),this.updateModel.attributes.fixedProperty=!0,this.onSelect(a)},reset:function(){return this.$el.empty(),this},hide:function(){return this.$el.hide(),this},show:function(){return this.$el.show(),this},onSelect:function(){}});(function(){{var a,b=this,c=b.Backbone,d=[],e=(d.push,d.slice);d.splice}a="undefined"!=typeof exports?exports:b.Backbone={},a.VERSION="1.1.0";var f=b._;f||"undefined"==typeof require||(f=require("underscore")),a.$=b.jQuery||b.Zepto||b.ender||b.$,a.noConflict=function(){return b.Backbone=c,this},a.emulateHTTP=!1,a.emulateJSON=!1;var g=a.Events={on:function(a,b,c){if(!i(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,c){if(!i(this,"once",a,[b,c])||!b)return this;var d=this,e=f.once(function(){d.off(a,e),b.apply(this,arguments)});return e._callback=b,this.on(a,e,c)},off:function(a,b,c){var d,e,g,h,j,k,l,m;if(!this._events||!i(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;for(h=a?[a]:f.keys(this._events),j=0,k=h.length;k>j;j++)if(a=h[j],g=this._events[a]){if(this._events[a]=d=[],b||c)for(l=0,m=g.length;m>l;l++)e=g[l],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=e.call(arguments,1);if(!i(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&j(c,b),d&&j(d,arguments),this},stopListening:function(a,b,c){var d=this._listeningTo;if(!d)return this;var e=!b&&!c;c||"object"!=typeof b||(c=this),a&&((d={})[a._listenId]=a);for(var g in d)a=d[g],a.off(b,c,this),(e||f.isEmpty(a._events))&&delete this._listeningTo[g];return this}},h=/\s+/,i=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(h.test(c)){for(var f=c.split(h),g=0,i=f.length;i>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},j=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},k={listenTo:"on",listenToOnce:"once"};f.each(k,function(a,b){g[b]=function(b,c,d){var e=this._listeningTo||(this._listeningTo={}),g=b._listenId||(b._listenId=f.uniqueId("l"));return e[g]=b,d||"object"!=typeof c||(d=this),b[a](c,d,this),this}}),g.bind=g.on,g.unbind=g.off,f.extend(a,g);var l=a.Model=function(a,b){var c=a||{};b||(b={}),this.cid=f.uniqueId("c"),this.attributes={},b.collection&&(this.collection=b.collection),b.parse&&(c=this.parse(c,b)||{}),c=f.defaults({},c,f.result(this,"defaults")),this.set(c,b),this.changed={},this.initialize.apply(this,arguments)};f.extend(l.prototype,g,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return f.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return f.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var d,e,g,h,i,j,k,l;if(null==a)return this;if("object"==typeof a?(e=a,c=b):(e={})[a]=b,c||(c={}),!this._validate(e,c))return!1;g=c.unset,i=c.silent,h=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=f.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in e&&(this.id=e[this.idAttribute]);for(d in e)b=e[d],f.isEqual(l[d],b)||h.push(d),f.isEqual(k[d],b)?delete this.changed[d]:this.changed[d]=b,g?delete l[d]:l[d]=b;if(!i){h.length&&(this._pending=!0);for(var m=0,n=h.length;n>m;m++)this.trigger("change:"+h[m],this,l[h[m]],c)}if(j)return this;if(!i)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,f.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var c in this.attributes)b[c]=void 0;return this.set(b,f.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!f.isEmpty(this.changed):f.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?f.clone(this.changed):!1;var b,c=!1,d=this._changing?this._previousAttributes:this.attributes;for(var e in a)f.isEqual(d[e],b=a[e])||((c||(c={}))[e]=b);return c},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return f.clone(this._previousAttributes)},fetch:function(a){a=a?f.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;return a.success=function(d){return b.set(b.parse(d,a),a)?(c&&c(b,d,a),void b.trigger("sync",b,d,a)):!1},K(this,a),this.sync("read",this,a)},save:function(a,b,c){var d,e,g,h=this.attributes;if(null==a||"object"==typeof a?(d=a,c=b):(d={})[a]=b,c=f.extend({validate:!0},c),d&&!c.wait){if(!this.set(d,c))return!1}else if(!this._validate(d,c))return!1;d&&c.wait&&(this.attributes=f.extend({},h,d)),void 0===c.parse&&(c.parse=!0);var i=this,j=c.success;return c.success=function(a){i.attributes=h;var b=i.parse(a,c);return c.wait&&(b=f.extend(d||{},b)),f.isObject(b)&&!i.set(b,c)?!1:(j&&j(i,a,c),void i.trigger("sync",i,a,c))},K(this,c),e=this.isNew()?"create":c.patch?"patch":"update","patch"===e&&(c.attrs=d),g=this.sync(e,this,c),d&&c.wait&&(this.attributes=h),g},destroy:function(a){a=a?f.clone(a):{};var b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(e){(a.wait||b.isNew())&&d(),c&&c(b,e,a),b.isNew()||b.trigger("sync",b,e,a)},this.isNew())return a.success(),!1;K(this,a);var e=this.sync("delete",this,a);return a.wait||d(),e},url:function(){var a=f.result(this,"urlRoot")||f.result(this.collection,"url")||J();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return this._validate({},f.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=f.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;return c?(this.trigger("invalid",this,c,f.extend(b,{validationError:c})),!1):!0}});var m=["keys","values","pairs","invert","pick","omit"];f.each(m,function(a){l.prototype[a]=function(){var b=e.call(arguments);return b.unshift(this.attributes),f[a].apply(f,b)}});var n=a.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,f.extend({silent:!0},b))},o={add:!0,remove:!0,merge:!0},p={add:!0,remove:!1};f.extend(n.prototype,g,{model:l,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return a.sync.apply(this,arguments)},add:function(a,b){return this.set(a,f.extend({merge:!1},b,p))},remove:function(a,b){var c=!f.isArray(a);a=c?[a]:f.clone(a),b||(b={});var d,e,g,h;for(d=0,e=a.length;e>d;d++)h=a[d]=this.get(a[d]),h&&(delete this._byId[h.id],delete this._byId[h.cid],g=this.indexOf(h),this.models.splice(g,1),this.length--,b.silent||(b.index=g,h.trigger("remove",h,this,b)),this._removeReference(h));return c?a[0]:a},set:function(a,b){b=f.defaults({},b,o),b.parse&&(a=this.parse(a,b));var c=!f.isArray(a);a=c?a?[a]:[]:f.clone(a);var d,e,g,h,i,j,k,m=b.at,n=this.model,p=this.comparator&&null==m&&b.sort!==!1,q=f.isString(this.comparator)?this.comparator:null,r=[],s=[],t={},u=b.add,v=b.merge,w=b.remove,x=!p&&u&&w?[]:!1;for(d=0,e=a.length;e>d;d++){if(i=a[d],g=i instanceof l?h=i:i[n.prototype.idAttribute],j=this.get(g))w&&(t[j.cid]=!0),v&&(i=i===h?h.attributes:i,b.parse&&(i=j.parse(i,b)),j.set(i,b),p&&!k&&j.hasChanged(q)&&(k=!0)),a[d]=j;else if(u){if(h=a[d]=this._prepareModel(i,b),!h)continue;r.push(h),h.on("all",this._onModelEvent,this),this._byId[h.cid]=h,null!=h.id&&(this._byId[h.id]=h)}x&&x.push(j||h)}if(w){for(d=0,e=this.length;e>d;++d)t[(h=this.models[d]).cid]||s.push(h);s.length&&this.remove(s,b)}if(r.length||x&&x.length)if(p&&(k=!0),this.length+=r.length,null!=m)for(d=0,e=r.length;e>d;d++)this.models.splice(m+d,0,r[d]);else{x&&(this.models.length=0);var y=x||r;for(d=0,e=y.length;e>d;d++)this.models.push(y[d])}if(k&&this.sort({silent:!0}),!b.silent){for(d=0,e=r.length;e>d;d++)(h=r[d]).trigger("add",h,this,b);(k||x&&x.length)&&this.trigger("sort",this,b)}return c?a[0]:a},reset:function(a,b){b||(b={});for(var c=0,d=this.models.length;d>c;c++)this._removeReference(this.models[c]);return b.previousModels=this.models,this._reset(),a=this.add(a,f.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),a},push:function(a,b){return this.add(a,f.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return this.add(a,f.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(){return e.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a.id]||this._byId[a.cid]||this._byId[a]},at:function(a){return this.models[a]},where:function(a,b){return f.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),f.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(f.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},pluck:function(a){return f.invoke(this.models,"get",a)},fetch:function(a){a=a?f.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;return a.success=function(d){var e=a.reset?"reset":"set";c[e](d,a),b&&b(c,d,a),c.trigger("sync",c,d,a)},K(this,a),this.sync("read",this,a)},create:function(a,b){if(b=b?f.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,d=b.success;return b.success=function(a,b,e){e.wait&&c.add(a,e),d&&d(a,b,e)},a.save(null,b),a},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(a instanceof l)return a.collection||(a.collection=this),a;b=b?f.clone(b):{},b.collection=this;var c=new this.model(a,b);return c.validationError?(this.trigger("invalid",this,c.validationError,b),!1):c},_removeReference:function(a){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});var q=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];f.each(q,function(a){n.prototype[a]=function(){var b=e.call(arguments);return b.unshift(this.models),f[a].apply(f,b)}});var r=["groupBy","countBy","sortBy"];f.each(r,function(a){n.prototype[a]=function(b,c){var d=f.isFunction(b)?b:function(a){return a.get(b)};return f[a](this.models,d,c)}});var s=a.View=function(a){this.cid=f.uniqueId("view"),a||(a={}),f.extend(this,f.pick(a,u)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},t=/^(\S+)\s*(.*)$/,u=["model","collection","el","id","attributes","className","tagName","events"];f.extend(s.prototype,g,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(b,c){return this.$el&&this.undelegateEvents(),this.$el=b instanceof a.$?b:a.$(b),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=f.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];if(f.isFunction(c)||(c=this[a[b]]),c){var d=b.match(t),e=d[1],g=d[2];c=f.bind(c,this),e+=".delegateEvents"+this.cid,""===g?this.$el.on(e,c):this.$el.on(e,g,c)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(f.result(this,"el"),!1);else{var b=f.extend({},f.result(this,"attributes"));this.id&&(b.id=f.result(this,"id")),this.className&&(b["class"]=f.result(this,"className"));var c=a.$("<"+f.result(this,"tagName")+">").attr(b);this.setElement(c,!1)}}}),a.sync=function(b,c,d){var e=w[b];f.defaults(d||(d={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var g={type:e,dataType:"json"};if(d.url||(g.url=f.result(c,"url")||J()),null!=d.data||!c||"create"!==b&&"update"!==b&&"patch"!==b||(g.contentType="application/json",g.data=JSON.stringify(d.attrs||c.toJSON(d))),d.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{}),d.emulateHTTP&&("PUT"===e||"DELETE"===e||"PATCH"===e)){g.type="POST",d.emulateJSON&&(g.data._method=e);var h=d.beforeSend;d.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",e),h?h.apply(this,arguments):void 0}}"GET"===g.type||d.emulateJSON||(g.processData=!1),"PATCH"===g.type&&v&&(g.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var i=d.xhr=a.ajax(f.extend(g,d));return c.trigger("request",c,i,d),i};var v=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),w={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var x=a.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},y=/\((.*?)\)/g,z=/(\(\?)?:\w+/g,A=/\*\w+/g,B=/[\-{}\[\]+?.,\\\^$|#\s]/g;f.extend(x.prototype,g,{initialize:function(){},route:function(b,c,d){f.isRegExp(b)||(b=this._routeToRegExp(b)),f.isFunction(c)&&(d=c,c=""),d||(d=this[c]);var e=this;return a.history.route(b,function(f){var g=e._extractParameters(b,f);d&&d.apply(e,g),e.trigger.apply(e,["route:"+c].concat(g)),e.trigger("route",c,g),a.history.trigger("route",e,c,g)}),this},navigate:function(b,c){return a.history.navigate(b,c),this},_bindRoutes:function(){if(this.routes){this.routes=f.result(this,"routes");for(var a,b=f.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(B,"\\$&").replace(y,"(?:$1)?").replace(z,function(a,b){return b?a:"([^/]+)"}).replace(A,"(.*?)"),new RegExp("^"+a+"$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);return f.map(c,function(a){return a?decodeURIComponent(a):null})}});var C=a.History=function(){this.handlers=[],f.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},D=/^[#\/]|\s+$/g,E=/^\/+|\/+$/g,F=/msie [\w.]+/,G=/\/$/,H=/[?#].*$/;C.started=!1,f.extend(C.prototype,g,{interval:50,getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var c=this.root.replace(G,"");a.indexOf(c)||(a=a.slice(c.length))}else a=this.getHash();return a.replace(D,"")},start:function(b){if(C.started)throw new Error("Backbone.history has already been started");C.started=!0,this.options=f.extend({root:"/"},this.options,b),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var c=this.getFragment(),d=document.documentMode,e=F.exec(navigator.userAgent.toLowerCase())&&(!d||7>=d);this.root=("/"+this.root+"/").replace(E,"/"),e&&this._wantsHashChange&&(this.iframe=a.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(c)),this._hasPushState?a.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!e?a.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=c;var g=this.location,h=g.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!h)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&h&&g.hash&&(this.fragment=this.getHash().replace(D,""),this.history.replaceState({},document.title,this.root+this.fragment+g.search))}return this.options.silent?void 0:this.loadUrl()},stop:function(){a.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),C.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();return a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe))),a===this.fragment?!1:(this.iframe&&this.navigate(a),void this.loadUrl())},loadUrl:function(a){return a=this.fragment=this.getFragment(a),f.any(this.handlers,function(b){return b.route.test(a)?(b.callback(a),!0):void 0})},navigate:function(a,b){if(!C.started)return!1;b&&b!==!0||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));if(a=a.replace(H,""),this.fragment!==a){if(this.fragment=a,""===a&&"/"!==c&&(c=c.slice(0,-1)),this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}return b.trigger?this.loadUrl(a):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),a.history=new C;var I=function(a,b){var c,d=this;c=a&&f.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)},f.extend(c,d,b);var e=function(){this.constructor=c};return e.prototype=d.prototype,c.prototype=new e,a&&f.extend(c.prototype,a),c.__super__=d.prototype,c};l.extend=n.extend=x.extend=s.extend=C.extend=I;var J=function(){throw new Error('A "url" property or function must be specified')},K=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}}}).call(this),CDV="undefined"==typeof CDV?{}:CDV;var cordova=window.cordova||window.Cordova;CDV.FB={init:function(a,b){if(!document.getElementById("fb-root")){var c=document.createElement("div");c.id="fb-root",document.body.appendChild(c)}var d=new XMLHttpRequest;d.onload=function(){console.log("Endpoint saved "+this.responseText)},d.open("POST","https://www.facebook.com/impression.php",!0),d.send('plugin=featured_resources&payload={"resource": "adobe_phonegap", "appid": "'+a+'", "version": "3.0.0" }'),cordova.exec(function(){var a=JSON.parse(localStorage.getItem("cdv_fb_session")||'{"expiresIn":0}');if(a&&a.expirationTime){var b=(new Date).getTime();a.expirationTime>b&&(updatedExpiresIn=Math.floor((a.expirationTime-b)/1e3),a.expiresIn=updatedExpiresIn,localStorage.setItem("cdv_fb_session",JSON.stringify(a)),FB.Auth.setAuthResponse(a,"connected"))}console.log("Cordova Facebook Connect plugin initialized successfully.")},b?b:null,"org.apache.cordova.facebook.Connect","init",[a])},login:function(a,b,c){a=a||{scope:""},cordova.exec(function(a){if(a.authResponse&&a.authResponse.expiresIn){var c=0===a.authResponse.expiresIn?0:(new Date).getTime()+1e3*a.authResponse.expiresIn;a.authResponse.expirationTime=c}localStorage.setItem("cdv_fb_session",JSON.stringify(a.authResponse)),FB.Auth.setAuthResponse(a.authResponse,"connected"),b&&b(a)},c?c:null,"org.apache.cordova.facebook.Connect","login",a.scope.split(","))},logout:function(a,b){cordova.exec(function(b){localStorage.removeItem("cdv_fb_session"),FB.Auth.setAuthResponse(null,"notConnected"),a&&a(b)},b?b:null,"org.apache.cordova.facebook.Connect","logout",[])},getLoginStatus:function(a,b){cordova.exec(function(b){a&&a(b)},b?b:null,"org.apache.cordova.facebook.Connect","getLoginStatus",[])},dialog:function(a,b,c){cordova.exec(function(a){b&&b(a)},c?c:null,"org.apache.cordova.facebook.Connect","showDialog",[a])}},$(function(){if($(".simulate-touch").length>0){new FingerBlast(".simulate-touch")}$('.radio-list input[type="radio"]').change(function(){$(this).parents(".radio-list").find("label").removeClass("checked"),$(this).parent().addClass("checked")}),$('.checkbox-list input[type="checkbox"]').change(function(){$(this).is(":checked")?$(this).parent().addClass("checked"):$(this).parent().removeClass("checked")}),$("*[data-dismiss]").click(function(){var a=$(this).attr("data-dismiss");$("."+a).addClass("dismissed")}),$('[data-toggle-element="popover-context"]').click(function(){$(".cl-popover").is(":visible")?$(".cl-content").css("overflow","hidden"):$(".cl-content").css("overflow","scroll")}),$(".cl-modal").is(":visible")?$(".cl-content").css("overflow","hidden"):$(".cl-content").css("overflow","scroll")}),cordova.define("cordova/plugin_list",function(a,b,c){c.exports=[{file:"plugins/org.apache.cordova.camera/www/CameraConstants.js",id:"org.apache.cordova.camera.Camera",clobbers:["Camera"]},{file:"plugins/org.apache.cordova.camera/www/CameraPopoverOptions.js",id:"org.apache.cordova.camera.CameraPopoverOptions",clobbers:["CameraPopoverOptions"]},{file:"plugins/org.apache.cordova.camera/www/Camera.js",id:"org.apache.cordova.camera.camera",clobbers:["navigator.camera"]},{file:"plugins/org.apache.cordova.camera/www/ios/CameraPopoverHandle.js",id:"org.apache.cordova.camera.CameraPopoverHandle",clobbers:["CameraPopoverHandle"]},{file:"plugins/org.apache.cordova.media-capture/www/CaptureAudioOptions.js",id:"org.apache.cordova.media-capture.CaptureAudioOptions",clobbers:["CaptureAudioOptions"]},{file:"plugins/org.apache.cordova.media-capture/www/CaptureImageOptions.js",id:"org.apache.cordova.media-capture.CaptureImageOptions",clobbers:["CaptureImageOptions"]},{file:"plugins/org.apache.cordova.media-capture/www/CaptureVideoOptions.js",id:"org.apache.cordova.media-capture.CaptureVideoOptions",clobbers:["CaptureVideoOptions"]},{file:"plugins/org.apache.cordova.media-capture/www/CaptureError.js",id:"org.apache.cordova.media-capture.CaptureError",clobbers:["CaptureError"]},{file:"plugins/org.apache.cordova.media-capture/www/MediaFileData.js",id:"org.apache.cordova.media-capture.MediaFileData",clobbers:["MediaFileData"]},{file:"plugins/org.apache.cordova.media-capture/www/MediaFile.js",id:"org.apache.cordova.media-capture.MediaFile",clobbers:["MediaFile"]},{file:"plugins/org.apache.cordova.media-capture/www/capture.js",id:"org.apache.cordova.media-capture.capture",clobbers:["navigator.device.capture"]},{file:"plugins/org.apache.cordova.media/www/MediaError.js",id:"org.apache.cordova.media.MediaError",clobbers:["window.MediaError"]},{file:"plugins/org.apache.cordova.media/www/Media.js",id:"org.apache.cordova.media.Media",clobbers:["window.Media"]},{file:"plugins/org.apache.cordova.device-motion/www/Acceleration.js",id:"org.apache.cordova.device-motion.Acceleration",clobbers:["Acceleration"]},{file:"plugins/org.apache.cordova.device-motion/www/accelerometer.js",id:"org.apache.cordova.device-motion.accelerometer",clobbers:["navigator.accelerometer"]},{file:"plugins/org.apache.cordova.device-orientation/www/CompassError.js",id:"org.apache.cordova.device-orientation.CompassError",clobbers:["CompassError"]},{file:"plugins/org.apache.cordova.device-orientation/www/CompassHeading.js",id:"org.apache.cordova.device-orientation.CompassHeading",clobbers:["CompassHeading"]},{file:"plugins/org.apache.cordova.device-orientation/www/compass.js",id:"org.apache.cordova.device-orientation.compass",clobbers:["navigator.compass"]},{file:"plugins/org.apache.cordova.geolocation/www/Coordinates.js",id:"org.apache.cordova.geolocation.Coordinates",clobbers:["Coordinates"]},{file:"plugins/org.apache.cordova.geolocation/www/PositionError.js",id:"org.apache.cordova.geolocation.PositionError",clobbers:["PositionError"]},{file:"plugins/org.apache.cordova.geolocation/www/Position.js",id:"org.apache.cordova.geolocation.Position",clobbers:["Position"]},{file:"plugins/org.apache.cordova.geolocation/www/geolocation.js",id:"org.apache.cordova.geolocation.geolocation",clobbers:["navigator.geolocation"]},{file:"plugins/org.apache.cordova.network-information/www/network.js",id:"org.apache.cordova.network-information.network",clobbers:["navigator.connection","navigator.network.connection"]},{file:"plugins/org.apache.cordova.network-information/www/Connection.js",id:"org.apache.cordova.network-information.Connection",clobbers:["Connection"]},{file:"plugins/org.apache.cordova.file/www/DirectoryEntry.js",id:"org.apache.cordova.file.DirectoryEntry",clobbers:["window.DirectoryEntry"]},{file:"plugins/org.apache.cordova.file/www/DirectoryReader.js",id:"org.apache.cordova.file.DirectoryReader",clobbers:["window.DirectoryReader"]},{file:"plugins/org.apache.cordova.file/www/Entry.js",id:"org.apache.cordova.file.Entry",clobbers:["window.Entry"]},{file:"plugins/org.apache.cordova.file/www/File.js",id:"org.apache.cordova.file.File",clobbers:["window.File"]},{file:"plugins/org.apache.cordova.file/www/FileEntry.js",id:"org.apache.cordova.file.FileEntry",clobbers:["window.FileEntry"]},{file:"plugins/org.apache.cordova.file/www/FileError.js",id:"org.apache.cordova.file.FileError",clobbers:["window.FileError"]},{file:"plugins/org.apache.cordova.file/www/FileReader.js",id:"org.apache.cordova.file.FileReader",clobbers:["window.FileReader"]},{file:"plugins/org.apache.cordova.file/www/FileSystem.js",id:"org.apache.cordova.file.FileSystem",clobbers:["window.FileSystem"]},{file:"plugins/org.apache.cordova.file/www/FileUploadOptions.js",id:"org.apache.cordova.file.FileUploadOptions",clobbers:["window.FileUploadOptions"]},{file:"plugins/org.apache.cordova.file/www/FileUploadResult.js",id:"org.apache.cordova.file.FileUploadResult",clobbers:["window.FileUploadResult"]},{file:"plugins/org.apache.cordova.file/www/FileWriter.js",id:"org.apache.cordova.file.FileWriter",clobbers:["window.FileWriter"]},{file:"plugins/org.apache.cordova.file/www/Flags.js",id:"org.apache.cordova.file.Flags",clobbers:["window.Flags"]},{file:"plugins/org.apache.cordova.file/www/LocalFileSystem.js",id:"org.apache.cordova.file.LocalFileSystem",clobbers:["window.LocalFileSystem"],merges:["window"]},{file:"plugins/org.apache.cordova.file/www/Metadata.js",id:"org.apache.cordova.file.Metadata",clobbers:["window.Metadata"]},{file:"plugins/org.apache.cordova.file/www/ProgressEvent.js",id:"org.apache.cordova.file.ProgressEvent",clobbers:["window.ProgressEvent"]},{file:"plugins/org.apache.cordova.file/www/requestFileSystem.js",id:"org.apache.cordova.file.requestFileSystem",clobbers:["window.requestFileSystem"]},{file:"plugins/org.apache.cordova.file/www/resolveLocalFileSystemURI.js",id:"org.apache.cordova.file.resolveLocalFileSystemURI",clobbers:["window.resolveLocalFileSystemURI"]},{file:"plugins/org.apache.cordova.file/www/ios/Entry.js",id:"org.apache.cordova.file.Entry1",merges:["window.Entry"]}],c.exports.metadata={"org.apache.cordova.camera":"0.2.6","org.apache.cordova.media-capture":"0.2.6","org.apache.cordova.media":"0.2.7","org.apache.cordova.device-motion":"0.2.5","org.apache.cordova.device-orientation":"0.3.4","org.apache.cordova.geolocation":"0.3.5","org.apache.cordova.network-information":"0.2.6","org.apache.cordova.file":"0.2.5"}}),window.FB||(window.FB={_apiKey:null,_authResponse:null,_userStatus:"unknown",_logging:!0,_inCanvas:window.name.indexOf("iframe_canvas")>-1||window.name.indexOf("app_runner")>-1,_https:window.name.indexOf("_fb_https")>-1,_domain:{api:"https://api.facebook.com/",api_read:"https://api-read.facebook.com/",cdn:"http://static.ak.fbcdn.net/",https_cdn:"https://s-static.ak.fbcdn.net/",graph:"https://graph.facebook.com/",staticfb:"http://static.ak.facebook.com/",https_staticfb:"https://s-static.ak.facebook.com/",www:"http://www.facebook.com/",https_www:"https://www.facebook.com/",m:"http://m.facebook.com/",https_m:"https://m.facebook.com/"},_locale:null,_localeIsRtl:!1,_nativeInterface:null,getDomain:function(a,b){var c=!b&&("https:"==window.location.protocol||FB._https);switch(a){case"api":return FB._domain.api;case"api_read":return FB._domain.api_read;case"cdn":return c?FB._domain.https_cdn:FB._domain.cdn;case"cdn_foreign":return FB._domain.cdn_foreign;case"https_cdn":return FB._domain.https_cdn;case"graph":return FB._domain.graph;case"staticfb":return c?FB._domain.https_staticfb:FB._domain.staticfb;case"https_staticfb":return FB._domain.https_staticfb;case"www":return c?FB._domain.https_www:FB._domain.www;case"https_www":return FB._domain.https_www;case"m":return c?FB._domain.https_m:FB._domain.m;case"https_m":return FB._domain.https_m}},copy:function(a,b,c,d){for(var e in b)(c||"undefined"==typeof a[e])&&(a[e]=d?d(b[e]):b[e]);return a},create:function(a,b){for(var c=window.FB,d=a?a.split("."):[],e=d.length,f=0;e>f;f++){var g=d[f],h=c[g];h||(h=b&&f+1==e?b:{},c[g]=h),c=h}return c},provide:function(a,b,c){return FB.copy("string"==typeof a?FB.create(a):a,b,c)
},guid:function(){return"f"+(Math.random()*(1<<30)).toString(16).replace(".","")},log:function(a){FB._logging&&(window.Debug&&window.Debug.writeln?window.Debug.writeln(a):window.console&&window.console.log(a)),FB.Event&&FB.Event.fire("fb.log",a)},$:function(a){return document.getElementById(a)}}),FB.provide("Array",{indexOf:function(a,b){if(a.indexOf)return a.indexOf(b);var c=a.length;if(c)for(var d=0;c>d;d++)if(a[d]===b)return d;return-1},merge:function(a,b){for(var c=0;c<b.length;c++)FB.Array.indexOf(a,b[c])<0&&a.push(b[c]);return a},filter:function(a,b){for(var c=[],d=0;d<a.length;d++)b(a[d])&&c.push(a[d]);return c},keys:function(a,b){var c=[];for(var d in a)(b||a.hasOwnProperty(d))&&c.push(d);return c},map:function(a,b){for(var c=[],d=0;d<a.length;d++)c.push(b(a[d]));return c},forEach:function(a,b,c){if(a)if("[object Array]"!==Object.prototype.toString.apply(a)&&(a instanceof Function||"number"!=typeof a.length))for(var d in a)(c||a.hasOwnProperty(d))&&b(a[d],d,a);else if(a.forEach)a.forEach(b);else for(var e=0,f=a.length;f>e;e++)b(a[e],e,a)},toArray:function(a){for(var b=0,c=[],d=a.length;d>b;b++)c[b]=a[b];return c}}),FB.provide("QS",{encode:function(a,b,c){b=void 0===b?"&":b,c=c===!1?function(a){return a}:encodeURIComponent;var d=[];return FB.Array.forEach(a,function(a,b){null!==a&&"undefined"!=typeof a&&d.push(c(b)+"="+c(a))}),d.sort(),d.join(b)},decode:function(a){var b,c,d=decodeURIComponent,e={},f=a.split("&");for(b=0;b<f.length;b++)c=f[b].split("=",2),c&&c[0]&&(e[d(c[0])]=d(c[1]||""));return e}}),FB.provide("Content",{_root:null,_hiddenRoot:null,_callbacks:{},append:function(a,b){if(!b)if(FB.Content._root)b=FB.Content._root;else{if(FB.Content._root=b=FB.$("fb-root"),!b)return void FB.log('The "fb-root" div has not been created.');b.className+=" fb_reset"}if("string"==typeof a){var c=document.createElement("div");return b.appendChild(c).innerHTML=a,c}return b.appendChild(a)},appendHidden:function(a){if(!FB.Content._hiddenRoot){var b=document.createElement("div"),c=b.style;c.position="absolute",c.top="-10000px",c.width=c.height=0,FB.Content._hiddenRoot=FB.Content.append(b)}return FB.Content.append(a,FB.Content._hiddenRoot)},insertIframe:function(a){a.id=a.id||FB.guid(),a.name=a.name||FB.guid();var b=FB.guid(),c=!1,d=!1;if(FB.Content._callbacks[b]=function(){c&&!d&&(d=!0,a.onload&&a.onload(a.root.firstChild))},document.attachEvent){var e='<iframe id="'+a.id+'" name="'+a.name+'"'+(a.title?' title="'+a.title+'"':"")+(a.className?' class="'+a.className+'"':"")+' style="border:none;'+(a.width?"width:"+a.width+"px;":"")+(a.height?"height:"+a.height+"px;":"")+'" src="javascript:false;" frameborder="0" scrolling="no" allowtransparency="true" onload="FB.Content._callbacks.'+b+'()"></iframe>';a.root.innerHTML='<iframe src="javascript:false" frameborder="0" scrolling="no" style="height:1px"></iframe>',c=!0,window.setTimeout(function(){a.root.innerHTML=e,a.root.firstChild.src=a.url,a.onInsert&&a.onInsert(a.root.firstChild)},0)}else{var f=document.createElement("iframe");f.id=a.id,f.name=a.name,f.onload=FB.Content._callbacks[b],f.scrolling="no",f.style.border="none",f.style.overflow="hidden",a.title&&(f.title=a.title),a.className&&(f.className=a.className),a.height&&(f.style.height=a.height+"px"),a.width&&(f.style.width="100%"==a.width?a.width:a.width+"px"),a.root.appendChild(f),c=!0,f.src=a.url,a.onInsert&&a.onInsert(f)}},submitToTarget:function(a,b){var c=document.createElement("form");c.action=a.url,c.target=a.target,c.method=b?"GET":"POST",FB.Content.appendHidden(c),FB.Array.forEach(a.params,function(a,b){if(null!==a&&void 0!==a){var d=document.createElement("input");d.name=b,d.value=a,c.appendChild(d)}}),c.submit(),c.parentNode.removeChild(c)}}),FB.provide("Flash",{_minVersions:[[9,0,159,0],[10,0,22,87]],_swfPath:"swf/XdComm.swf",_callbacks:[],_names:{},_unloadRegistered:!1,init:function(){FB.Flash._init||(FB.Flash._init=!0,window.FB_OnFlashXdCommReady=function(){FB.Flash._ready=!0;for(var a=0,b=FB.Flash._callbacks.length;b>a;a++)FB.Flash._callbacks[a]();FB.Flash._callbacks=[]},FB.Flash.embedSWF("XdComm",FB.getDomain("cdn_foreign")+FB.Flash._swfPath))},embedSWF:function(a,b,c){var d=!!document.attachEvent,e='<object type="application/x-shockwave-flash" id="'+a+'" '+(c?'flashvars="'+c+'" ':"")+(d?'name="'+a+'" ':"")+(d?"":'data="'+b+'" ')+(d?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ':"")+'allowscriptaccess="always"><param name="movie" value="'+b+'"></param><param name="allowscriptaccess" value="always"></param></object>';if(FB.Content.appendHidden(e),FB.UA.ie()>=9){if(!FB.Flash._unloadRegistered){var f=function(){FB.Array.forEach(FB.Flash._names,function(a,b){var c=document.getElementById(b);c&&c.removeNode(!0)})};window.attachEvent("onunload",f),FB.Flash._unloadRegistered=!0}FB.Flash._names[a]=!0}},hasMinVersion:function(){if("undefined"==typeof FB.Flash._hasMinVersion){var a,b,c,d=[];try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(e){if(navigator.mimeTypes.length>0){var f="application/x-shockwave-flash";if(navigator.mimeTypes[f].enabledPlugin){var g="Shockwave Flash";a=(navigator.plugins[g+" 2.0"]||navigator.plugins[g]).description}}}if(a){var h=a.replace(/\D+/g,",").match(/^,?(.+),?$/)[1].split(",");for(b=0,c=h.length;c>b;b++)d.push(parseInt(h[b],10))}FB.Flash._hasMinVersion=!1;a:for(b=0,c=FB.Flash._minVersions.length;c>b;b++){var i=FB.Flash._minVersions[b];if(i[0]==d[0])for(var j=1,k=i.length,l=d.length;k>j&&l>j;j++){if(d[j]<i[j]){FB.Flash._hasMinVersion=!1;continue a}if(FB.Flash._hasMinVersion=!0,d[j]>i[j])break a}}}return FB.Flash._hasMinVersion},onReady:function(a){FB.Flash.init(),FB.Flash._ready?window.setTimeout(a,0):FB.Flash._callbacks.push(a)}}),this.JSON||(this.JSON={}),function(){function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)d=rep[c],"string"==typeof d&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),FB.provide("JSON",{stringify:function(a){return window.Prototype&&Object.toJSON?Object.toJSON(a):JSON.stringify(a)},parse:function(a){return JSON.parse(a)},flatten:function(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];if(null===d||void 0===d)continue;b[c]="string"==typeof d?d:FB.JSON.stringify(d)}return b}}),FB.provide("",{api:function(){"string"==typeof arguments[0]?FB.ApiServer.graph.apply(FB.ApiServer,arguments):FB.ApiServer.rest.apply(FB.ApiServer,arguments)}}),FB.provide("ApiServer",{METHODS:["get","post","delete","put"],_callbacks:{},_readOnlyCalls:{fql_query:!0,fql_multiquery:!0,friends_get:!0,notifications_get:!0,stream_get:!0,users_getinfo:!0},graph:function(){for(var a,b,c,d=Array.prototype.slice.call(arguments),e=d.shift().match(/\/?([^?]*)\??([^#]*)/),f=e[1],g=d.shift();g;){var h=typeof g;if("string"!==h||a)if("function"!==h||c){if("object"!==h||b)return void FB.log("Invalid argument passed to FB.api(): "+g);b=g}else c=g;else a=g.toLowerCase();g=d.shift()}return a=a||"get",b=FB.copy(b||{},FB.QS.decode(e[2])),FB.Array.indexOf(FB.ApiServer.METHODS,a)<0?void FB.log("Invalid method passed to FB.api(): "+a):void FB.ApiServer.oauthRequest("graph",f,a,b,c)},rest:function(a,b){var c=a.method.toLowerCase().replace(".","_");if(FB.Auth&&"auth_revokeauthorization"===c){var d=b;b=function(a){a===!0&&FB.Auth.setAuthResponse(null,"not_authorized"),d&&d(a)}}a.format="json-strings",a.api_key=FB._apiKey;var e=FB.ApiServer._readOnlyCalls[c]?"api_read":"api";FB.ApiServer.oauthRequest(e,"restserver.php","get",a,b)},oauthRequest:function(a,b,c,d,e){!d.access_token&&FB.getAccessToken()&&(d.access_token=FB.getAccessToken()),d.sdk="joey",d.pretty=0;var f=e;e=function(a){FB.Auth&&a&&FB.getAccessToken()==d.access_token&&("190"===a.error_code||a.error&&("invalid_token"===a.error||"OAuthException"===a.error.type))&&FB.getLoginStatus(null,!0),f&&f(a)};try{FB.ApiServer.jsonp(a,b,c,FB.JSON.flatten(d),e)}catch(g){try{if(!FB.initSitevars.corsKillSwitch&&FB.ApiServer.corsPost(a,b,c,FB.JSON.flatten(d),e))return}catch(h){}if(!FB.Flash.hasMinVersion())throw new Error("Your browser does not support long connect requests. You can fix this problem by upgrading your browser or installing the latest version of Flash");FB.ApiServer.flash(a,b,c,FB.JSON.flatten(d),e)}},corsPost:function(a,b,c,d,e){var f=FB.getDomain(a)+b;"graph"==a&&(d.method=c);var g=FB.QS.encode(d),h="application/x-www-form-urlencoded",i=FB.ApiServer._createCORSRequest("POST",f,h);return i?(i.onload=function(){e&&e(FB.JSON.parse(i.responseText))},i.send(g),!0):!1},_createCORSRequest:function(a,b,c){if(!window.XMLHttpRequest)return null;var d=new XMLHttpRequest;return"withCredentials"in d?(d.open(a,b,!0),d.setRequestHeader("Content-type",c)):window.XDomainRequest?(d=new XDomainRequest,d.open(a,b)):d=null,d},jsonp:function(a,b,c,d,e){var f=FB.guid(),g=document.createElement("script");"graph"===a&&"get"!==c&&(d.method=c),d.callback="FB.ApiServer._callbacks."+f;var h=FB.getDomain(a)+b+(b.indexOf("?")>-1?"&":"?")+FB.QS.encode(d);if(h.length>2e3)throw new Error("JSONP only support a maximum of 2000 bytes of input.");FB.ApiServer._callbacks[f]=function(a){e&&e(a),delete FB.ApiServer._callbacks[f],g.parentNode.removeChild(g)},g.src=h,document.getElementsByTagName("head")[0].appendChild(g)},flash:function(a,b,c,d,e){window.FB_OnXdHttpResult||(window.FB_OnXdHttpResult=function(a,b){FB.ApiServer._callbacks[a](decodeURIComponent(b))}),FB.Flash.onReady(function(){"graph"===a&&(d.suppress_http_code=1);var f=FB.getDomain(a)+b,g=FB.QS.encode(d);"get"===c?f.length+g.length>2e3?("graph"===a&&(d.method="get"),c="post",g=FB.QS.encode(d)):(f+=(f.indexOf("?")>-1?"&":"?")+g,g=""):"post"!==c&&("graph"===a&&(d.method=c),c="post",g=FB.QS.encode(d));var h=document.XdComm.sendXdHttpRequest(c.toUpperCase(),f,g,null);FB.ApiServer._callbacks[h]=function(a){e&&e(FB.JSON.parse(a)),delete FB.ApiServer._callbacks[h]}})}}),FB.provide("EventProvider",{subscribers:function(){return this._subscribersMap||(this._subscribersMap={}),this._subscribersMap},subscribe:function(a,b){var c=this.subscribers();c[a]?c[a].push(b):c[a]=[b]},unsubscribe:function(a,b){var c=this.subscribers()[a];FB.Array.forEach(c,function(a,d){a==b&&(c[d]=null)})},monitor:function(a,b){if(!b()){var c=this,d=function(){b.apply(b,arguments)&&c.unsubscribe(a,d)};this.subscribe(a,d)}},clear:function(a){delete this.subscribers()[a]},fire:function(){var a=Array.prototype.slice.call(arguments),b=a.shift();FB.Array.forEach(this.subscribers()[b],function(b){b&&b.apply(this,a)})},listen:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},unlisten:function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)}}),FB.provide("Event",FB.EventProvider),FB.provide("XD",{_origin:null,_transport:null,_callbacks:{},_forever:{},_xdProxyUrl:"connect/xd_proxy.php",_openerTransport:null,_openerOrigin:null,_nonOpenerOrigin:null,init:function(a){if(!FB.XD._origin){var b=window.location.protocol+"//"+window.location.host+"/"+FB.guid();if(window.addEventListener&&!window.attachEvent&&window.postMessage)FB.XD._origin=b,FB.XD.PostMessage.init(),FB.XD._transport="postmessage";else if(!a&&FB.Flash.hasMinVersion())if(document.getElementById("fb-root")){var c=document.domain;"facebook.com"==c&&(c=window.location.host),FB.XD._origin=window.location.protocol+"//"+c+"/"+FB.guid(),FB.XD.Flash.init(),FB.XD._transport="flash"}else FB.log&&FB.log("missing fb-root, defaulting to fragment-based xdcomm"),FB.XD._transport="fragment",FB.XD.Fragment._channelUrl=a||window.location.toString();else FB.XD._transport="fragment",FB.XD.Fragment._channelUrl=a||window.location.toString();var d=!!window.attachEvent;"postmessage"!=FB.XD._transport&&d&&window.postMessage&&(FB.XD._openerTransport=FB.XD._transport,FB.XD._openerOrigin=FB.XD._origin,FB.XD._nonOpenerOrigin=b)}},resolveRelation:function(a){for(var b,c,d=a.split("."),e=window,f=0,g=d.length;g>f;f++)if(b=d[f],"opener"===b||"parent"===b||"top"===b)e=e[b];else{if(!(c=/^frames\[['"]?([a-zA-Z0-9-_]+)['"]?\]$/.exec(b)))throw new SyntaxError("Malformed id to resolve: "+a+", pt: "+b);e=e.frames[c[1]]}return e},handler:function(a,b,c,d,e){if(window.location.toString().indexOf(FB.XD.Fragment._magic)>0)return"javascript:false;//";FB.initSitevars.forceSecureXdProxy&&(e=!0);var f=FB.getDomain((e?"https_":"")+"cdn")+FB.XD._xdProxyUrl+"#";if(d=d||FB.guid(),b=b||"opener",FB.XD._openerTransport&&("opener"==b?(FB.XD._transport=FB.XD._openerTransport,FB.XD._origin=FB.XD._openerOrigin):(FB.XD.PostMessage.init(),FB.XD._transport="postmessage",FB.XD._origin=FB.XD._nonOpenerOrigin)),"fragment"==FB.XD._transport){f=FB.XD.Fragment._channelUrl;var g=f.indexOf("#");g>0&&(f=f.substr(0,g)),f+=(f.indexOf("?")<0?"?":"&")+FB.XD.Fragment._magic+"#?=&"}return c&&(FB.XD._forever[d]=!0),FB.XD._callbacks[d]=a,f+FB.QS.encode({cb:d,origin:FB.XD._origin,relation:b,transport:FB.XD._transport})},recv:function(a){if("string"==typeof a)try{a=FB.JSON.parse(a)}catch(b){a=FB.QS.decode(a)}var c=FB.XD._callbacks[a.cb];FB.XD._forever[a.cb]||delete FB.XD._callbacks[a.cb],c&&c(a)},PostMessage:{_isInitialized:!1,init:function(){if(!FB.XD.PostMessage._isInitialized){var a=FB.XD.PostMessage.onMessage;window.addEventListener?window.addEventListener("message",a,!1):window.attachEvent("onmessage",a),FB.XD.PostMessage._isInitialized=!0}},onMessage:function(a){FB.XD.recv(a.data)}},WebView:{onMessage:function(a,b,c){FB.XD.recv(c)}},Flash:{init:function(){FB.Flash.onReady(function(){document.XdComm.postMessage_init("FB.XD.Flash.onMessage",FB.XD._openerOrigin?FB.XD._openerOrigin:FB.XD._origin)})},onMessage:function(a){FB.XD.recv(decodeURIComponent(a))}},Fragment:{_magic:"fb_xd_fragment",checkAndDispatch:function(){var a=window.location.toString(),b=a.substr(a.indexOf("#")+1),c=a.indexOf(FB.XD.Fragment._magic);c>0&&(FB.init=FB.getLoginStatus=FB.api=function(){},document.documentElement.style.display="none",FB.XD.resolveRelation(FB.QS.decode(b).relation).FB.XD.recv(b))}}}),FB.XD.Fragment.checkAndDispatch(),FB.provide("UA",{ie:function(){return FB.UA._populate()||this._ie},firefox:function(){return FB.UA._populate()||this._firefox},opera:function(){return FB.UA._populate()||this._opera},safari:function(){return FB.UA._populate()||this._safari},chrome:function(){return FB.UA._populate()||this._chrome},windows:function(){return FB.UA._populate()||this._windows},osx:function(){return FB.UA._populate()||this._osx},linux:function(){return FB.UA._populate()||this._linux},ios:function(){return FB.UA._populate(),FB.UA.mobile()&&this._ios},mobile:function(){return FB.UA._populate(),!FB._inCanvas&&this._mobile},nativeApp:function(){return FB.UA.mobile()&&navigator.userAgent.match(/FBAN\/\w+;/i)},android:function(){return FB.UA._populate(),FB.UA.mobile()&&this._android},iPad:function(){return FB.UA._populate(),FB.UA.mobile()&&this._iPad},_populated:!1,_populate:function(){if(!FB.UA._populated){FB.UA._populated=!0;var a=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))/.exec(navigator.userAgent),b=/(Mac OS X)|(Windows)|(Linux)/.exec(navigator.userAgent),c=/\b(iPhone|iP[ao]d)/.exec(navigator.userAgent);FB.UA._iPad=/\b(iPad)/.exec(navigator.userAgent),FB.UA._android=navigator.userAgent.match(/Android/i),FB.UA._mobile=c||FB.UA._android||navigator.userAgent.match(/Mobile/i),a?(FB.UA._ie=a[1]?parseFloat(a[1]):0/0,FB.UA._ie>=8&&!window.HTMLCollection&&(FB.UA._ie=7),FB.UA._firefox=a[2]?parseFloat(a[2]):0/0,FB.UA._opera=a[3]?parseFloat(a[3]):0/0,FB.UA._safari=a[4]?parseFloat(a[4]):0/0,FB.UA._safari?(a=/(?:Chrome\/(\d+\.\d+))/.exec(navigator.userAgent),FB.UA._chrome=a&&a[1]?parseFloat(a[1]):0/0):FB.UA._chrome=0/0):FB.UA._ie=FB.UA._firefox=FB.UA._opera=FB.UA._chrome=FB.UA._safari=0/0,b?(FB.UA._osx=!!b[1],FB.UA._windows=!!b[2],FB.UA._linux=!!b[3]):FB.UA._osx=FB.UA._windows=FB.UA._linux=!1,FB.UA._ios=c}}}),FB.provide("Arbiter",{_canvasProxyUrl:"connect/canvas_proxy.php",BEHAVIOR_EVENT:"e",BEHAVIOR_PERSISTENT:"p",BEHAVIOR_STATE:"s",inform:function(a,b,c,d,e){if(FB.Canvas.isTabIframe()||FB._inPlugin&&window.postMessage||!FB._inCanvas&&FB.UA.mobile()&&window.postMessage){var f=FB.JSON.stringify({method:a,params:b,behavior:e||FB.Arbiter.BEHAVIOR_PERSISTENT});if(window.postMessage)return void FB.XD.resolveRelation(c||"parent").postMessage(f,"*");try{return void window.opener.postMessage(f)}catch(g){}}d|=window!=window.parent&&0===document.referrer.indexOf("https:");var h=FB.getDomain((d?"https_":"")+"staticfb",!0)+FB.Arbiter._canvasProxyUrl+"#"+FB.QS.encode({method:a,params:FB.JSON.stringify(b||{}),behavior:e||FB.Arbiter.BEHAVIOR_PERSISTENT,relation:c}),i=FB.Content.appendHidden("");FB.Content.insertIframe({url:h,root:i,width:1,height:1,onload:function(){setTimeout(function(){i.parentNode.removeChild(i)},10)}})}}),FB.provide("Canvas",{_timer:null,_lastSize:{},_pageInfo:{clientWidth:0,clientHeight:0,scrollLeft:0,scrollTop:0,offsetLeft:0,offsetTop:0},getPageInfo:function(a){var b="top.frames["+window.name+"]",c=FB.XD.handler(function(b){for(var c in FB.Canvas._pageInfo)b[c]&&(FB.Canvas._pageInfo[c]=0|b[c]);a&&a(FB.Canvas._pageInfo)},b,!0),d={channelUrl:c,frame:window.name};FB.Arbiter.inform("getPageInfo",d,"top")},hideFlashElement:function(a){a.style.visibility="hidden"},showFlashElement:function(a){a.style.visibility=""},_flashClassID:"CLSID:D27CDB6E-AE6D-11CF-96B8-444553540000",_hideFlashCallback:function(a){for(var b=window.document.getElementsByTagName("object"),c=0;c<b.length;c++){var d=b[c];if("application/x-shockwave-flash"==d.type.toLowerCase()||d.classid.toUpperCase()==FB.Canvas._flashClassID){for(var e=!1,f=0;f<d.childNodes.length;f++)"param"==d.childNodes[f].nodeName.toLowerCase()&&"wmode"==d.childNodes[f].name.toLowerCase()&&("opaque"==d.childNodes[f].value.toLowerCase()||"transparent"==d.childNodes[f].value.toLowerCase())&&(e=!0);if(!e){var g=Math.random();if(.001>=g&&FB.api(FB._apiKey+"/occludespopups","post",{}),FB.Canvas._devHideFlashCallback){var h=200,i={state:a.state,elem:d},j=FB.bind(function(a){"opened"==a.state?FB.Canvas.hideFlashElement(a.elem):FB.Canvas.showFlashElement(a.elem)},this,i);setTimeout(j,h),FB.Canvas._devHideFlashCallback(i)}else"opened"==a.state?(d._old_visibility=d.style.visibility,d.style.visibility="hidden"):"closed"==a.state&&(d.style.visibility=d._old_visibility,delete d._old_visibility)}}}},_devHideFlashCallback:null,_setHideFlashCallback:function(a){FB.Canvas._devHideFlashCallback=a},init:function(){var a=FB.Dom.getViewportInfo();FB.Canvas._pageInfo.clientWidth=a.width,FB.Canvas._pageInfo.clientHeight=a.height,FB.Canvas.getPageInfo();var b=FB.XD.handler(FB.Canvas._hideFlashCallback,"top.frames["+window.name+"]",!0);FB.Arbiter.inform("iframeSetupFlashHiding",{channelUrl:b})},setSize:function(a){"object"!=typeof a&&(a={});var b=0,c=0;if(a=a||{},(null==a.width||null==a.height)&&(a=FB.copy(a,FB.Canvas._computeContentSize()),b=16,c=4),a=FB.copy(a,{frame:window.name||"iframe_canvas"}),FB.Canvas._lastSize[a.frame]){var d=FB.Canvas._lastSize[a.frame].height,e=a.height-d;if(FB.Canvas._lastSize[a.frame].width==a.width&&c>=e&&e>=-b)return!1}return FB.Canvas._lastSize[a.frame]=a,FB.Arbiter.inform("setSize",a),!0},scrollTo:function(a,b){FB.Arbiter.inform("scrollTo",{frame:window.name||"iframe_canvas",x:a,y:b})},setAutoGrow:function(a,b){void 0===b&&"number"==typeof a&&(b=a,a=!0),void 0===a||a?(null===FB.Canvas._timer&&(FB.Canvas._timer=window.setInterval(FB.Canvas.setSize,b||100)),FB.Canvas.setSize()):null!==FB.Canvas._timer&&(window.clearInterval(FB.Canvas._timer),FB.Canvas._timer=null)},setAutoResize:function(a,b){return FB.Canvas.setAutoGrow(a,b)},isTabIframe:function(){return 0===window.name.indexOf("app_runner_")},setDoneLoading:function(a){FB.Canvas._passAppTtiMessage(a,"RecordIframeAppTti")},stopTimer:function(a){FB.Canvas._passAppTtiMessage(a,"StopIframeAppTtiTimer")},setUrlHandler:function(a){var b=FB.XD.handler(a,"top.frames["+window.name+"]",!0);FB.Arbiter.inform("setUrlHandler",b),FB.Event.listen(window,"load",function(){FB.Arbiter.inform("setUrlHandler",b)})},startTimer:function(){FB.Canvas._passAppTtiMessage(null,"StartIframeAppTtiTimer")},_passAppTtiMessage:function(a,b){var c=null;a&&(c=FB.XD.handler(a,"top.frames["+window.name+"]",!1)),FB.Arbiter.inform(b,{frame:window.name||"iframe_canvas",time:(new Date).getTime(),appId:parseInt(FB._apiKey,10),channelUrl:c})},_computeContentSize:function(){var a=document.body,b=document.documentElement,c=0,d=Math.max(a.offsetTop,0),e=Math.max(b.offsetTop,0),f=a.scrollHeight+d,g=a.offsetHeight+d,h=b.scrollHeight+e,i=b.offsetHeight+e;return bottom=Math.max(f,g,h,i),a.offsetWidth<a.scrollWidth?c=a.scrollWidth+a.offsetLeft:FB.Array.forEach(a.childNodes,function(a){var b=a.offsetWidth+a.offsetLeft;b>c&&(c=b)}),b.clientLeft>0&&(c+=2*b.clientLeft),b.clientTop>0&&(bottom+=2*b.clientTop),{height:bottom,width:c}}}),FB.provide("String",{trim:function(a){return a.replace(/^\s*|\s*$/g,"")},format:function(a){FB.String.format._formatRE||(FB.String.format._formatRE=/(\{[^\}^\{]+\})/g);var b=arguments;return a.replace(FB.String.format._formatRE,function(a,c){var d=parseInt(c.substr(1),10),e=b[d+1];return null===e||void 0===e?"":e.toString()})},escapeHTML:function(a){var b=document.createElement("div");return b.appendChild(document.createTextNode(a)),b.innerHTML.replace(/"/g,"&quot;").replace(/'/g,"&#39;")},quote:function(a){var b=/["\\\x00-\x1f\x7f-\x9f]/g,c={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return b.test(a)?'"'+a.replace(b,function(a){var b=c[a];return b?b:(b=a.charCodeAt(),"\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16))})+'"':'"'+a+'"'}}),FB.provide("Dom",{containsCss:function(a,b){var c=" "+a.className+" ";return c.indexOf(" "+b+" ")>=0},addCss:function(a,b){FB.Dom.containsCss(a,b)||(a.className=a.className+" "+b)},removeCss:function(a,b){FB.Dom.containsCss(a,b)&&(a.className=a.className.replace(b,""),FB.Dom.removeCss(a,b))},getByClass:function(a,b,c){if(b=b||document.body,c=c||"*",b.querySelectorAll)return FB.Array.toArray(b.querySelectorAll(c+"."+a));for(var d=b.getElementsByTagName(c),e=[],f=0,g=d.length;g>f;f++)this.containsCss(d[f],a)&&(e[e.length]=d[f]);return e},getStyle:function(a,b){{var c=!1;a.style}return a.currentStyle?(FB.Array.forEach(b.match(/\-([a-z])/g),function(a){b=b.replace(a,a.substr(1,1).toUpperCase())}),c=a.currentStyle[b]):(FB.Array.forEach(b.match(/[A-Z]/g),function(a){b=b.replace(a,"-"+a.toLowerCase())}),window.getComputedStyle&&(c=document.defaultView.getComputedStyle(a,null).getPropertyValue(b),("background-position-y"==b||"background-position-x"==b)&&("top"==c||"left"==c)&&(c="0px"))),"opacity"==b?a.filters&&a.filters.alpha?c:100*c:c},setStyle:function(a,b,c){var d=a.style;"opacity"==b?(c>=100&&(c=99.999),0>c&&(c=0),d.opacity=c/100,d.MozOpacity=c/100,d.KhtmlOpacity=c/100,a.filters&&(void 0==a.filters.alpha?a.filter="alpha(opacity="+c+")":a.filters.alpha.opacity=c)):d[b]=c},addScript:function(a){var b=document.createElement("script");return b.type="text/javascript",b.src=a,document.getElementsByTagName("head")[0].appendChild(b)},addCssRules:function(a,b){FB.Dom._cssRules||(FB.Dom._cssRules={});var c=!0;if(FB.Array.forEach(b,function(a){a in FB.Dom._cssRules||(c=!1,FB.Dom._cssRules[a]=!0)}),!c)if(FB.UA.ie())try{document.createStyleSheet().cssText=a}catch(d){document.styleSheets[0]&&(document.styleSheets[0].cssText+=a)}else{var e=document.createElement("style");e.type="text/css",e.textContent=a,document.getElementsByTagName("head")[0].appendChild(e)}},getViewportInfo:function(){var a=document.documentElement&&"CSS1Compat"==document.compatMode?document.documentElement:document.body;return{scrollTop:a.scrollTop,scrollLeft:a.scrollLeft,width:self.innerWidth?self.innerWidth:a.clientWidth,height:self.innerHeight?self.innerHeight:a.clientHeight}},ready:function(a){FB.Dom._isReady?a&&a():FB.Event.subscribe("dom.ready",a)},getPosition:function(a){var b=0,c=0;do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent);return{x:b,y:c}}}),function(){function domReady(){FB.Dom._isReady=!0,FB.Event.fire("dom.ready"),FB.Event.clear("dom.ready")}if(FB.Dom._isReady||"complete"==document.readyState)return domReady();document.addEventListener?document.addEventListener("DOMContentLoaded",domReady,!1):document.attachEvent&&document.attachEvent("onreadystatechange",domReady),FB.UA.ie()&&window===top&&!function(){try{document.documentElement.doScroll("left")}catch(a){return void setTimeout(arguments.callee,0)}domReady()}();var oldonload=window.onload;window.onload=function(){domReady(),oldonload&&("string"==typeof oldonload?eval(oldonload):oldonload())}}(),FB.provide("Intl",function(){function a(a){return"string"!=typeof a?!1:a.match(new RegExp(d+"[)\"'»༻༽’”›〉》」』】〕〗〙〛〞〟﴿＇）］s]*$"))}function b(b,c){if(void 0!==c)if("object"!=typeof c)FB.log("The second arg to FB.Intl.tx() must be an Object for FB.Intl.tx("+b+", ...)");else{var e;for(var f in c)c.hasOwnProperty(f)&&(e=a(c[f])?new RegExp("{"+f+"}"+d+"*","g"):new RegExp("{"+f+"}","g"),b=b.replace(e,c[f]))}return b}function c(a,c){return FB.Intl._stringTable?b(FB.Intl._stringTable[a],c):null}var d="[.!?。！？।…ຯ᠁ฯ．]";return c._=b,{tx:c,_tx:b}}()),FB.provide("",{bind:function(){var a=Array.prototype.slice.call(arguments),b=a.shift(),c=a.shift();return function(){return b.apply(c,a.concat(Array.prototype.slice.call(arguments)))}},Class:function(a,b,c){if(FB.CLASSES[a])return FB.CLASSES[a];var d=b||function(){};return d.prototype=c,d.prototype.bind=function(a){return FB.bind(a,this)},d.prototype.constructor=d,FB.create(a,d),FB.CLASSES[a]=d,d},subclass:function(a,b,c,d){if(FB.CLASSES[a])return FB.CLASSES[a];var e=FB.create(b);return FB.copy(d,e.prototype),d._base=e,d._callBase=function(a){var b=Array.prototype.slice.call(arguments,1);return e.prototype[a].apply(this,b)},FB.Class(a,c?c:function(){e.apply&&e.apply(this,arguments)},d)},CLASSES:{}}),FB.provide("Type",{isType:function(a,b){for(;a;){if(a.constructor===b||a===b)return!0;a=a._base}return!1}}),FB.Class("Obj",null,FB.copy({setProperty:function(a,b){FB.JSON.stringify(b)!=FB.JSON.stringify(this[a])&&(this[a]=b,this.fire(a,b))}},FB.EventProvider)),FB.subclass("Dialog","Obj",function(a){this.id=a,FB.Dialog._dialogs||(FB.Dialog._dialogs={},FB.Dialog._addOrientationHandler()),FB.Dialog._dialogs[a]=this},{}),FB.provide("Dialog",{_dialogs:null,_lastYOffset:0,_loaderEl:null,_overlayEl:null,_stack:[],_active:null,_popStateListenerOn:!1,_hideOnPopState:function(){FB.Dialog.hide(FB.Dialog._stack.pop())},get:function(a){return FB.Dialog._dialogs[a]},_findRoot:function(a){for(;a;){if(FB.Dom.containsCss(a,"fb_dialog"))return a;a=a.parentNode}},_createWWWLoader:function(a){return a=parseInt(a,10),a=a?a:460,FB.Dialog.create({content:'<div class="dialog_title">  <a id="fb_dialog_loader_close">    <div class="fb_dialog_close_icon"></div>  </a>  <span>Facebook</span>  <div style="clear:both;"></div></div><div class="dialog_content"></div><div class="dialog_footer"></div>',width:a})},_createMobileLoader:function(){var a=FB.UA.nativeApp()?"":'<table>  <tbody>    <tr>      <td class="header_left">        <label class="touchable_button">          <input type="submit" value="'+FB.Intl.tx._("Cancel")+'"            id="fb_dialog_loader_close"/>        </label>      </td>      <td class="header_center">        <div>'+FB.Intl.tx._("Loading...")+'</div>      </td>      <td class="header_right">      </td>    </tr>  </tbody></table>';return FB.Dialog.create({classes:"loading"+(FB.UA.iPad()?" centered":""),content:'<div class="dialog_header">'+a+"</div>"})},_restoreBodyPosition:function(){if(!FB.UA.iPad()){var a=document.getElementsByTagName("body")[0];FB.Dom.removeCss(a,"fb_hidden")}},_showIPadOverlay:function(){FB.UA.iPad()&&(FB.Dialog._overlayEl||(FB.Dialog._overlayEl=document.createElement("div"),FB.Dialog._overlayEl.setAttribute("id","fb_dialog_ipad_overlay"),FB.Content.append(FB.Dialog._overlayEl,null)),FB.Dialog._overlayEl.className="")},_hideIPadOverlay:function(){FB.UA.iPad()&&(FB.Dialog._overlayEl.className="hidden")},showLoader:function(a,b){FB.Dialog._showIPadOverlay(),FB.Dialog._loaderEl||(FB.Dialog._loaderEl=FB.Dialog._findRoot(FB.UA.mobile()?FB.Dialog._createMobileLoader():FB.Dialog._createWWWLoader(b))),a||(a=function(){});var c=FB.$("fb_dialog_loader_close");FB.Dom.removeCss(c,"fb_hidden"),c.onclick=function(){FB.Dialog._hideLoader(),FB.Dialog._restoreBodyPosition(),FB.Dialog._hideIPadOverlay(),a()};var d=FB.$("fb_dialog_ipad_overlay");d&&(d.ontouchstart=c.onclick),FB.Dialog._makeActive(FB.Dialog._loaderEl)},_hideLoader:function(){FB.Dialog._loaderEl&&FB.Dialog._loaderEl==FB.Dialog._active&&(FB.Dialog._loaderEl.style.top="-10000px")},_makeActive:function(a){FB.Dialog._setDialogSizes(),FB.Dialog._lowerActive(),FB.Dialog._active=a,FB.Canvas&&FB.Canvas.getPageInfo(function(a){FB.Dialog._centerActive(a)}),FB.Dialog._centerActive(FB.Canvas._pageInfo)},_lowerActive:function(){FB.Dialog._active&&(FB.Dialog._active.style.top="-10000px",FB.Dialog._active=null)},_removeStacked:function(a){FB.Dialog._stack=FB.Array.filter(FB.Dialog._stack,function(b){return b!=a})},_centerActive:function(a){var b=FB.Dialog._active;if(b){var c=FB.Dom.getViewportInfo(),d=parseInt(b.offsetWidth,10),e=parseInt(b.offsetHeight,10),f=c.scrollLeft+(c.width-d)/2,g=(c.height-e)/2.5;g>f&&(g=f);var h=c.height-e-g,i=(c.height-e)/2;
if(a&&(i=a.scrollTop-a.offsetTop+(a.clientHeight-e)/2),g>i?i=g:i>h&&(i=h),i+=c.scrollTop,FB.UA.mobile()){var j=100;if(FB.UA.iPad())j+=(c.height-e)/2;else{var k=document.getElementsByTagName("body")[0];FB.Dom.addCss(k,"fb_hidden"),f=1e4,i=1e4}var l=FB.Dom.getByClass("fb_dialog_padding",b);l.length&&(l[0].style.height=j+"px")}b.style.left=(f>0?f:0)+"px",b.style.top=(i>0?i:0)+"px"}},_setDialogSizes:function(){if(FB.UA.mobile()&&!FB.UA.iPad())for(var a in FB.Dialog._dialogs)if(document.getElementById(a)){var b=document.getElementById(a);b.style.width=FB.UIServer.getDefaultSize().width+"px",b.style.height=FB.UIServer.getDefaultSize().height+"px"}},_handleOrientationChange:function(){if(FB.UA.android()&&screen.availWidth==FB.Dialog._availScreenWidth)return void window.setTimeout(FB.Dialog._handleOrientationChange,50);if(FB.Dialog._availScreenWidth=screen.availWidth,FB.UA.iPad())FB.Dialog._centerActive();else for(var a in FB.Dialog._dialogs)document.getElementById(a)&&(document.getElementById(a).style.width=FB.UIServer.getDefaultSize().width+"px")},_addOrientationHandler:function(){if(FB.UA.mobile()){var a="onorientationchange"in window?"orientationchange":"resize";FB.Dialog._availScreenWidth=screen.availWidth,FB.Event.listen(window,a,FB.Dialog._handleOrientationChange)}},create:function(a){a=a||{};var b=document.createElement("div"),c=document.createElement("div"),d="fb_dialog";if(a.closeIcon&&a.onClose){var e=document.createElement("a");e.className="fb_dialog_close_icon",e.onclick=a.onClose,b.appendChild(e)}d+=" "+(a.classes||""),FB.UA.ie()?(d+=" fb_dialog_legacy",FB.Array.forEach(["vert_left","vert_right","horiz_top","horiz_bottom","top_left","top_right","bottom_left","bottom_right"],function(a){var c=document.createElement("span");c.className="fb_dialog_"+a,b.appendChild(c)})):d+=FB.UA.mobile()?" fb_dialog_mobile":" fb_dialog_advanced",a.content&&FB.Content.append(a.content,c),b.className=d;var f=parseInt(a.width,10);if(isNaN(f)||(b.style.width=f+"px"),c.className="fb_dialog_content",b.appendChild(c),FB.UA.mobile()){var g=document.createElement("div");g.className="fb_dialog_padding",b.appendChild(g)}return FB.Content.append(b),a.visible&&FB.Dialog.show(b),c},show:function(a){var b=FB.Dialog._findRoot(a);b&&(FB.Dialog._removeStacked(b),FB.Dialog._hideLoader(),FB.Dialog._makeActive(b),FB.Dialog._stack.push(b),"fbCallID"in a&&FB.Dialog.get(a.fbCallID).fire("iframe_show"),FB.Event._popStateListenerOn||(FB.Event.listen(window,"popstate",FB.Dialog._hideOnPopState),FB.Event._popStateListenerOn=!0))},hide:function(a){var b=FB.Dialog._findRoot(a);b==FB.Dialog._active&&(FB.Dialog._lowerActive(),FB.Dialog._restoreBodyPosition(),FB.Dialog._hideIPadOverlay(),"fbCallID"in a&&FB.Dialog.get(a.fbCallID).fire("iframe_hide"),FB.Event._popStateListenerOn&&(FB.Event.unlisten(window,"popstate",FB.Dialog._hideOnPopState),FB.Event._popStateListenerOn=!1))},remove:function(a){if(a=FB.Dialog._findRoot(a)){var b=FB.Dialog._active==a;FB.Dialog._removeStacked(a),b?(FB.Dialog._hideLoader(),FB.Dialog._stack.length>0?FB.Dialog.show(FB.Dialog._stack.pop()):(FB.Dialog._lowerActive(),FB.Dialog._restoreBodyPosition(),FB.Dialog._hideIPadOverlay())):null===FB.Dialog._active&&FB.Dialog._stack.length>0&&FB.Dialog.show(FB.Dialog._stack.pop()),window.setTimeout(function(){a.parentNode.removeChild(a)},3e3)}},isActive:function(a){var b=FB.Dialog._findRoot(a);return b&&b===FB.Dialog._active}}),FB.provide("",{ui:function(a,b){if(a=FB.copy({},a),!a.method)return FB.log('"method" is a required parameter for FB.ui().'),null;if(!FB._nativeInterface){if(!("permissions.request"!=a.method&&"permissions.oauth"!=a.method||"iframe"!=a.display&&"dialog"!=a.display)){var c,d;c=a.scope,d=c.split(/\s|,/g);for(var e=0;e<d.length;e++){var f=FB.String.trim(d[e]);if(f&&!FB.initSitevars.iframePermissions[f]){a.display="popup";break}}}var g=FB.UIServer.prepareCall(a,b);if(!g)return null;var h=g.params.display;"dialog"===h?h="iframe":"none"===h&&(h="hidden");var i=FB.UIServer[h];return i?(i(g),g.dialog):(FB.log('"display" must be one of "popup", "dialog", "iframe", "touch", "async", "hidden", or "none"'),null)}switch(a.method){case"auth.login":FB._nativeInterface.login(a,b,function(a){alert("Cordova Facebook Connect plugin fail on login!"+a)});break;case"permissions.request":FB._nativeInterface.login(a,b,function(a){alert("Cordova Facebook Connect plugin fail on login!"+a)});break;case"permissions.oauth":FB._nativeInterface.login(a,b,function(a){alert("Cordova Facebook Connect plugin fail on login!"+a)});break;case"auth.logout":FB._nativeInterface.logout(b,function(){alert("Cordova Facebook Connect plugin fail on logout!")});break;case"auth.status":FB._nativeInterface.getLoginStatus(b,function(){alert("Cordova Facebook Connect plugin fail on auth.status!")});break;case"login.status":FB._nativeInterface.getLoginStatus(b,function(){alert("Cordova Facebook Connect plugin fail on auth.status!")});break;case"feed":FB._nativeInterface.dialog(a,b,function(){alert("Cordova Facebook Connect plugin fail on auth.status!")});break;case"apprequests":FB._nativeInterface.dialog(a,b,function(){alert("Cordova Facebook Connect plugin fail on auth.status!")})}}}),FB.provide("UIServer",{Methods:{},_loadedNodes:{},_defaultCb:{},_resultToken:'"xxRESULTTOKENxx"',_forceHTTPS:!1,genericTransform:function(a){return("dialog"==a.params.display||"iframe"==a.params.display)&&(a.params.display="iframe",a.params.channel=FB.UIServer._xdChannelHandler(a.id,"parent.parent")),a},prepareCall:function(a,b){var c=a.method.toLowerCase(),d=FB.copy({},FB.UIServer.Methods[c]),e=FB.guid(),f=d.noHttps!==!0&&(FB._https||"auth.status"!==c&&"login.status"!=c);FB.UIServer._forceHTTPS=f,FB.copy(a,{api_key:FB._apiKey,app_id:FB._apiKey,locale:FB._locale,sdk:"joey",access_token:f&&FB.getAccessToken()||void 0}),a.display=FB.UIServer.getDisplayMode(d,a),d.url||(d.url="dialog/"+c);var g={cb:b,id:e,size:d.size||FB.UIServer.getDefaultSize(),url:FB.getDomain(f?"https_www":"www")+d.url,forceHTTPS:f,params:a,name:c,dialog:new FB.Dialog(e)},h=d.transform?d.transform:FB.UIServer.genericTransform;if(!h||(g=h(g))){var i=d.getXdRelation||FB.UIServer.getXdRelation,j=i(g.params);return g.id in FB.UIServer._defaultCb||"next"in g.params||"redirect_uri"in g.params||(g.params.next=FB.UIServer._xdResult(g.cb,g.id,j,!0)),"parent"===j&&(g.params.channel_url=FB.UIServer._xdChannelHandler(e,"parent.parent")),g=FB.UIServer.prepareParams(g)}},prepareParams:function(a){var b=a.params.method;if(FB.Canvas.isTabIframe()||delete a.params.method,FB.TemplateUI&&FB.TemplateUI.supportsTemplate(b,a))FB.reportTemplates&&console.log("Using template for "+b+"."),FB.TemplateUI.useCachedUI(b,a);else{a.params=FB.JSON.flatten(a.params);var c=FB.QS.encode(a.params);!FB.UA.nativeApp()&&FB.UIServer.urlTooLongForIE(a.url+"?"+c)?a.post=!0:c&&(a.url+="?"+c)}return a},urlTooLongForIE:function(a){return a.length>2e3},getDisplayMode:function(a,b){return"hidden"===b.display||"none"===b.display?b.display:FB.Canvas.isTabIframe()&&"popup"!==b.display?"async":FB.UA.mobile()||"touch"===b.display?"touch":FB.getAccessToken()||"dialog"!=b.display||a.loggedOutIframe?a.connectDisplay&&!FB._inCanvas?a.connectDisplay:b.display||(FB.getAccessToken()?"dialog":"popup"):(FB.log('"dialog" mode can only be used when the user is connected.'),"popup")},getXdRelation:function(a){var b=a.display;return"popup"===b||"touch"===b?"opener":"dialog"===b||"iframe"===b||"hidden"===b||"none"===b?"parent":"async"===b?"parent.frames["+window.name+"]":void 0},popup:function(a){var b="undefined"!=typeof window.screenX?window.screenX:window.screenLeft,c="undefined"!=typeof window.screenY?window.screenY:window.screenTop,d="undefined"!=typeof window.outerWidth?window.outerWidth:document.documentElement.clientWidth,e="undefined"!=typeof window.outerHeight?window.outerHeight:document.documentElement.clientHeight-22,f=FB.UA.mobile()?null:a.size.width,g=FB.UA.mobile()?null:a.size.height,h=0>b?window.screen.width+b:b,i=parseInt(h+(d-f)/2,10),j=parseInt(c+(e-g)/2.5,10),k=[];null!==f&&k.push("width="+f),null!==g&&k.push("height="+g),k.push("left="+i),k.push("top="+j),k.push("scrollbars=1"),("permissions.request"==a.name||"permissions.oauth"==a.name)&&k.push("location=1,toolbar=0"),k=k.join(","),a.post?(FB.UIServer.setLoadedNode(a,window.open("about:blank",a.id,k),"popup"),FB.Content.submitToTarget({url:a.url,target:a.id,params:a.params})):FB.UIServer.setLoadedNode(a,window.open(a.url,a.id,k),"popup"),a.id in FB.UIServer._defaultCb&&FB.UIServer._popupMonitor()},setLoadedNode:function(a,b,c){a.params&&"popup"!=a.params.display&&(b.fbCallID=a.id),b={node:b,type:c,fbCallID:a.id},FB.UIServer._loadedNodes[a.id]=b},getLoadedNode:function(a){var b="object"==typeof a?a.id:a,c=FB.UIServer._loadedNodes[b];return c?c.node:null},hidden:function(a){a.className="FB_UI_Hidden",a.root=FB.Content.appendHidden(""),FB.UIServer._insertIframe(a)},iframe:function(a){a.className="FB_UI_Dialog";var b=function(){FB.UIServer._triggerDefault(a.id)};a.root=FB.Dialog.create({onClose:b,closeIcon:!0,classes:FB.UA.iPad()?"centered":""}),a.hideLoader||FB.Dialog.showLoader(b,a.size.width),FB.Dom.addCss(a.root,"fb_dialog_iframe"),FB.UIServer._insertIframe(a)},touch:function(a){a.params&&a.params.in_iframe?a.ui_created?FB.Dialog.showLoader(function(){FB.UIServer._triggerDefault(a.id)},0):FB.UIServer.iframe(a):FB.UA.nativeApp()&&!a.ui_created?(a.frame=a.id,FB.Native.onready(function(){FB.UIServer.setLoadedNode(a,FB.Native.open(a.url+"#cb="+a.frameName))}),FB.UIServer._popupMonitor()):a.ui_created||FB.UIServer.popup(a)},async:function(a){a.frame=window.name,delete a.url,delete a.size,FB.Arbiter.inform("showDialog",a)},getDefaultSize:function(){if(FB.UA.mobile()){if(FB.UA.iPad())return{width:500,height:590};if(FB.UA.android())return{width:screen.availWidth,height:screen.availHeight};var a=window.innerWidth,b=window.innerHeight,c=a/b>1.2;return{width:a,height:Math.max(b,c?screen.width:screen.height)}}return{width:575,height:240}},_insertIframe:function(a){FB.UIServer._loadedNodes[a.id]=!1;var b=function(b){a.id in FB.UIServer._loadedNodes&&FB.UIServer.setLoadedNode(a,b,"iframe")};FB.Content.insertIframe(a.post?{url:"about:blank",root:a.root,className:a.className,width:a.size.width,height:a.size.height,id:a.id,onInsert:b,onload:function(b){FB.Content.submitToTarget({url:a.url,target:b.name,params:a.params})}}:{url:a.url,root:a.root,className:a.className,width:a.size.width,height:a.size.height,id:a.id,name:a.frameName,onInsert:b})},_handleResizeMessage:function(a,b){var c=FB.UIServer.getLoadedNode(a);c&&(b.height&&(c.style.height=b.height+"px"),b.width&&(c.style.width=b.width+"px"),FB.Arbiter.inform("resize.ack",b||{},"parent.frames["+c.name+"]",!0),FB.Dialog.isActive(c)||FB.Dialog.show(c))},_triggerDefault:function(a){FB.UIServer._xdRecv({frame:a},FB.UIServer._defaultCb[a]||function(){})},_popupMonitor:function(){var a;for(var b in FB.UIServer._loadedNodes)if(FB.UIServer._loadedNodes.hasOwnProperty(b)&&b in FB.UIServer._defaultCb){var c=FB.UIServer._loadedNodes[b];if("popup"!=c.type)continue;win=c.node;try{win.closed?FB.UIServer._triggerDefault(b):a=!0}catch(d){}}a&&!FB.UIServer._popupInterval?FB.UIServer._popupInterval=window.setInterval(FB.UIServer._popupMonitor,100):!a&&FB.UIServer._popupInterval&&(window.clearInterval(FB.UIServer._popupInterval),FB.UIServer._popupInterval=null)},_xdChannelHandler:function(a,b){var c=FB.UIServer._forceHTTPS&&7!==FB.UA.ie();return FB.XD.handler(function(b){var c=FB.UIServer.getLoadedNode(a);if(c)if("resize"==b.type)FB.UIServer._handleResizeMessage(a,b);else if("hide"==b.type)FB.Dialog.hide(c);else if("rendered"==b.type){var d=FB.Dialog._findRoot(c);FB.Dialog.show(d)}else"fireevent"==b.type&&FB.Event.fire(b.event)},b,!0,null,c)},_xdNextHandler:function(a,b,c,d){return d&&(FB.UIServer._defaultCb[b]=a),FB.XD.handler(function(b){FB.UIServer._xdRecv(b,a)},c)+"&frame="+b},_xdRecv:function(a,b){var c=FB.UIServer.getLoadedNode(a.frame);if(c){try{FB.Dom.containsCss(c,"FB_UI_Hidden")?window.setTimeout(function(){c.parentNode.parentNode.removeChild(c.parentNode)},3e3):FB.Dom.containsCss(c,"FB_UI_Dialog")&&(FB.Dialog.remove(c),FB.TemplateUI&&FB.UA.mobile()&&FB.TemplateUI.populateCache())}catch(d){}try{c.close&&(c.close(),FB.UIServer._popupCount--)}catch(e){}}delete FB.UIServer._loadedNodes[a.frame],delete FB.UIServer._defaultCb[a.frame],b(a)},_xdResult:function(a,b,c,d){return FB.UIServer._xdNextHandler(function(b){a&&a(b.result&&b.result!=FB.UIServer._resultToken&&FB.JSON.parse(b.result))},b,c,d)+"&result="+encodeURIComponent(FB.UIServer._resultToken)}}),FB.provide("",{getLoginStatus:function(a,b){if(!FB._apiKey)return void FB.log("FB.getLoginStatus() called before calling FB.init().");if(a){if(!b&&"loaded"==FB.Auth._loadState)return void a({status:FB._userStatus,authResponse:FB._authResponse});FB.Event.subscribe("FB.loginStatus",a)}if(b||"loading"!=FB.Auth._loadState){FB.Auth._loadState="loading";var c=function(a){FB.Auth._loadState="loaded",FB.Event.fire("FB.loginStatus",a),FB.Event.clear("FB.loginStatus")};FB.Auth.fetchLoginStatus(c)}},getAuthResponse:function(){return FB._authResponse},getAccessToken:function(){return FB._authResponse&&FB._authResponse.accessToken||null},getUserID:function(){return FB._userID},login:function(a,b){b&&b.perms&&!b.scope&&(b.scope=b.perms,delete b.perms,FB.log("OAuth2 specification states that 'perms' should now be called 'scope'.  Please update.")),FB.ui(FB.copy({method:"permissions.oauth",display:"popup",domain:location.hostname},b||{}),a)},logout:function(a){FB.ui({method:"auth.logout",display:"hidden"},a)}}),FB.provide("Auth",{_callbacks:[],_xdStorePath:"xd_localstorage/",fetchLoginStatus:function(a){FB.UA.mobile()&&window.postMessage&&window.localStorage&&!FB._nativeInterface?FB.Auth.staticAuthCheck(a):FB.ui({method:"login.status",display:"none",domain:location.hostname},a)},staticAuthCheck:function(a){var b=FB.getDomain("https_staticfb");FB.Content.insertIframe({root:FB.Content.appendHidden(""),className:"FB_UI_Hidden",url:b+FB.Auth._xdStorePath,onload:function(c){var d=frames[c.name],e=FB.guid(),f=!1,g=function(b){f||(f=!0,FB.Auth._staticAuthHandler(a,b))};FB.XD.handler(g,"parent",!0,e),setTimeout(g,500),d.postMessage(FB.JSON.stringify({method:"getItem",params:["LoginInfo_"+FB._apiKey,!0],returnCb:e}),b)}})},_staticAuthHandler:function(a,b){if(b&&b.data&&b.data.status&&"connected"==b.data.status){var c,d=b.data.status;1==b.data.https&&(FB._https=!0);var e=b.data.authResponse||null;c=FB.Auth.setAuthResponse(e,d),a&&a(c)}else FB.ui({method:"login.status",display:"none"},a)},setAuthResponse:function(a,b){var c=0;if(a)if(a.userID)c=a.userID;else if(a.signedRequest){var d=FB.Auth.parseSignedRequest(a.signedRequest);d&&d.user_id&&(c=d.user_id)}var e=!FB._userID&&a,f=FB._userID&&!a,g=a&&FB._userID!=c,h=e||f||g,i=b!=FB._userStatus,j={authResponse:a,status:b};return FB._authResponse=a,FB._userID=c,FB._userStatus=b,(f||g)&&FB.Event.fire("auth.logout",j),(e||g)&&FB.Event.fire("auth.login",j),h&&FB.Event.fire("auth.authResponseChange",j),i&&FB.Event.fire("auth.statusChange",j),FB.Auth._refreshTimer&&(window.clearTimeout(FB.Auth._refreshTimer),delete FB.Auth._refreshTimer),FB.Auth._loadState&&a&&(FB.Auth._refreshTimer=window.setTimeout(function(){FB.getLoginStatus(null,!0)},12e5)),j},_getContextType:function(){return FB.UA.nativeApp()?3:FB.UA.mobile()?2:FB._inCanvas?5:1},xdHandler:function(a,b,c,d,e){return FB.UIServer._xdNextHandler(FB.Auth.xdResponseWrapper(a,d,e),b,c,!0)},xdResponseWrapper:function(a,b,c){return function(d){if(d.access_token){var e=FB.Auth.parseSignedRequest(d.signed_request);if(b={accessToken:d.access_token,userID:e.user_id,expiresIn:parseInt(d.expires_in,10),signedRequest:d.signed_request},FB.Cookie.getEnabled()){var f=0===b.expiresIn?0:(new Date).getTime()+1e3*b.expiresIn,g=FB.Cookie._domain;!g&&d.base_domain&&(g="."+d.base_domain),FB.Cookie.setSignedRequestCookie(d.signed_request,f,g)}FB.Auth.setAuthResponse(b,"connected")}else if(!FB._authResponse&&b)FB.Auth.setAuthResponse(b,"connected");else if(!b||"permissions.oauth"!=c){var h;h=d.error&&"not_authorized"===d.error?"not_authorized":"unknown",FB.Auth.setAuthResponse(null,h),FB.Cookie.getEnabled()&&FB.Cookie.clearSignedRequestCookie()}d&&1==d.https&&!FB._https&&(FB._https=!0),response={authResponse:FB._authResponse,status:FB._userStatus},a&&a(response)}},parseSignedRequest:function(a){if(!a)return null;var b=a.split(".",2),c=b[1],d=FB.Auth.base64URLDecode(c);return FB.JSON.parse(d)},base64URLDecode:function(a){if(a=a.replace(/\-/g,"+").replace(/\_/g,"/"),a.length%4!==0)for(var b=4-a.length%4,c=0;b>c;c++)a+="=";for(var d,e,f,g,h,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",j="",k="",l="",m=0;m<a.length;m+=4)f=i.indexOf(a.charAt(m)),g=i.indexOf(a.charAt(m+1)),h=i.indexOf(a.charAt(m+2)),l=i.indexOf(a.charAt(m+3)),d=f<<2|g>>4,e=(15&g)<<4|h>>2,k=(3&h)<<6|l,j+=String.fromCharCode(d),64!=h&&(j+=String.fromCharCode(e)),64!=l&&(j+=String.fromCharCode(k)),d=e=k="",f=g=h=l="";return unescape(j)}}),FB.provide("UIServer.Methods",{"permissions.oauth":{url:"dialog/oauth",size:{width:FB.UA.mobile()?null:627,height:FB.UA.mobile()?null:326},transform:function(a){if(!FB._apiKey)return void FB.log("FB.login() called before FB.init().");if(FB._authResponse&&!a.params.scope)return FB.log("FB.login() called when user is already connected."),void(a.cb&&a.cb({status:FB._userStatus,authResponse:FB._authResponse}));var b=a.cb,c=a.id;return delete a.cb,FB.copy(a.params,{client_id:FB._apiKey,redirect_uri:FB.URI.resolve(FB.Auth.xdHandler(b,c,"opener",FB._authResponse,"permissions.oauth")),origin:FB.Auth._getContextType(),response_type:"token,signed_request",domain:location.hostname}),a}},"auth.logout":{url:"logout.php",transform:function(a){if(FB._apiKey){if(FB._authResponse)return a.params.next=FB.Auth.xdHandler(a.cb,a.id,"parent",FB._authResponse),a;FB.log("FB.logout() called without an access token.")}else FB.log("FB.logout() called before calling FB.init().")}},"login.status":{url:"dialog/oauth",transform:function(a){var b=a.cb,c=a.id;return delete a.cb,FB.copy(a.params,{client_id:FB._apiKey,redirect_uri:FB.Auth.xdHandler(b,c,"parent",FB._authResponse),origin:FB.Auth._getContextType(),response_type:"token,signed_request,code",domain:location.hostname}),a}}}),FB.provide("CanvasInsights",{setDoneLoading:function(a){FB.Canvas.setDoneLoading(a)}}),FB.provide("Cookie",{_domain:null,_enabled:!1,setEnabled:function(a){FB.Cookie._enabled=!!a,"string"==typeof a&&(FB.Cookie._domain=a)},getEnabled:function(){return FB.Cookie._enabled},loadMeta:function(){var a,b=document.cookie.match("\\bfbm_"+FB._apiKey+"=([^;]*)\\b");return b&&(a=FB.QS.decode(b[1]),FB.Cookie._domain||(FB.Cookie._domain=a.base_domain)),a},loadSignedRequest:function(){var a=document.cookie.match("\\bfbsr_"+FB._apiKey+"=([^;]*)\\b");return a?a[1]:null},setSignedRequestCookie:function(a,b,c){if(!a)throw new Error("Value passed to FB.Cookie.setSignedRequestCookie was empty.");if(FB.Cookie.getEnabled()){if(c){var d=FB.QS.encode({base_domain:c});FB.Cookie.setRaw("fbm_",d,b,c)}FB.Cookie._domain=c,FB.Cookie.setRaw("fbsr_",a,b,c)}},clearSignedRequestCookie:function(){FB.Cookie.getEnabled()&&FB.Cookie.setRaw("fbsr_","",0,FB.Cookie._domain)},setRaw:function(a,b,c,d){d&&(document.cookie=a+FB._apiKey+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;",document.cookie=a+FB._apiKey+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;domain="+location.hostname+";");var e=new Date(c).toGMTString();document.cookie=a+FB._apiKey+"="+b+(b&&0===c?"":"; expires="+e)+"; path=/"+(d?"; domain="+d:"")}}),FB.provide("Frictionless",{_allowedRecipients:{},_useFrictionless:!1,_updateRecipients:function(){FB.Frictionless._allowedRecipients={},FB.api("/me/apprequestformerrecipients",function(a){a&&!a.error&&FB.Array.forEach(a.data,function(a){FB.Frictionless._allowedRecipients[a.recipient_id]=!0},!1)})},init:function(){FB.Frictionless._useFrictionless=!0,FB.getLoginStatus(function(a){"connected"==a.status&&FB.Frictionless._updateRecipients()}),FB.Event.subscribe("auth.login",function(a){a.authResponse&&FB.Frictionless._updateRecipients()})},_processRequestResponse:function(a,b){return function(c){var d=c&&c.updated_frictionless;FB.Frictionless._useFrictionless&&d&&FB.Frictionless._updateRecipients(),c&&(!b&&c.frictionless&&(FB.Dialog._hideLoader(),FB.Dialog._restoreBodyPosition(),FB.Dialog._hideIPadOverlay()),delete c.frictionless,delete c.updated_frictionless),a&&a(c)}},isAllowed:function(a){if(!a)return!1;if("number"==typeof a)return FB.Frictionless._allowedRecipients[a];"string"==typeof a&&(a=a.split(",")),a=FB.Array.map(a,FB.String.trim);var b=!0,c=!1;return FB.Array.forEach(a,function(a){b=b&&FB.Frictionless._allowedRecipients[a],c=!0},!1),b&&c}}),FB.provide("Canvas.Prefetcher",{_sampleRate:0,_appIdsBlacklist:[],_links:[],COLLECT_AUTOMATIC:0,COLLECT_MANUAL:1,_collectionMode:0,addStaticResource:function(a){FB._inCanvas&&FB._apiKey&&FB.Canvas.Prefetcher._links.push(a)},setCollectionMode:function(a){return FB._inCanvas&&FB._apiKey?a!=FB.Canvas.Prefetcher.COLLECT_AUTOMATIC&&a!=FB.Canvas.Prefetcher.COLLECT_MANUAL?!1:void(FB.Canvas.Prefetcher._collectionMode=a):!1},_maybeSample:function(){if(FB._inCanvas&&FB._apiKey&&FB.Canvas.Prefetcher._sampleRate){var a=Math.random();a>1/FB.Canvas.Prefetcher._sampleRate||"*"!=FB.Canvas.Prefetcher._appIdsBlacklist&&-1==FB.Array.indexOf(FB.Canvas.Prefetcher._appIdsBlacklist,parseInt(FB._apiKey,10))&&window.setTimeout(FB.Canvas.Prefetcher._sample,3e4)}},_sample:function(){var a={object:"data",link:"href",script:"src"};FB.Canvas.Prefetcher._collectionMode==FB.Canvas.Prefetcher.COLLECT_AUTOMATIC&&FB.Array.forEach(a,function(a,b){FB.Array.forEach(window.document.getElementsByTagName(b),function(b){b[a]&&FB.Canvas.Prefetcher._links.push(b[a])})});var b=FB.JSON.stringify(FB.Canvas.Prefetcher._links);FB.api(FB._apiKey+"/staticresources","post",{urls:b,is_https:FB._https}),FB.Canvas.Prefetcher._links=[]}}),FB.provide("Canvas.EarlyFlush",{addResource:function(a){return FB.Canvas.Prefetcher.addStaticResource(a)},setCollectionMode:function(a){return FB.Canvas.Prefetcher.setCollectionMode(a)}}),FB.provide("",{initSitevars:{},init:function(a){if(a=FB.copy(a||{},{logging:!0,status:!0}),FB._userID=0,FB._apiKey=a.appId||a.apiKey,FB._nativeInterface=a.nativeInterface,FB._nativeInterface&&FB._nativeInterface.init(FB._apiKey,function(){alert("Cordova Facebook Connect plugin fail on init!")}),!a.logging&&window.location.toString().indexOf("fb_debug=1")<0&&(FB._logging=!1),FB.XD.init(a.channelUrl),FB.UA.mobile()&&FB.TemplateUI&&FB.TemplateData&&FB.TemplateData._enabled&&a.useCachedDialogs!==!1&&(FB.TemplateUI.init(),FB.Event.subscribe("auth.statusChange",FB.TemplateData.update)),a.reportTemplates&&(FB.reportTemplates=!0),a.frictionlessRequests&&FB.Frictionless.init(),FB._apiKey){if(FB.Cookie.setEnabled(a.cookie),a.authResponse)FB.Auth.setAuthResponse(a.authResponse,"connected");else{var b=FB.Cookie.loadSignedRequest(),c=FB.Auth.parseSignedRequest(b);FB._userID=c&&c.user_id||0,FB.Cookie.loadMeta()}a.status&&FB.getLoginStatus()}FB._inCanvas&&(FB.Canvas._setHideFlashCallback(a.hideFlashCallback),FB.Canvas.init()),FB.Event.subscribe("xfbml.parse",function(){FB.XFBML.IframeWidget.batchWidgetPipeRequests()}),a.xfbml&&window.setTimeout(function(){if(FB.XFBML)if(FB.initSitevars.parseXFBMLBeforeDomReady){FB.XFBML.parse();var a=window.setInterval(function(){FB.XFBML.parse()},100);FB.Dom.ready(function(){window.clearInterval(a),FB.XFBML.parse()})}else FB.Dom.ready(FB.XFBML.parse)},0),FB.Canvas&&FB.Canvas.Prefetcher&&FB.Canvas.Prefetcher._maybeSample()}}),FB.provide("UIServer.MobileIframableMethod",{transform:function(a){return"touch"===a.params.display&&a.params.access_token&&window.postMessage?(a.params.channel=FB.UIServer._xdChannelHandler(a.id,"parent"),FB.UA.nativeApp()||(a.params.in_iframe=1),a):FB.UIServer.genericTransform(a)},getXdRelation:function(a){var b=a.display;return"touch"===b&&window.postMessage&&a.in_iframe?"parent":FB.UIServer.getXdRelation(a)}}),FB.provide("UIServer.Methods",{"stream.share":{size:{width:650,height:340},url:"sharer.php",transform:function(a){return a.params.u||(a.params.u=window.location.toString()),a}},"fbml.dialog":{size:{width:575,height:300},url:"render_fbml.php",loggedOutIframe:!0,transform:function(a){return a}},"auth.logintofacebook":{size:{width:530,height:287},url:"login.php",transform:function(a){a.params.skip_api_login=1;var b=FB.UIServer.getXdRelation(a.params),c=FB.UIServer._xdResult(a.cb,a.id,b,!0);return a.params.next=FB.getDomain(FB._https?"https_www":"www")+"login.php?"+FB.QS.encode({api_key:FB._apiKey,next:c,skip_api_login:1}),a}},apprequests:{transform:function(a){return a=FB.UIServer.MobileIframableMethod.transform(a),a.params.frictionless=FB.Frictionless&&FB.Frictionless._useFrictionless,a.params.frictionless&&(FB.Frictionless.isAllowed(a.params.to)&&(a.params.in_iframe=!0,a.hideLoader=!0),a.cb=FB.Frictionless._processRequestResponse(a.cb,a.hideLoader)),a},getXdRelation:function(a){return FB.UIServer.MobileIframableMethod.getXdRelation(a)}},feed:FB.UIServer.MobileIframableMethod}),FB.provide("",{share:function(a){FB.log("FB.share() has been deprecated. Please use FB.ui() instead."),FB.ui({display:"popup",method:"stream.share",u:a})},publish:function(a,b){FB.log("FB.publish() has been deprecated. Please use FB.ui() instead."),a=a||{},FB.ui(FB.copy({display:"popup",method:"stream.publish",preview:1},a||{}),b)},addFriend:function(a,b){FB.log("FB.addFriend() has been deprecated. Please use FB.ui() instead."),FB.ui({display:"popup",id:a,method:"friend.add"},b)}}),FB.UIServer.Methods["auth.login"]=FB.UIServer.Methods["permissions.request"],FB.provide("XFBML",{_renderTimeout:3e4,getElements:function(a,b,c){var d=FB.Array,e=FB.XFBML._getDomElements(a,b,c),f=FB.Dom.getByClass(b+"-"+c,a,"div");return e=d.toArray(e),f=d.toArray(f),f=d.filter(f,function(a){return!a.hasChildNodes()||1===a.childNodes.length&&3===a.childNodes[0].nodeType}),d.merge(e,f)},parse:function(a,b){a=a||document.body;var c=1,d=function(){c--,0===c&&(b&&b(),FB.Event.fire("xfbml.render"))},e={};FB.XFBML._widgetPipeIsEnabled()&&FB.Array.forEach(FB.XFBML._tagInfos,function(b){if(b.supportsWidgetPipe){var c=b.xmlns?b.xmlns:"fb",d=FB.XFBML.getElements(a,c,b.localName);e[b.localName]=d,FB.XFBML._widgetPipeEnabledTagCount+=d.length}}),FB.Array.forEach(FB.XFBML._tagInfos,function(b){b.xmlns||(b.xmlns="fb");var f;f=void 0!==e[b.localName]?e[b.localName]:FB.XFBML.getElements(a,b.xmlns,b.localName);for(var g=0;g<f.length;g++)c++,FB.XFBML._processElement(f[g],b,d)}),FB.Event.fire("xfbml.parse"),window.setTimeout(function(){c>0&&FB.log(c+" XFBML tags failed to render in "+FB.XFBML._renderTimeout+"ms.")},FB.XFBML._renderTimeout),d()},registerTag:function(a){FB.XFBML._tagInfos.push(a)},shouldUseWidgetPipe:function(){if(!FB.XFBML._widgetPipeIsEnabled())return!1;var a=FB.XFBML._widgetPipeEnabledTagCount>1;return a},getBoolAttr:function(a,b){return b=FB.XFBML.getAttr(a,b),b&&FB.Array.indexOf(["true","1","yes","on"],b.toLowerCase())>-1},getAttr:function(a,b){return a.getAttribute(b)||a.getAttribute(b.replace(/_/g,"-"))||a.getAttribute(b.replace(/-/g,"_"))||a.getAttribute(b.replace(/-/g,""))||a.getAttribute(b.replace(/_/g,""))||a.getAttribute("data-"+b)||a.getAttribute("data-"+b.replace(/_/g,"-"))||a.getAttribute("data-"+b.replace(/-/g,"_"))||a.getAttribute("data-"+b.replace(/-/g,""))||a.getAttribute("data-"+b.replace(/_/g,""))||null},_processElement:function(dom,tagInfo,cb){var element=dom._element;if(element)element.subscribe("render",cb),element.process();else{var processor=function(){var fn=eval(tagInfo.className),isLogin=!1,showFaces=!0,showLoginFace=!1,renderInIframe=!1,addToTimeline="FB.XFBML.AddToTimeline"===tagInfo.className;if(("FB.XFBML.LoginButton"===tagInfo.className||addToTimeline)&&(renderInIframe=FB.XFBML.getBoolAttr(dom,"render-in-iframe"),mode=FB.XFBML.getAttr(dom,"mode"),showFaces=addToTimeline&&"button"!=mode||FB.XFBML.getBoolAttr(dom,"show-faces"),showLoginFace=FB.XFBML.getBoolAttr(dom,"show-login-face"),isLogin=addToTimeline||renderInIframe||showFaces||showLoginFace||FB.XFBML.getBoolAttr(dom,"oneclick"),isLogin&&!addToTimeline&&(fn=FB.XFBML.Login)),element=dom._element=new fn(dom),isLogin){showFaces=!!showFaces,showLoginFace=!!showLoginFace;var extraParams={show_faces:showFaces,show_login_face:showLoginFace,add_to_profile:addToTimeline,mode:mode},scope=FB.XFBML.getAttr(dom,"scope")||FB.XFBML.getAttr(dom,"perms");scope&&(extraParams.scope=scope),element.setExtraParams(extraParams)}element.subscribe("render",cb),element.process()};FB.CLASSES[tagInfo.className.substr(3)]?processor():FB.log("Tag "+tagInfo.className+" was not found.")}},_getDomElements:function(a,b,c){var d=b+":"+c;if(FB.UA.firefox())return a.getElementsByTagNameNS(document.body.namespaceURI,d);if(FB.UA.ie()<9){try{var e=document.namespaces;if(e&&e[b]){var f=a.getElementsByTagName(c);if(!document.addEventListener||f.length>0)return f}}catch(g){}return a.getElementsByTagName(d)}return a.getElementsByTagName(d)},_tagInfos:[{localName:"activity",className:"FB.XFBML.Activity"},{localName:"add-profile-tab",className:"FB.XFBML.AddProfileTab"},{localName:"add-to-timeline",className:"FB.XFBML.AddToTimeline"},{localName:"bookmark",className:"FB.XFBML.Bookmark"},{localName:"comments",className:"FB.XFBML.Comments"},{localName:"comments-count",className:"FB.XFBML.CommentsCount"},{localName:"connect-bar",className:"FB.XFBML.ConnectBar"},{localName:"fan",className:"FB.XFBML.Fan"},{localName:"like",className:"FB.XFBML.Like",supportsWidgetPipe:!0},{localName:"like-box",className:"FB.XFBML.LikeBox"},{localName:"live-stream",className:"FB.XFBML.LiveStream"},{localName:"login",className:"FB.XFBML.Login"},{localName:"login-button",className:"FB.XFBML.LoginButton"},{localName:"facepile",className:"FB.XFBML.Facepile"},{localName:"friendpile",className:"FB.XFBML.Friendpile"},{localName:"name",className:"FB.XFBML.Name"},{localName:"profile-pic",className:"FB.XFBML.ProfilePic"},{localName:"question",className:"FB.XFBML.Question"},{localName:"recommendations",className:"FB.XFBML.Recommendations"},{localName:"recommendations-bar",className:"FB.XFBML.RecommendationsBar"},{localName:"registration",className:"FB.XFBML.Registration"},{localName:"send",className:"FB.XFBML.Send"},{localName:"serverfbml",className:"FB.XFBML.ServerFbml"},{localName:"share-button",className:"FB.XFBML.ShareButton"},{localName:"social-context",className:"FB.XFBML.SocialContext"},{localName:"subscribe",className:"FB.XFBML.Subscribe"}],_widgetPipeEnabledTagCount:0,_widgetPipeIsEnabled:function(){return FB.widgetPipeEnabledApps&&void 0!==FB.widgetPipeEnabledApps[FB._apiKey]}}),function(){try{document.namespaces&&!document.namespaces.item.fb&&document.namespaces.add("fb")}catch(a){}}(),FB.provide("XFBML",{set:function(a,b,c){FB.log("FB.XFBML.set() has been deprecated."),a.innerHTML=b,FB.XFBML.parse(a,c)}}),FB.subclass("Waitable","Obj",function(){},{set:function(a){this.setProperty("value",a)},error:function(a){this.fire("error",a)},wait:function(a,b){b&&this.subscribe("error",b),this.monitor("value",this.bind(function(){return void 0!==this.value?(a(this.value),!0):void 0}))}}),FB.subclass("Data.Query","Waitable",function(){FB.Data.Query._c||(FB.Data.Query._c=1),this.name="v_"+FB.Data.Query._c++},{parse:function(a){var b=FB.String.format.apply(null,a),c=/^select (.*?) from (\w+)\s+where (.*)$/i.exec(b);this.fields=this._toFields(c[1]),this.table=c[2],this.where=this._parseWhere(c[3]);for(var d=1;d<a.length;d++)FB.Type.isType(a[d],FB.Data.Query)&&(a[d].hasDependency=!0);return this},toFql:function(){var a="select "+this.fields.join(",")+" from "+this.table+" where ";switch(this.where.type){case"unknown":a+=this.where.value;break;case"index":a+=this.where.key+"="+this._encode(this.where.value);break;case"in":a+=1==this.where.value.length?this.where.key+"="+this._encode(this.where.value[0]):this.where.key+" in ("+FB.Array.map(this.where.value,this._encode).join(",")+")"}return a},_encode:function(a){return"string"==typeof a?FB.String.quote(a):a
},toString:function(){return"#"+this.name},_toFields:function(a){return FB.Array.map(a.split(","),FB.String.trim)},_parseWhere:function(s){var re=/^\s*(\w+)\s*=\s*(.*)\s*$/i.exec(s),result,value,type="unknown";return re&&(value=re[2],/^(["'])(?:\\?.)*?\1$/.test(value)?(value=eval(value),type="index"):/^\d+\.?\d*$/.test(value)&&(type="index")),result="index"==type?{type:"index",key:re[1],value:value}:{type:"unknown",value:s}}}),FB.provide("Data",{query:function(){var a=(new FB.Data.Query).parse(arguments);return FB.Data.queue.push(a),FB.Data._waitToProcess(),a},waitOn:function(dependencies,callback){var result=new FB.Waitable,count=dependencies.length;if("string"==typeof callback){var s=callback;callback=function(args){return eval(s)}}return FB.Array.forEach(dependencies,function(a){a.monitor("value",function(){var b=!1;if(void 0!==FB.Data._getValue(a)&&(count--,b=!0),0===count){var c=callback(FB.Array.map(dependencies,FB.Data._getValue));result.set(void 0!==c?c:!0)}return b})}),result},_getValue:function(a){return FB.Type.isType(a,FB.Waitable)?a.value:a},_selectByIndex:function(a,b,c,d){var e=new FB.Data.Query;return e.fields=a,e.table=b,e.where={type:"index",key:c,value:d},FB.Data.queue.push(e),FB.Data._waitToProcess(),e},_waitToProcess:function(){FB.Data.timer<0&&(FB.Data.timer=setTimeout(FB.Data._process,10))},_process:function(){FB.Data.timer=-1;var a={},b=FB.Data.queue;FB.Data.queue=[];for(var c=0;c<b.length;c++){var d=b[c];"index"!=d.where.type||d.hasDependency?a[d.name]=d:FB.Data._mergeIndexQuery(d,a)}var e={q:{}};FB.copy(e.q,a,!0,function(a){return a.toFql()}),e.queries=FB.JSON.stringify(e.queries),FB.api("/fql","GET",e,function(b){b.error?FB.Array.forEach(a,function(a){a.error(new Error(b.error.message))}):FB.Array.forEach(b.data,function(b){a[b.name].set(b.fql_result_set)})})},_mergeIndexQuery:function(a,b){var c=a.where.key,d=a.where.value,e="index_"+a.table+"_"+c,f=b[e];f||(f=b[e]=new FB.Data.Query,f.fields=[c],f.table=a.table,f.where={type:"in",key:c,value:[]}),FB.Array.merge(f.fields,a.fields),FB.Array.merge(f.where.value,[d]),f.wait(function(b){a.set(FB.Array.filter(b,function(a){return a[c]==d}))})},timer:-1,queue:[]}),window.setTimeout(function(){var a=/(connect.facebook.net|facebook.com\/assets.php).*?#(.*)/;FB.Array.forEach(document.getElementsByTagName("script"),function(b){if(b.src){var c=a.exec(b.src);if(c){var d=FB.QS.decode(c[2]);FB.Array.forEach(d,function(a,b){"0"==a&&(d[b]=0)}),d.oauth=!0,FB.init(d)}}}),window.fbAsyncInit&&!window.fbAsyncInit.hasRun&&(window.fbAsyncInit.hasRun=!0,fbAsyncInit())},0),FB.provide("Native",{NATIVE_READY_EVENT:"fbNativeReady",onready:function(a){if(!FB.UA.nativeApp())return void FB.log("FB.Native.onready only works when the page is rendered in a WebView of the native Facebook app. Test if this is the case calling FB.UA.nativeApp()");if(window.__fbNative&&!this.nativeReady&&FB.provide("Native",window.__fbNative),this.nativeReady)a();else{var b=function(){window.removeEventListener(FB.Native.NATIVE_READY_EVENT,b),FB.Native.onready(a)};window.addEventListener(FB.Native.NATIVE_READY_EVENT,b,!1)}}}),FB.provide("UIServer.Methods",{"pay.prompt":{transform:function(a){var b=FB.XD.handler(function(b){a.cb(FB.JSON.parse(b.response))},"parent.frames["+(window.name||"iframe_canvas")+"]");return a.params.channel=b,FB.Arbiter.inform("Pay.Prompt",a.params),!1}}}),FB.provide("UIServer.Methods",{pay:{size:{width:555,height:120},noHttps:!0,connectDisplay:"popup",transform:function(a){if(!FB._inCanvas)return a.params.order_info=FB.JSON.stringify(a.params.order_info),a;var b=FB.XD.handler(function(b){a.cb(FB.JSON.parse(b.response))},"parent.frames["+(window.name||"iframe_canvas")+"]");return a.params.channel=b,a.params.uiserver=!0,FB.Arbiter.inform("Pay.Prompt",a.params),!1}}}),FB.provide("Helper",{isUser:function(a){return 22e8>a||a>=1e14&&0x5b0a58f100ef>=a||a>=89e12&&89999999999999>=a},getLoggedInUser:function(){return FB.getUserID()},upperCaseFirstChar:function(a){return a.length>0?a.substr(0,1).toUpperCase()+a.substr(1):a},getProfileLink:function(a,b,c){return c=c||(a?FB.getDomain("www")+"profile.php?id="+a.uid:null),c&&(b='<a class="fb_link" href="'+c+'">'+b+"</a>"),b},invokeHandler:function(handler,scope,args){handler&&("string"==typeof handler?eval(handler):handler.apply&&handler.apply(scope,args||[]))},fireEvent:function(a,b){var c=b._attr.href;b.fire(a,c),FB.Event.fire(a,c,b)},executeFunctionByName:function(a){for(var b=Array.prototype.slice.call(arguments,1),c=a.split("."),d=c.pop(),e=window,f=0;f<c.length;f++)e=e[c[f]];return e[d].apply(this,b)}}),FB.provide("TemplateData",{_initialized:!1,_version:0,_response:null,_localStorageTimeout:86400,_enabled:!0,enabled:function(){return FB.TemplateData._enabled&&FB.TemplateData._initialized&&FB.TemplateData.supportsLocalStorage()&&"connected"==FB._userStatus&&FB.TemplateData.getResponse()},supportsLocalStorage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return!1}},_isStale:function(a){if(!a||!a.version||a.version!=FB.TemplateData._version||a.currentUserID!=FB.getUserID())return!0;var b=Math.round((new Date).getTime());return(b-a.setAt)/1e3>FB.TemplateData._localStorageTimeout},getResponse:function(){var a=FB.TemplateData;try{a._response=a._response||a.supportsLocalStorage()&&FB.JSON.parse(localStorage.FB_templateDataResponse||"null")}catch(b){a._response=null}return a._isStale(a._response)&&a.saveResponse(null),a._response},saveResponse:function(a){FB.TemplateData._response=a,FB.TemplateData.supportsLocalStorage()&&(localStorage.FB_templateDataResponse=FB.JSON.stringify(a))},getData:function(){var a=FB.TemplateData.getResponse();return a?a.data:{}},init:function(a){a&&(FB.TemplateData._initialized=!0,FB.TemplateData._version=a,!FB.TemplateData.supportsLocalStorage()||"FB_templateDataResponse"in localStorage||FB.TemplateData.clear())},clear:function(){FB.TemplateData.saveResponse(null)},update:function(){"connected"!=FB._userStatus&&FB.TemplateData.clear(),"connected"!=FB._userStatus||FB.TemplateData.getResponse()||FB.api({method:"dialog.template_data"},function(a){if(!("error_code"in a)){var b={data:a,currentUserID:FB.getUserID(),setAt:(new Date).getTime(),version:FB.TemplateData._version};FB.TemplateData.saveResponse(b)}})}}),FB.subclass("TemplateUI","Obj",function(a,b){this.method=a;var c=FB.UA.nativeApp()?0:1,d={display:"touch",preview_template:1,in_iframe:c,locale:FB._locale,v:FB.TemplateUI._version,user_agent:navigator.userAgent};window.devicePixelRatio&&(d.m_pixel_ratio=window.devicePixelRatio);var e=FB.QS.encode(d);if(this.cachedCall={url:FB.getDomain("staticfb")+"dialog/"+a+"?"+e,frameName:FB.guid(),id:FB.guid(),size:FB.UIServer.getDefaultSize(),hideLoader:!0},FB.XD.handler(this.bind(function(a){"getParams"==a.type&&this.setProperty("getParamsCb",a.returnCb)}),"parent",!0,this.cachedCall.frameName),c)FB.UIServer.iframe(this.cachedCall),FB.Dialog.hide(this.cachedCall.root);else if(b&&!FB.TemplateUI._preloads[this.cachedCall.url]){var f=document.createElement("div");FB.TemplateUI._preloads[this.cachedCall.url]={container:f},FB.Content.insertIframe({url:this.cachedCall.url,root:FB.Content.appendHidden(f)})}},{use:function(a){if(!this.cachedCall.root){FB.UIServer.touch(this.cachedCall);var b=FB.TemplateUI._preloads[this.cachedCall.url];b&&b.container&&(b.container.parentNode.removeChild(b.container),delete b.container)}a.ui_created=!0,a.root=this.cachedCall.root,FB.UIServer.setLoadedNode(a,FB.UIServer.getLoadedNode(this.cachedCall.id)),delete FB.UIServer._loadedNodes[this.cachedCall.id];var c=FB.Dialog._dialogs[a.id];FB.Dialog._dialogs[this.cachedCall.id]=c,c.id=this.cachedCall.id,delete FB.Dialog._dialogs[a.id],FB.UIServer.getLoadedNode(a).fbCallID=this.cachedCall.id,this.cachedCall.id=a.id;var d={};FB.copy(d,a.params),FB.copy(d,FB.TemplateData.getData()[this.method]),d.frictionless=FB.TemplateUI.isFrictionlessAppRequest(this.method,d),d.common=FB.TemplateData.getData().common,d.method=this.method,this.setParams(d),FB.UA.nativeApp()&&FB.UIServer._popupMonitor()},setParams:function(a){this.monitor("getParamsCb",this.bind(function(){if(this.getParamsCb){var b=frames[this.cachedCall.frameName]||FB.UIServer.getLoadedNode(this.cachedCall);return b.postMessage(FB.JSON.stringify({params:a,cb:this.getParamsCb}),"*"),!0}}))}}),FB.provide("TemplateUI",{_timer:null,_cache:{},_preloads:{},_version:0,init:function(){FB.TemplateData.init(FB.TemplateUI._version),FB.TemplateUI.initCache()},useCachedUI:function(a,b){try{FB.TemplateUI.populateCache(),cache=FB.TemplateUI._cache[a],delete FB.TemplateUI._cache[a],cache.use(b)}catch(c){FB.TemplateData.clear()}},populateCache:function(a){if(FB.TemplateData.enabled()&&FB.UA.mobile()){clearInterval(FB.TemplateUI._timer);var b={feed:!0,apprequests:!0};for(var c in b)c in FB.TemplateUI._cache||(FB.TemplateUI._cache[c]=new FB.TemplateUI(c,a))}},initCache:function(){FB.TemplateUI._timer=setInterval(function(){FB.TemplateUI.populateCache(!0)},2e3)},supportsTemplate:function(a,b){return FB.TemplateData.enabled()&&FB.TemplateUI.paramsAllowTemplate(a,b.params)&&"touch"===b.params.display&&FB.UA.mobile()},paramsAllowTemplate:function(a,b){var c={feed:{to:1,attachment:1,source:1},apprequests:{}};if(!(a in c))return!1;for(var d in c[a])if(b[d])return!1;return!FB.TemplateUI.willWriteOnGet(a,b)},isFrictionlessAppRequest:function(a){return"apprequests"===a&&FB.Frictionless&&FB.Frictionless._useFrictionless},willWriteOnGet:function(a,b){return FB.TemplateUI.isFrictionlessAppRequest(a,b)&&b.to&&FB.Frictionless.isAllowed(b.to)}}),FB.provide("URI",{resolve:function(a){if(!a)return window.location.href;var b=document.createElement("div");return b.innerHTML='<a href="'+a.replace(/"/g,"&quot;")+'"></a>',b.firstChild.href}}),FB.Class("XFBML.Element",function(a){this.dom=a},FB.copy({getAttribute:function(a,b,c){var d=FB.XFBML.getAttr(this.dom,a);return d?c?c(d):d:b},_getBoolAttribute:function(a,b){return null===FB.XFBML.getAttr(this.dom,a)?b:FB.XFBML.getBoolAttr(this.dom,a)},_getPxAttribute:function(a,b){return this.getAttribute(a,b,function(a){var c=parseInt(a.replace("px",""),10);return isNaN(c)?b:c})},_getAttributeFromList:function(a,b,c){return this.getAttribute(a,b,function(a){return a=a.toLowerCase(),FB.Array.indexOf(c,a)>-1?a:b})},isValid:function(){for(var a=this.dom;a;a=a.parentNode)if(a==document.body)return!0},clear:function(){this.dom.innerHTML=""}},FB.EventProvider)),FB.subclass("XFBML.IframeWidget","XFBML.Element",null,{_iframeName:null,_showLoader:!0,_refreshOnAuthChange:!1,_allowReProcess:!1,_fetchPreCachedLoader:!1,_visibleAfter:"load",_widgetPipeEnabled:!1,getUrlBits:function(){throw new Error("Inheriting class needs to implement getUrlBits().")},setupAndValidate:function(){return!0},oneTimeSetup:function(){},getSize:function(){},getIframeName:function(){return!this._iframeName&&this._widgetPipeEnabled&&FB.XFBML.shouldUseWidgetPipe()&&(this._iframeName=this.generateWidgetPipeIframeName(),FB.XFBML.IframeWidget.allWidgetPipeIframes[this._iframeName]=this,null===FB.XFBML.IframeWidget.masterWidgetPipeIframe&&(FB.XFBML.IframeWidget.masterWidgetPipeIframe=this)),this._iframeName},getIframeTitle:function(){},getChannelUrl:function(){if(!this._channelUrl){var a=this;this._channelUrl=FB.XD.handler(function(b){a.fire("xd."+b.type,b)},"parent.parent",!0)}return this._channelUrl},getIframeNode:function(){return this.dom.getElementsByTagName("iframe")[0]},arbiterInform:function(a,b,c){this.loaded?this._arbiterInform(a,b,c):this.subscribe("iframe.onload",FB.bind(this._arbiterInform,this,a,b,c))},_arbiterInform:function(a,b,c){var d='parent.frames["'+this.getIframeNode().name+'"]';FB.Arbiter.inform(a,b,d,"https:"==window.location.protocol,c)},getDefaultWebDomain:function(){return"www"},getDefaultStaticDomain:function(){return"cdn"},process:function(a){if(this._done){if(!this._allowReProcess&&!a)return;this.clear()}else this._oneTimeSetup();if(this._done=!0,!this.setupAndValidate())return void this.fire("render");this._showLoader&&this._addLoader(),FB.Dom.addCss(this.dom,"fb_iframe_widget"),"immediate"!=this._visibleAfter?FB.Dom.addCss(this.dom,"fb_hide_iframes"):this.subscribe("iframe.onload",FB.bind(this.fire,this,"render"));var b=this.getSize()||{},c=this.getFullyQualifiedURL();"100%"==b.width&&FB.Dom.addCss(this.dom,"fb_iframe_widget_fluid"),FB.Content.insertIframe({url:c,root:this.dom.appendChild(document.createElement("span")),name:this.getIframeName(),title:this.getIframeTitle(),className:FB._localeIsRtl?"fb_rtl":"fb_ltr",height:b.height,width:b.width,onload:FB.bind(this.fire,this,"iframe.onload")}),this.loaded=!1,this.subscribe("iframe.onload",FB.bind(function(){this.loaded=!0},this))},generateWidgetPipeIframeName:function(){return FB.XFBML.IframeWidget.widgetPipeIframeCount++,"fb_iframe_"+FB.XFBML.IframeWidget.widgetPipeIframeCount},getFullyQualifiedURL:function(){if(FB.XFBML.shouldUseWidgetPipe()&&this._widgetPipeEnabled)return this._getWidgetPipeShell();var a=this._getURL();if(this._fetchPreCachedLoader||(a+="?"+FB.QS.encode(this._getQS())),a.length>2e3){a="about:blank";var b=FB.bind(function(){this._postRequest(),this.unsubscribe("iframe.onload",b)},this);this.subscribe("iframe.onload",b)}return a},_getWidgetPipeShell:function(){return FB.getDomain("www")+"common/widget_pipe_shell.php"},_oneTimeSetup:function(){this.subscribe("xd.resize",FB.bind(this._handleResizeMsg,this)),FB.getLoginStatus&&(this.subscribe("xd.refreshLoginStatus",FB.bind(FB.getLoginStatus,FB,function(){},!0)),this.subscribe("xd.logout",FB.bind(FB.logout,FB,function(){}))),this._refreshOnAuthChange&&this._setupAuthRefresh(),"load"==this._visibleAfter&&this.subscribe("iframe.onload",FB.bind(this._makeVisible,this)),this.oneTimeSetup()},_makeVisible:function(){this._removeLoader(),FB.Dom.removeCss(this.dom,"fb_hide_iframes"),this.fire("render")},_setupAuthRefresh:function(){FB.getLoginStatus(FB.bind(function(a){var b=a.status;FB.Event.subscribe("auth.statusChange",FB.bind(function(a){this.isValid()&&(("unknown"==b||"unknown"==a.status)&&this.process(!0),b=a.status)},this))},this))},_handleResizeMsg:function(a){if(this.isValid()){var b=this.getIframeNode();b.style.height=a.height+"px",a.width&&(b.style.width=a.width+"px"),b.style.border="none",this._makeVisible()}},_addLoader:function(){this._loaderDiv||(FB.Dom.addCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv=document.createElement("div"),this._loaderDiv.className="FB_Loader",this.dom.appendChild(this._loaderDiv))},_removeLoader:function(){this._loaderDiv&&(FB.Dom.removeCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv.parentNode&&this._loaderDiv.parentNode.removeChild(this._loaderDiv),this._loaderDiv=null)},_getQS:function(){return FB.copy({api_key:FB._apiKey,locale:FB._locale,sdk:"joey",ref:this.getAttribute("ref")},this.getUrlBits().params)},_getURL:function(){var a=this.getDefaultWebDomain(),b="";return this._fetchPreCachedLoader&&(a=this.getDefaultStaticDomain(),b="static/"),FB.getDomain(a)+"plugins/"+b+this.getUrlBits().name+".php"},_postRequest:function(){FB.Content.submitToTarget({url:this._getURL(),target:this.getIframeNode().name,params:this._getQS()})}}),FB.provide("XFBML.IframeWidget",{widgetPipeIframeCount:0,masterWidgetPipeIframe:null,allWidgetPipeIframes:{},batchWidgetPipeRequests:function(){if(FB.XFBML.IframeWidget.masterWidgetPipeIframe){var a=FB.XFBML.IframeWidget._groupWidgetPipeDescriptions(),b={widget_pipe:FB.JSON.stringify(a),href:window.location,site:location.hostname,channel:FB.XFBML.IframeWidget.masterWidgetPipeIframe.getChannelUrl(),api_key:FB._apiKey,locale:FB._locale,sdk:"joey"},c=FB.guid(),d=FB.XFBML.IframeWidget.masterWidgetPipeIframe.dom,e=d.appendChild(document.createElement("span"));FB.Content.insertIframe({url:"about:blank",root:e,name:c,className:"fb_hidden fb_invisible",onload:function(){FB.Content.submitToTarget({url:FB._domain.www+"widget_pipe.php?widget_pipe=1",target:c,params:b})}})}},_groupWidgetPipeDescriptions:function(){var a={};for(var b in FB.XFBML.IframeWidget.allWidgetPipeIframes){var c=FB.XFBML.IframeWidget.allWidgetPipeIframes[b],d=c.getUrlBits(),e={widget:d.name};FB.copy(e,d.params),a[b]=e}return a}}),FB.subclass("XFBML.Activity","XFBML.IframeWidget",null,{_visibleAfter:"load",_refreshOnAuthChange:!0,setupAndValidate:function(){return this._attr={border_color:this.getAttribute("border-color"),colorscheme:this.getAttribute("color-scheme"),filter:this.getAttribute("filter"),action:this.getAttribute("action"),max_age:this.getAttribute("max_age"),font:this.getAttribute("font"),linktarget:this.getAttribute("linktarget","_blank"),header:this._getBoolAttribute("header"),height:this._getPxAttribute("height",300),recommendations:this._getBoolAttribute("recommendations"),site:this.getAttribute("site",location.hostname),width:this._getPxAttribute("width",300)},!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"activity",params:this._attr}}}),FB.subclass("XFBML.ButtonElement","XFBML.Element",null,{_allowedSizes:["icon","small","medium","large","xlarge"],onClick:function(){throw new Error("Inheriting class needs to implement onClick().")},setupAndValidate:function(){return!0},getButtonMarkup:function(){return this.getOriginalHTML()},getOriginalHTML:function(){return this._originalHTML},process:function(){if("_originalHTML"in this||(this._originalHTML=FB.String.trim(this.dom.innerHTML)),!this.setupAndValidate())return void this.fire("render");var a=this._getAttributeFromList("size","medium",this._allowedSizes),b="",c="";if("icon"==a)b="fb_button_simple";else{var d=FB._localeIsRtl?"_rtl":"";c=this.getButtonMarkup(),b="fb_button"+d+" fb_button_"+a+d}""!==c&&(this.dom.innerHTML='<a class="'+b+'"><span class="fb_button_text">'+c+"</span></a>",this.dom.firstChild.onclick=FB.bind(this.onClick,this)),this.fire("render")}}),FB.subclass("XFBML.AddProfileTab","XFBML.ButtonElement",null,{getButtonMarkup:function(){return FB.Intl.tx._("Add Profile Tab on Facebook")},onClick:function(){FB.ui({method:"profile.addtab"},this.bind(function(a){a.tab_added&&FB.Helper.invokeHandler(this.getAttribute("on-add"),this)}))}}),FB.subclass("XFBML.Facepile","XFBML.IframeWidget",null,{_visibleAfter:"load",_extraParams:{},setupAndValidate:function(){this._attr={href:this.getAttribute("href"),channel:this.getChannelUrl(),colorscheme:this.getAttribute("colorscheme","light"),max_rows:this.getAttribute("max-rows"),action:this.getAttribute("action","like"),tense:this.getAttribute("tense","past"),width:this._getPxAttribute("width",200),ref:this.getAttribute("ref"),size:this.getAttribute("size","small"),extended_social_context:this.getAttribute("extended_social_context",!1),login_text:this.dom.innerHTML},this.clear();for(var a in this._extraParams)this._attr[a]=this._extraParams[a];return!0},setExtraParams:function(a){this._extraParams=a},oneTimeSetup:function(){var a=FB._userStatus;FB.Event.subscribe("auth.statusChange",FB.bind(function(b){("connected"==a||"connected"==b.status)&&this.process(!0),a=b.status},this))},getSize:function(){return"large"==this._attr.size?{width:this._attr.width,height:90}:{width:this._attr.width,height:70}},getUrlBits:function(){return{name:"facepile",params:this._attr}}}),FB.subclass("XFBML.AddToTimeline","XFBML.Facepile",null,{_visibleAfter:"load",getSize:function(){return{width:300,height:250}},getUrlBits:function(){return{name:"add_to_timeline",params:this._attr}}}),FB.subclass("XFBML.Bookmark","XFBML.ButtonElement",null,{getButtonMarkup:function(){return FB.Intl.tx._("Bookmark on Facebook")},onClick:function(){FB.ui({method:"bookmark.add"},this.bind(function(a){a.bookmarked&&FB.Helper.invokeHandler(this.getAttribute("on-add"),this)}))}}),FB.subclass("XFBML.Comments","XFBML.IframeWidget",null,{_visibleAfter:"immediate",_refreshOnAuthChange:!0,setupAndValidate:function(){var a={channel_url:this.getChannelUrl(),colorscheme:this.getAttribute("colorscheme"),numposts:this.getAttribute("num-posts",10),width:this._getPxAttribute("width",550),href:this.getAttribute("href"),permalink:this.getAttribute("permalink"),publish_feed:this.getAttribute("publish_feed"),mobile:this._getBoolAttribute("mobile")};if(FB.initSitevars.enableMobileComments&&FB.UA.mobile()&&a.mobile!==!1&&(a.mobile=!0),a.href){var b=this.getAttribute("fb_comment_id");b||(b=FB.QS.decode(document.URL.substring(document.URL.indexOf("?")+1)).fb_comment_id,b&&b.indexOf("#")>0&&(b=b.substring(0,b.indexOf("#")))),b&&(a.fb_comment_id=b,this.subscribe("render",FB.bind(function(){window.location.hash=this.getIframeNode().id},this)))}else{if(a.migrated=this.getAttribute("migrated"),a.xid=this.getAttribute("xid"),a.title=this.getAttribute("title",document.title),a.url=this.getAttribute("url",document.URL),a.quiet=this.getAttribute("quiet"),a.reverse=this.getAttribute("reverse"),a.simple=this.getAttribute("simple"),a.css=this.getAttribute("css"),a.notify=this.getAttribute("notify"),!a.xid){var c=document.URL.indexOf("#");a.xid=encodeURIComponent(c>0?document.URL.substring(0,c):document.URL)}a.migrated&&(a.href="http://www.facebook.com/plugins/comments_v1.php?app_id="+FB._apiKey+"&xid="+encodeURIComponent(a.xid)+"&url="+encodeURIComponent(a.url))}return this._attr=a,!0},oneTimeSetup:function(){this.subscribe("xd.addComment",FB.bind(this._handleCommentMsg,this)),this.subscribe("xd.commentCreated",FB.bind(this._handleCommentCreatedMsg,this)),this.subscribe("xd.commentRemoved",FB.bind(this._handleCommentRemovedMsg,this))},getSize:function(){return this._attr.mobile?{width:"100%",height:160}:{width:this._attr.width,height:160}},getUrlBits:function(){return{name:"comments",params:this._attr}},getDefaultWebDomain:function(){return this._attr.mobile?"https_m":"https_www"},_handleCommentMsg:function(a){this.isValid()&&FB.Event.fire("comments.add",{post:a.post,user:a.user,widget:this})},_handleCommentCreatedMsg:function(a){if(this.isValid()){var b={href:a.href,commentID:a.commentID,parentCommentID:a.parentCommentID};FB.Event.fire("comment.create",b)}},_handleCommentRemovedMsg:function(a){if(this.isValid()){var b={href:a.href,commentID:a.commentID};FB.Event.fire("comment.remove",b)}}}),FB.subclass("XFBML.CommentsCount","XFBML.Element",null,{process:function(){this._href=this.getAttribute("href",window.location.href),this._count=FB.Data._selectByIndex(["commentsbox_count"],"link_stat","url",this._href),FB.Dom.addCss(this.dom,"fb_comments_count_zero"),this._count.wait(FB.bind(function(){var a=this._count.value[0].commentsbox_count;this.dom.innerHTML=FB.String.format('<span class="fb_comments_count">{0}</span>',a),a>0&&FB.Dom.removeCss(this.dom,"fb_comments_count_zero"),this.fire("render")},this))}}),FB.provide("Anim",{ate:function(a,b,c,d){c=!isNaN(parseFloat(c))&&c>=0?c:750;var e=40,f={},g={},h=null,i=(a.style,setInterval(FB.bind(function(){h||(h=(new Date).getTime());var e=1;0!=c&&(e=Math.min(((new Date).getTime()-h)/c,1)),FB.Array.forEach(b,FB.bind(function(b,c){if(!f[c]){var d=FB.Dom.getStyle(a,c);if(d===!1)return;f[c]=this._parseCSS(d+"")}g[c]||(g[c]=this._parseCSS(b.toString()));var h="";FB.Array.forEach(f[c],function(a,b){isNaN(g[c][b].numPart)&&"?"==g[c][b].textPart?h=a.numPart+a.textPart:isNaN(a.numPart)?h=a.textPart:h+=a.numPart+Math.ceil((g[c][b].numPart-a.numPart)*Math.sin(Math.PI/2*e))+g[c][b].textPart+" "}),FB.Dom.setStyle(a,c,h)},this)),1==e&&(clearInterval(i),d&&d(a))},this),e))},_parseCSS:function(a){var b=[];return FB.Array.forEach(a.split(" "),function(a){var c=parseInt(a,10);b.push({numPart:c,textPart:a.replace(c,"")})}),b}}),FB.provide("Insights",{impression:function(a,b){var c=FB.guid(),d="//ah8.facebook.com/impression.php/"+c+"/",e=new Image(1,1),f=[];!a.api_key&&FB._apiKey&&(a.api_key=FB._apiKey);for(var g in a)f.push(encodeURIComponent(g)+"="+encodeURIComponent(a[g]));d+="?"+f.join("&"),b&&(e.onload=b),e.src=d}}),FB.subclass("XFBML.ConnectBar","XFBML.Element",null,{_initialHeight:null,_initTopMargin:0,_picFieldName:"pic_square",_page:null,_displayed:!1,_notDisplayed:!1,_container:null,_animationSpeed:0,process:function(){FB.getLoginStatus(this.bind(function(){FB.Event.monitor("auth.statusChange",this.bind(function(){return this.isValid()&&"connected"==FB._userStatus?(this._uid=FB.Helper.getLoggedInUser(),FB.api({method:"Connect.shouldShowConnectBar"},this.bind(function(a){2!=a?(this._animationSpeed=0==a?750:0,this._showBar()):this._noRender()}))):this._noRender(),!1}))}))},_showBar:function(){var a=FB.Data._selectByIndex(["first_name","profile_url",this._picFieldName],"user","uid",this._uid),b=FB.Data._selectByIndex(["display_name"],"application","api_key",FB._apiKey);FB.Data.waitOn([a,b],FB.bind(function(a){a[0][0].site_name=a[1][0].display_name,this._displayed||(this._displayed=!0,this._notDisplayed=!1,this._renderConnectBar(a[0][0]),this.fire("render"),FB.Insights.impression({lid:104,name:"widget_load"}),this.fire("connectbar.ondisplay"),FB.Event.fire("connectbar.ondisplay",this),FB.Helper.invokeHandler(this.getAttribute("on-display"),this))},this))},_noRender:function(){this._displayed&&(this._displayed=!1,this._closeConnectBar()),this._notDisplayed||(this._notDisplayed=!0,this.fire("render"),this.fire("connectbar.onnotdisplay"),FB.Event.fire("connectbar.onnotdisplay",this),FB.Helper.invokeHandler(this.getAttribute("on-not-display"),this))},_renderConnectBar:function(a){var b=document.createElement("div"),c=document.createElement("div");b.className="fb_connect_bar",c.className="fb_reset fb_connect_bar_container",c.appendChild(b),document.body.appendChild(c),this._container=c,this._initialHeight=Math.round(parseFloat(FB.Dom.getStyle(c,"height"))+parseFloat(FB.Dom.getStyle(c,"borderBottomWidth"))),b.innerHTML=FB.String.format('<div class="fb_buttons"><a href="#" class="fb_bar_close"><img src="{1}" alt="{2}" title="{2}"/></a></div><a href="{7}" class="fb_profile" target="_blank"><img src="{3}" alt="{4}" title="{4}"/></a>{5} <span><a href="{8}" class="fb_learn_more" target="_blank">{6}</a> &ndash; <a href="#" class="fb_no_thanks">{0}</a></span>',FB.Intl.tx._("No Thanks"),FB.getDomain("cdn")+FB.XFBML.ConnectBar.imgs.buttonUrl,FB.Intl.tx._("Close"),a[this._picFieldName]||FB.getDomain("cdn")+FB.XFBML.ConnectBar.imgs.missingProfileUrl,FB.String.escapeHTML(a.first_name),FB.Intl.tx._("Hi {firstName}. <strong>{siteName}</strong> is using Facebook to personalize your experience.",{firstName:FB.String.escapeHTML(a.first_name),siteName:FB.String.escapeHTML(a.site_name)}),FB.Intl.tx._("Learn More"),a.profile_url,FB.getDomain("www")+"sitetour/connect.php");var d=this;FB.Array.forEach(b.getElementsByTagName("a"),function(a){a.onclick=FB.bind(d._clickHandler,d)}),this._page=document.body;var e=0;e=this._page.parentNode?Math.round((parseFloat(FB.Dom.getStyle(this._page.parentNode,"height"))-parseFloat(FB.Dom.getStyle(this._page,"height")))/2):parseInt(FB.Dom.getStyle(this._page,"marginTop"),10),e=isNaN(e)?0:e,this._initTopMargin=e,window.XMLHttpRequest?(c.style.top=-1*this._initialHeight+"px",FB.Anim.ate(c,{top:"0px"},this._animationSpeed)):c.className+=" fb_connect_bar_container_ie6";var f={marginTop:this._initTopMargin+this._initialHeight+"px"};FB.UA.ie()?f.backgroundPositionY=this._initialHeight+"px":f.backgroundPosition="? "+this._initialHeight+"px",FB.Anim.ate(this._page,f,this._animationSpeed)},_clickHandler:function(a){a=a||window.event;for(var b=a.target||a.srcElement;"A"!=b.nodeName;)b=b.parentNode;switch(b.className){case"fb_bar_close":FB.api({method:"Connect.connectBarMarkAcknowledged"}),FB.Insights.impression({lid:104,name:"widget_user_closed"}),this._closeConnectBar();break;case"fb_learn_more":case"fb_profile":window.open(b.href);break;case"fb_no_thanks":this._closeConnectBar(),FB.api({method:"Connect.connectBarMarkAcknowledged"}),FB.Insights.impression({lid:104,name:"widget_user_no_thanks"}),FB.api({method:"auth.revokeAuthorization",block:!0},this.bind(function(){this.fire("connectbar.ondeauth"),FB.Event.fire("connectbar.ondeauth",this),FB.Helper.invokeHandler(this.getAttribute("on-deauth"),this),this._getBoolAttribute("auto-refresh",!0)&&window.location.reload()}))}return!1},_closeConnectBar:function(){this._notDisplayed=!0;var a={marginTop:this._initTopMargin+"px"};FB.UA.ie()?a.backgroundPositionY="0px":a.backgroundPosition="? 0px";var b=0==this._animationSpeed?0:300;FB.Anim.ate(this._page,a,b),FB.Anim.ate(this._container,{top:-1*this._initialHeight+"px"},b,function(a){a.parentNode.removeChild(a)}),this.fire("connectbar.onclose"),FB.Event.fire("connectbar.onclose",this),FB.Helper.invokeHandler(this.getAttribute("on-close"),this)}}),FB.provide("XFBML.ConnectBar",{imgs:{buttonUrl:"images/facebook-widgets/close_btn.png",missingProfileUrl:"pics/q_silhouette.gif"}}),FB.subclass("XFBML.Fan","XFBML.IframeWidget",null,{_visibleAfter:"load",setupAndValidate:function(){if(this._attr={api_key:FB._apiKey,connections:this.getAttribute("connections","10"),css:this.getAttribute("css"),height:this._getPxAttribute("height"),id:this.getAttribute("profile-id"),logobar:this._getBoolAttribute("logo-bar"),name:this.getAttribute("name"),stream:this._getBoolAttribute("stream",!0),width:this._getPxAttribute("width",300)},!this._attr.id&&!this._attr.name)return FB.log('<fb:fan> requires one of the "id" or "name" attributes.'),!1;var a=this._attr.height;return a||(a=this._attr.connections&&"0"!==this._attr.connections||this._attr.stream?this._attr.connections&&"0"!==this._attr.connections?this._attr.stream?550:250:375:65),this._attr.logobar&&(a+=25),this._attr.height=a,!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"fan",params:this._attr}}}),FB.subclass("XFBML.Friendpile","XFBML.Facepile",null,{}),FB.subclass("XFBML.EdgeCommentWidget","XFBML.IframeWidget",function(a){this._iframeWidth=a.width+1,this._iframeHeight=a.height,this._attr={master_frame_name:a.masterFrameName,offsetX:a.relativeWidthOffset-a.paddingLeft},this.dom=a.commentNode,this.dom.style.top=a.relativeHeightOffset+"px",this.dom.style.left=a.relativeWidthOffset+"px",this.dom.style.zIndex=FB.XFBML.EdgeCommentWidget.NextZIndex++,FB.Dom.addCss(this.dom,"fb_edge_comment_widget")},{_visibleAfter:"load",_showLoader:!1,getSize:function(){return{width:this._iframeWidth,height:this._iframeHeight}},getUrlBits:function(){return{name:"comment_widget_shell",params:this._attr}}}),FB.provide("XFBML.EdgeCommentWidget",{NextZIndex:1e4}),FB.subclass("XFBML.EdgeWidget","XFBML.IframeWidget",null,{_visibleAfter:"immediate",_showLoader:!1,_rootPadding:null,setupAndValidate:function(){return FB.Dom.addCss(this.dom,"fb_edge_widget_with_comment"),this._attr={channel_url:this.getChannelUrl(),debug:this._getBoolAttribute("debug"),href:this.getAttribute("href",window.location.href),is_permalink:this._getBoolAttribute("is-permalink"),node_type:this.getAttribute("node-type","link"),width:this._getWidgetWidth(),font:this.getAttribute("font"),layout:this._getLayout(),colorscheme:this.getAttribute("color-scheme"),action:this.getAttribute("action"),ref:this.getAttribute("ref"),show_faces:this._shouldShowFaces(),no_resize:this._getBoolAttribute("no_resize"),send:this._getBoolAttribute("send"),url_map:this.getAttribute("url_map"),extended_social_context:this._getBoolAttribute("extended_social_context",!1)},this._rootPadding={left:parseFloat(FB.Dom.getStyle(this.dom,"paddingLeft")),top:parseFloat(FB.Dom.getStyle(this.dom,"paddingTop"))},!0},oneTimeSetup:function(){this.subscribe("xd.authPrompted",FB.bind(this._onAuthPrompt,this)),this.subscribe("xd.edgeCreated",FB.bind(this._onEdgeCreate,this)),this.subscribe("xd.edgeRemoved",FB.bind(this._onEdgeRemove,this)),this.subscribe("xd.presentEdgeCommentDialog",FB.bind(this._handleEdgeCommentDialogPresentation,this)),this.subscribe("xd.dismissEdgeCommentDialog",FB.bind(this._handleEdgeCommentDialogDismissal,this)),this.subscribe("xd.hideEdgeCommentDialog",FB.bind(this._handleEdgeCommentDialogHide,this)),this.subscribe("xd.showEdgeCommentDialog",FB.bind(this._handleEdgeCommentDialogShow,this))},getSize:function(){return{width:this._getWidgetWidth(),height:this._getWidgetHeight()}
},_getWidgetHeight:function(){var a=this._getLayout(),b=this._shouldShowFaces()?"show":"hide",c=this._getBoolAttribute("send"),d=65+(c?25:0),e={standard:{show:80,hide:35},box_count:{show:d,hide:d},button_count:{show:21,hide:21},simple:{show:20,hide:20}};return e[a][b]},_getWidgetWidth:function(){var a=this._getLayout(),b=this._getBoolAttribute("send"),c=this._shouldShowFaces()?"show":"hide",d="recommend"===this.getAttribute("action"),e=(d?265:225)+(b?60:0),f=(d?130:90)+(b?60:0),g="recommend"===this.getAttribute("action")?100:55,h="recommend"===this.getAttribute("action")?90:50,i={standard:{show:450,hide:450},box_count:{show:g,hide:g},button_count:{show:f,hide:f},simple:{show:h,hide:h}},j=i[a][c],k=this._getPxAttribute("width",j),l={standard:{min:e,max:900},box_count:{min:g,max:900},button_count:{min:f,max:900},simple:{min:49,max:900}};return k<l[a].min?k=l[a].min:k>l[a].max&&(k=l[a].max),k},_getLayout:function(){return this._getAttributeFromList("layout","standard",["standard","button_count","box_count","simple"])},_shouldShowFaces:function(){return"standard"===this._getLayout()&&this._getBoolAttribute("show-faces",!0)},_handleEdgeCommentDialogPresentation:function(a){if(this.isValid()){var b=document.createElement("span");this._commentSlave=this._createEdgeCommentWidget(a,b),this.dom.appendChild(b),this._commentSlave.process(),this._commentWidgetNode=b}},_createEdgeCommentWidget:function(a,b){var c={commentNode:b,externalUrl:a.externalURL,masterFrameName:a.masterFrameName,layout:this._getLayout(),relativeHeightOffset:this._getHeightOffset(a),relativeWidthOffset:this._getWidthOffset(a),anchorTargetX:parseFloat(a["query[anchorTargetX]"])+this._rootPadding.left,anchorTargetY:parseFloat(a["query[anchorTargetY]"])+this._rootPadding.top,width:parseFloat(a.width),height:parseFloat(a.height),paddingLeft:this._rootPadding.left};return new FB.XFBML.EdgeCommentWidget(c)},_getHeightOffset:function(a){return parseFloat(a["anchorGeometry[y]"])+parseFloat(a["anchorPosition[y]"])+this._rootPadding.top},_getWidthOffset:function(a){var b=parseFloat(a["anchorPosition[x]"])+this._rootPadding.left,c=FB.Dom.getPosition(this.dom).x,d=(this.dom.offsetWidth,FB.Dom.getViewportInfo().width),e=parseFloat(a.width),f=!1;return FB._localeIsRtl?f=c>e:c+e>d&&(f=!0),f&&(b+=parseFloat(a["anchorGeometry[x]"])-e),b},_getCommonEdgeCommentWidgetOpts:function(a,b){return{colorscheme:this._attr.colorscheme,commentNode:b,controllerID:a.controllerID,nodeImageURL:a.nodeImageURL,nodeRef:this._attr.ref,nodeTitle:a.nodeTitle,nodeURL:a.nodeURL,nodeSummary:a.nodeSummary,width:parseFloat(a.width),height:parseFloat(a.height),relativeHeightOffset:this._getHeightOffset(a),relativeWidthOffset:this._getWidthOffset(a),error:a.error,siderender:a.siderender,extended_social_context:a.extended_social_context,anchorTargetX:parseFloat(a["query[anchorTargetX]"])+this._rootPadding.left,anchorTargetY:parseFloat(a["query[anchorTargetY]"])+this._rootPadding.top}},_handleEdgeCommentDialogDismissal:function(){this._commentWidgetNode&&(this.dom.removeChild(this._commentWidgetNode),delete this._commentWidgetNode)},_handleEdgeCommentDialogHide:function(){this._commentWidgetNode&&(this._commentWidgetNode.style.display="none")},_handleEdgeCommentDialogShow:function(){this._commentWidgetNode&&(this._commentWidgetNode.style.display="block")},_fireEventAndInvokeHandler:function(a,b){FB.Helper.fireEvent(a,this),FB.Helper.invokeHandler(this.getAttribute(b),this,[this._attr.href])},_onEdgeCreate:function(){this._fireEventAndInvokeHandler("edge.create","on-create")},_onEdgeRemove:function(){this._fireEventAndInvokeHandler("edge.remove","on-remove")},_onAuthPrompt:function(){this._fireEventAndInvokeHandler("auth.prompt","on-prompt")}}),FB.subclass("XFBML.SendButtonFormWidget","XFBML.EdgeCommentWidget",function(a){this._base(a),FB.Dom.addCss(this.dom,"fb_send_button_form_widget"),FB.Dom.addCss(this.dom,a.colorscheme),FB.Dom.addCss(this.dom,"undefined"!=typeof a.siderender&&a.siderender?"siderender":""),this._attr.nodeImageURL=a.nodeImageURL,this._attr.nodeRef=a.nodeRef,this._attr.nodeTitle=a.nodeTitle,this._attr.nodeURL=a.nodeURL,this._attr.nodeSummary=a.nodeSummary,this._attr.offsetX=a.relativeWidthOffset,this._attr.offsetY=a.relativeHeightOffset,this._attr.anchorTargetX=a.anchorTargetX,this._attr.anchorTargetY=a.anchorTargetY,this._attr.channel=this.getChannelUrl(),this._attr.controllerID=a.controllerID,this._attr.colorscheme=a.colorscheme,this._attr.error=a.error,this._attr.siderender=a.siderender,this._attr.extended_social_context=a.extended_social_context},{_showLoader:!0,getUrlBits:function(){return{name:"send_button_form_shell",params:this._attr}},oneTimeSetup:function(){this.subscribe("xd.messageSent",FB.bind(this._onMessageSent,this))},_onMessageSent:function(){FB.Event.fire("message.send",this._attr.nodeURL,this)}}),FB.subclass("XFBML.Send","XFBML.EdgeWidget",null,{setupAndValidate:function(){return FB.Dom.addCss(this.dom,"fb_edge_widget_with_comment"),this._attr={channel:this.getChannelUrl(),api_key:FB._apiKey,font:this.getAttribute("font"),colorscheme:this.getAttribute("colorscheme","light"),href:this.getAttribute("href",window.location.href),ref:this.getAttribute("ref"),extended_social_context:this.getAttribute("extended_social_context",!1)},this._rootPadding={left:parseFloat(FB.Dom.getStyle(this.dom,"paddingLeft")),top:parseFloat(FB.Dom.getStyle(this.dom,"paddingTop"))},!0},getUrlBits:function(){return{name:"send",params:this._attr}},_createEdgeCommentWidget:function(a,b){var c=this._getCommonEdgeCommentWidgetOpts(a,b);return new FB.XFBML.SendButtonFormWidget(c)},getSize:function(){return{width:FB.XFBML.Send.Dimensions.width,height:FB.XFBML.Send.Dimensions.height}}}),FB.provide("XFBML.Send",{Dimensions:{width:80,height:25}}),FB.subclass("XFBML.Like","XFBML.EdgeWidget",null,{_widgetPipeEnabled:!0,getUrlBits:function(){return{name:"like",params:this._attr}},_createEdgeCommentWidget:function(a,b){if("send"in this._attr&&"widget_type"in a&&"send"==a.widget_type){var c=this._getCommonEdgeCommentWidgetOpts(a,b);return new FB.XFBML.SendButtonFormWidget(c)}return this._callBase("_createEdgeCommentWidget",a,b)},getIframeTitle:function(){return"Like this content on Facebook."}}),FB.subclass("XFBML.LikeBox","XFBML.EdgeWidget",null,{_visibleAfter:"load",setupAndValidate:function(){if(this._attr={channel:this.getChannelUrl(),api_key:FB._apiKey,connections:this.getAttribute("connections"),css:this.getAttribute("css"),height:this.getAttribute("height"),id:this.getAttribute("profile-id"),header:this._getBoolAttribute("header",!0),name:this.getAttribute("name"),show_faces:this._getBoolAttribute("show-faces",!0),stream:this._getBoolAttribute("stream",!0),width:this._getPxAttribute("width",300),href:this.getAttribute("href"),colorscheme:this.getAttribute("colorscheme","light"),border_color:this.getAttribute("border_color")},this._getBoolAttribute("force_wall",!1)&&(this._attr.force_wall=!0),"0"===this._attr.connections?this._attr.show_faces=!1:this._attr.connections&&(this._attr.show_faces=!0),!this._attr.id&&!this._attr.name&&!this._attr.href)return FB.log('<fb:like-box> requires one of the "id" or "name" attributes.'),!1;var a=this._attr.height;return a||(this._attr.show_faces||this._attr.stream?(a=95,this._attr.show_faces&&(a+=163),this._attr.stream&&(a+=300),this._attr.header&&"0"!==this._attr.header&&(a+=32)):a=62),this._attr.height=a,this.subscribe("xd.likeboxLiked",FB.bind(this._onLiked,this)),this.subscribe("xd.likeboxUnliked",FB.bind(this._onUnliked,this)),!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"likebox",params:this._attr}},_onLiked:function(){FB.Helper.fireEvent("edge.create",this)},_onUnliked:function(){FB.Helper.fireEvent("edge.remove",this)}}),FB.subclass("XFBML.LiveStream","XFBML.IframeWidget",null,{_visibleAfter:"load",setupAndValidate:function(){return this._attr={app_id:this.getAttribute("event-app-id"),height:this._getPxAttribute("height",500),hideFriendsTab:this.getAttribute("hide-friends-tab"),redesigned:this._getBoolAttribute("redesigned-stream"),width:this._getPxAttribute("width",400),xid:this.getAttribute("xid","default"),always_post_to_friends:this._getBoolAttribute("always-post-to-friends"),via_url:this.getAttribute("via_url")},!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){var a=this._attr.redesigned?"live_stream_box":"livefeed";return this._getBoolAttribute("modern",!1)&&(a="live_stream"),{name:a,params:this._attr}}}),FB.subclass("XFBML.Login","XFBML.Facepile",null,{_visibleAfter:"load",getSize:function(){return{width:this._attr.width,height:94}},getUrlBits:function(){return{name:"login",params:this._attr}}}),FB.subclass("XFBML.LoginButton","XFBML.ButtonElement",null,{setupAndValidate:function(){return this._alreadySetup?!0:(this._alreadySetup=!0,this._attr={autologoutlink:this._getBoolAttribute("auto-logout-link"),length:this._getAttributeFromList("length","short",["long","short"]),onlogin:this.getAttribute("on-login"),perms:this.getAttribute("perms"),scope:this.getAttribute("scope"),registration_url:this.getAttribute("registration-url"),status:"unknown"},this._attr.autologoutlink&&FB.Event.subscribe("auth.statusChange",FB.bind(this.process,this)),this._attr.registration_url&&(FB.Event.subscribe("auth.statusChange",this._saveStatus(this.process,!1)),FB.getLoginStatus(this._saveStatus(this.process,!1))),!0)},getButtonMarkup:function(){var a=this.getOriginalHTML();if(a)return a;if(!this._attr.registration_url)return FB.getAccessToken()&&this._attr.autologoutlink?FB.Intl.tx._("Facebook Logout"):FB.getAccessToken()?"":this._getLoginText();switch(this._attr.status){case"unknown":return this._getLoginText();case"notConnected":case"not_authorized":return FB.Intl.tx._("Register");case"connected":return FB.getAccessToken()&&this._attr.autologoutlink?FB.Intl.tx._("Facebook Logout"):"";default:return FB.log("Unknown status: "+this._attr.status),FB.Intl.tx._("Log In")}},_getLoginText:function(){return FB.Intl.tx._("short"==this._attr.length?"Log In":"Log In with Facebook")},onClick:function(){if(this._attr.registration_url)switch(this._attr.status){case"unknown":FB.ui({method:"auth.logintoFacebook"},FB.bind(function(){FB.bind(FB.getLoginStatus(this._saveStatus(this._authCallback,!0),!0),this)},this));break;case"notConnected":case"not_authorized":window.top.location=this._attr.registration_url;break;case"connected":FB.getAccessToken()&&this._attr.autologoutlink?FB.logout(FB.bind(this._authCallback,this)):this._authCallback();break;default:FB.log("Unknown status: "+this._attr.status)}else FB.getAccessToken()&&this._attr.autologoutlink?FB.logout(FB.bind(this._authCallback,this)):FB.login(FB.bind(this._authCallback,this),{perms:this._attr.perms,scope:this._attr.scope})},_authCallback:function(a){FB.Helper.invokeHandler(this._attr.onlogin,this,[a])},_saveStatus:function(a,b){return FB.bind(function(c){return!b||!this._attr.registration_url||"notConnected"!=this._attr.status&&"not_authorized"!=this._attr.status||"notConnected"!=c.status&&"not_authorized"!=c.status||(window.top.location=this._attr.registration_url),this._attr.status=c.status,a?(a=this.bind(a,this))(c):void 0},this)}}),FB.subclass("XFBML.Name","XFBML.Element",null,{process:function(){if(FB.copy(this,{_uid:this.getAttribute("uid"),_firstnameonly:this._getBoolAttribute("first-name-only"),_lastnameonly:this._getBoolAttribute("last-name-only"),_possessive:this._getBoolAttribute("possessive"),_reflexive:this._getBoolAttribute("reflexive"),_objective:this._getBoolAttribute("objective"),_linked:this._getBoolAttribute("linked",!0),_subjectId:this.getAttribute("subject-id")}),!this._uid)return FB.log('"uid" is a required attribute for <fb:name>'),void this.fire("render");var a=[];a.push(this._firstnameonly?"first_name":this._lastnameonly?"last_name":"name"),this._subjectId&&(a.push("sex"),this._subjectId==FB.Helper.getLoggedInUser()&&(this._reflexive=!0));var b;FB.Event.monitor("auth.statusChange",this.bind(function(){return this.isValid()?(this._uid&&"loggedinuser"!=this._uid||(this._uid=FB.Helper.getLoggedInUser()),void(this._uid&&(b=FB.Helper.isUser(this._uid)?FB.Data._selectByIndex(a,"user","uid",this._uid):FB.Data._selectByIndex(["name","id"],"profile","id",this._uid),b.wait(this.bind(function(a){this._subjectId==this._uid?this._renderPronoun(a[0]):this._renderOther(a[0]),this.fire("render")}))))):(this.fire("render"),!0)}))},_renderPronoun:function(a){var b="",c=this._objective;if(this._subjectId&&(c=!0,this._subjectId===this._uid&&(this._reflexive=!0)),this._uid==FB.Connect.get_loggedInUser()&&this._getBoolAttribute("use-you",!0))b=this._possessive?this._reflexive?"your own":"your":this._reflexive?"yourself":"you";else switch(a.sex){case"male":b=this._possessive?this._reflexive?"his own":"his":this._reflexive?"himself":c?"him":"he";break;case"female":b=this._possessive?this._reflexive?"her own":"her":this._reflexive?"herself":c?"her":"she";break;default:b=this._getBoolAttribute("use-they",!0)?this._possessive?this._reflexive?"their own":"their":this._reflexive?"themselves":c?"them":"they":this._possessive?this._reflexive?"his/her own":"his/her":this._reflexive?"himself/herself":c?"him/her":"he/she"}this._getBoolAttribute("capitalize",!1)&&(b=FB.Helper.upperCaseFirstChar(b)),this.dom.innerHTML=b},_renderOther:function(a){var b="",c="";this._uid==FB.Helper.getLoggedInUser()&&this._getBoolAttribute("use-you",!0)?b=this._reflexive?this._possessive?"your own":"yourself":this._possessive?"your":"you":a&&(null===a.first_name&&(a.first_name=""),null===a.last_name&&(a.last_name=""),this._firstnameonly&&void 0!==a.first_name?b=FB.String.escapeHTML(a.first_name):this._lastnameonly&&void 0!==a.last_name&&(b=FB.String.escapeHTML(a.last_name)),b||(b=FB.String.escapeHTML(a.name)),""!==b&&this._possessive&&(b+="'s")),b||(b=FB.String.escapeHTML(this.getAttribute("if-cant-see","Facebook User"))),b&&(this._getBoolAttribute("capitalize",!1)&&(b=FB.Helper.upperCaseFirstChar(b)),c=a&&this._linked?FB.Helper.getProfileLink(a,b,this.getAttribute("href",null)):b),this.dom.innerHTML=c}}),FB.subclass("XFBML.ProfilePic","XFBML.Element",null,{process:function(){var a=this.getAttribute("size","thumb"),b=FB.XFBML.ProfilePic._sizeToPicFieldMap[a],c=this._getPxAttribute("width"),d=this._getPxAttribute("height"),e=this.dom.style,f=this.getAttribute("uid");this._getBoolAttribute("facebook-logo")&&(b+="_with_logo"),c&&(c+="px",e.width=c),d&&(d+="px",e.height=d);var g=this.bind(function(a){var e=a?a[0]:null,f=e?e[b]:null;f||(f=FB.getDomain("cdn")+FB.XFBML.ProfilePic._defPicMap[b]);var g=(c?"width:"+c+";":"")+(d?"height:"+c+";":""),h=FB.String.format('<img src="{0}" alt="{1}" title="{1}" style="{2}" class="{3}" />',f,e?FB.String.escapeHTML(e.name):"",g,this.dom.className);this._getBoolAttribute("linked",!0)&&(h=FB.Helper.getProfileLink(e,h,this.getAttribute("href",null))),this.dom.innerHTML=h,FB.Dom.addCss(this.dom,"fb_profile_pic_rendered"),this.fire("render")});FB.Event.monitor("auth.statusChange",this.bind(function(){return this.isValid()?("loggedinuser"==this.getAttribute("uid",null)&&(f=FB.Helper.getLoggedInUser()),void(FB._userStatus&&f?FB.Data._selectByIndex(["name",b],FB.Helper.isUser(f)?"user":"profile",FB.Helper.isUser(f)?"uid":"id",f).wait(g):g())):(this.fire("render"),!0)}))}}),FB.provide("XFBML.ProfilePic",{_defPicMap:{pic:"pics/s_silhouette.jpg",pic_big:"pics/d_silhouette.gif",pic_big_with_logo:"pics/d_silhouette_logo.gif",pic_small:"pics/t_silhouette.jpg",pic_small_with_logo:"pics/t_silhouette_logo.gif",pic_square:"pics/q_silhouette.gif",pic_square_with_logo:"pics/q_silhouette_logo.gif",pic_with_logo:"pics/s_silhouette_logo.gif"},_sizeToPicFieldMap:{n:"pic_big",normal:"pic_big",q:"pic_square",s:"pic",small:"pic",square:"pic_square",t:"pic_small",thumb:"pic_small"}}),FB.subclass("XFBML.Question","XFBML.IframeWidget",null,{_visibleAfter:"load",setupAndValidate:function(){return this._attr={channel:this.getChannelUrl(),api_key:FB._apiKey,permalink:this.getAttribute("permalink"),id:this.getAttribute("id"),width:this._getPxAttribute("width",400),height:0,questiontext:this.getAttribute("questiontext"),options:this.getAttribute("options")},this.subscribe("xd.firstVote",FB.bind(this._onInitialVote,this)),this.subscribe("xd.vote",FB.bind(this._onChangedVote,this)),!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"question",params:this._attr}},_onInitialVote:function(a){FB.Event.fire("question.firstVote",this._attr.permalink,a.vote)},_onChangedVote:function(a){FB.Event.fire("question.vote",this._attr.permalink,a.vote)}}),FB.subclass("XFBML.Recommendations","XFBML.IframeWidget",null,{_visibleAfter:"load",_refreshOnAuthChange:!0,setupAndValidate:function(){return this._attr={border_color:this.getAttribute("border-color"),colorscheme:this.getAttribute("color-scheme"),filter:this.getAttribute("filter"),font:this.getAttribute("font"),action:this.getAttribute("action"),linktarget:this.getAttribute("linktarget","_blank"),max_age:this.getAttribute("max_age"),header:this._getBoolAttribute("header"),height:this._getPxAttribute("height",300),site:this.getAttribute("site",location.hostname),width:this._getPxAttribute("width",300)},!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"recommendations",params:this._attr}}}),FB.subclass("XFBML.RecommendationsBar","XFBML.IframeWidget",null,{getUrlBits:function(){return{name:"recommendations_bar",params:this._attr}},setupAndValidate:function(){function a(a,b){function c(){b(),e=null,d=(new Date).getTime()}var d=0,e=null;return function(){if(!e){var b=(new Date).getTime();a>b-d?e=window.setTimeout(c,a-(b-d)):c()}return!0}}function b(a){if(a.match(/^\d+(?:\.\d+)?%$/)){var b=Math.min(Math.max(parseInt(a,10),0),100);a=b/100}else"manual"!=a&&"onvisible"!=a&&(a="onvisible");return a}function c(a){return Math.max(parseInt(a,10)||30,10)}function d(a){return"left"==a||"right"==a?a:FB._localeIsRtl?"left":"right"}this._attr={channel:this.getChannelUrl(),api_key:FB._apiKey,font:this.getAttribute("font"),colorscheme:this.getAttribute("colorscheme"),href:FB.URI.resolve(this.getAttribute("href")),side:d(this.getAttribute("side")),site:this.getAttribute("site"),action:this.getAttribute("action"),ref:this.getAttribute("ref"),max_age:this.getAttribute("max_age"),trigger:b(this.getAttribute("trigger","")),read_time:c(this.getAttribute("read_time")),num_recommendations:parseInt(this.getAttribute("num_recommendations"),10)||2},FB._inPlugin=!0,this._showLoader=!1,this.subscribe("iframe.onload",FB.bind(function(){var a=this.dom.children[0];a.className="fbpluginrecommendationsbar"+this._attr.side},this));var e=FB.bind(function(){return FB.Event.unlisten(window,"scroll",e),FB.Event.unlisten(document.documentElement,"click",e),FB.Event.unlisten(document.documentElement,"mousemove",e),window.setTimeout(FB.bind(this.arbiterInform,this,"platform/plugins/recommendations_bar/action",null,FB.Arbiter.BEHAVIOR_STATE),1e3*this._attr.read_time),!0},this);if(FB.Event.listen(window,"scroll",e),FB.Event.listen(document.documentElement,"click",e),FB.Event.listen(document.documentElement,"mousemove",e),"manual"==this._attr.trigger){var f=FB.bind(function(a){return a==this._attr.href&&(FB.Event.unsubscribe("xfbml.recommendationsbar.read",f),this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,FB.Arbiter.BEHAVIOR_STATE)),!0},this);FB.Event.subscribe("xfbml.recommendationsbar.read",f)}else{var g=a(500,FB.bind(function(){return this.calculateVisibility()&&(FB.Event.unlisten(window,"scroll",g),FB.Event.unlisten(window,"resize",g),this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,FB.Arbiter.BEHAVIOR_STATE)),!0},this));FB.Event.listen(window,"scroll",g),FB.Event.listen(window,"resize",g),g()}this.visible=!1;var h=a(500,FB.bind(function(){return!this.visible&&this.calculateVisibility()?(this.visible=!0,this.arbiterInform("platform/plugins/recommendations_bar/visible")):this.visible&&!this.calculateVisibility()&&(this.visible=!1,this.arbiterInform("platform/plugins/recommendations_bar/invisible")),!0},this));FB.Event.listen(window,"scroll",h),FB.Event.listen(window,"resize",h),h(),this.focused=!0;var i=FB.bind(function(){return this.focused=!this.focused,!0},this);return FB.Event.listen(window,"blur",i),FB.Event.listen(window,"focus",i),this.resize_running=!1,this.animate=!1,this.subscribe("xd.signal_animation",FB.bind(function(){this.animate=!0},this)),!0},getSize:function(){return{height:25,width:"recommend"==this._attr.action?140:96}},calculateVisibility:function(){var a=document.documentElement.clientHeight;if(!this.focused&&window.console&&window.console.firebug)return this.visible;switch(this._attr.trigger){case"manual":return!1;case"onvisible":var b=this.dom.getBoundingClientRect().top;return a>=b;default:var c=window.pageYOffset||document.body.scrollTop,d=document.documentElement.scrollHeight;return(c+a)/d>=this._attr.trigger}},_handleResizeMsg:function(a){this.isValid()&&(a.width&&(this.getIframeNode().style.width=a.width+"px"),a.height&&(this._setNextResize(a.height),this._checkNextResize()),this._makeVisible())},_setNextResize:function(a){this.next_resize=a},_checkNextResize:function(){if(this.next_resize&&!this.resize_running){var a=this.getIframeNode(),b=this.next_resize;this.next_resize=null,this.animate?(this.animate=!1,this.resize_running=!0,FB.Anim.ate(a,{height:b+"px"},330,FB.bind(function(){this.resize_running=!1,this._checkNextResize()},this))):a.style.height=b+"px"}}}),FB.XFBML.RecommendationsBar.markRead=function(a){FB.Event.fire("xfbml.recommendationsbar.read",a||window.location.href)},FB.subclass("XFBML.Registration","XFBML.IframeWidget",null,{_visibleAfter:"immediate",_baseHeight:167,_fieldHeight:28,_skinnyWidth:520,_skinnyBaseHeight:173,_skinnyFieldHeight:52,setupAndValidate:function(){return this._attr={action:this.getAttribute("action"),border_color:this.getAttribute("border-color"),channel_url:this.getChannelUrl(),client_id:FB._apiKey,fb_only:this._getBoolAttribute("fb-only",!1),fb_register:this._getBoolAttribute("fb-register",!1),fields:this.getAttribute("fields"),height:this._getPxAttribute("height"),redirect_uri:this.getAttribute("redirect-uri",window.location.href),no_footer:this._getBoolAttribute("no-footer"),no_header:this._getBoolAttribute("no-header"),onvalidate:this.getAttribute("onvalidate"),width:this._getPxAttribute("width",600),target:this.getAttribute("target")},this._attr.onvalidate&&this.subscribe("xd.validate",this.bind(function(a){var b=FB.JSON.parse(a.value),c=this.bind(function(b){FB.Arbiter.inform("Registration.Validation",{errors:b,id:a.id},'parent.frames["'+this.getIframeNode().name+'"]',"https"==this._attr.channel_url.substring(0,5))}),d=FB.Helper.executeFunctionByName(this._attr.onvalidate,b,c);d&&c(d)})),this.subscribe("xd.authLogin",FB.bind(this._onAuthLogin,this)),this.subscribe("xd.authLogout",FB.bind(this._onAuthLogout,this)),!0},getSize:function(){return{width:this._attr.width,height:this._getHeight()}},_getHeight:function(){if(this._attr.height)return this._attr.height;var a;if(this._attr.fields)try{a=FB.JSON.parse(this._attr.fields)}catch(b){a=this._attr.fields.split(/,/)}else a=["name"];return this._attr.width<this._skinnyWidth?this._skinnyBaseHeight+a.length*this._skinnyFieldHeight:this._baseHeight+a.length*this._fieldHeight},getUrlBits:function(){return{name:"registration",params:this._attr}},getDefaultWebDomain:function(){return"https_www"},_onAuthLogin:function(){FB.getAuthResponse()||FB.getLoginStatus(),FB.Helper.fireEvent("auth.login",this)},_onAuthLogout:function(){FB.getAuthResponse()||FB.getLoginStatus(),FB.Helper.fireEvent("auth.logout",this)}}),FB.subclass("XFBML.ServerFbml","XFBML.IframeWidget",null,{_visibleAfter:"resize",setupAndValidate:function(){if(this._attr={channel_url:this.getChannelUrl(),fbml:this.getAttribute("fbml"),width:this._getPxAttribute("width")},!this._attr.fbml){var a=this.dom.getElementsByTagName("script")[0];a&&"text/fbml"===a.type&&(this._attr.fbml=a.innerHTML)}return this._attr.fbml?!0:(FB.log('<fb:serverfbml> requires the "fbml" attribute.'),!1)},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"serverfbml",params:this._attr}}}),FB.subclass("XFBML.ShareButton","XFBML.Element",null,{process:function(){this._href=this.getAttribute("href",window.location.href),this._type=this.getAttribute("type","icon_link"),FB.Dom.addCss(this.dom,"fb_share_count_hidden"),this._renderButton(!0)},_renderButton:function(a){if(!this.isValid())return void this.fire("render");var b="",c="",d="",e="",f=FB.Intl.tx._("Share"),g="";switch(this._type){case"icon":case"icon_link":e="fb_button_simple",b='<span class="fb_button_text">'+("icon_link"==this._type?f:"&nbsp;")+"</span>",a=!1;break;case"link":b=FB.Intl.tx._("Share on Facebook"),a=!1;break;case"button":b='<span class="fb_button_text">'+f+"</span>",e="fb_button fb_button_small",a=!1;break;case"button_count":b='<span class="fb_button_text">'+f+"</span>",c='<span class="fb_share_count_nub_right">&nbsp;</span><span class="fb_share_count fb_share_count_right">'+this._getCounterMarkup()+"</span>",e="fb_button fb_button_small";break;default:b='<span class="fb_button_text">'+f+"</span>",d='<span class="fb_share_count_nub_top">&nbsp;</span><span class="fb_share_count fb_share_count_top">'+this._getCounterMarkup()+"</span>",e="fb_button fb_button_small",g="fb_share_count_wrapper"}var h=FB.guid();this.dom.innerHTML=FB.String.format('<span class="{0}">{4}<a id="{1}" class="{2}" target="_blank">{3}</a>{5}</span>',g,h,e,b,d,c);var i=document.getElementById(h);i.href=this._href,i.onclick=function(){return FB.ui({method:"stream.share",u:this.href}),!1},a||this.fire("render")},_getCounterMarkup:function(){this._count||(this._count=FB.Data._selectByIndex(["total_count"],"link_stat","url",this._href));var a="0";if(void 0!==this._count.value){if(this._count.value.length>0){var b=this._count.value[0].total_count;b>3&&(FB.Dom.removeCss(this.dom,"fb_share_count_hidden"),a=b>=1e7?Math.round(b/1e6)+"M":b>=1e4?Math.round(b/1e3)+"K":b)}}else this._count.wait(FB.bind(this._renderButton,this,!1));return'<span class="fb_share_count_inner">'+a+"</span>"}}),FB.subclass("XFBML.SocialContext","XFBML.IframeWidget",null,{setupAndValidate:function(){this.getAttribute("size","small");return this._attr={channel:this.getChannelUrl(),width:this._getPxAttribute("width",400),height:this._getPxAttribute("height",100),ref:this.getAttribute("ref"),size:this.getAttribute("size"),keywords:this.getAttribute("keywords"),urls:this.getAttribute("urls")},!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"social_context",params:this._attr}}}),FB.subclass("XFBML.Subscribe","XFBML.EdgeWidget",null,{setupAndValidate:function(){return this._attr={channel:this.getChannelUrl(),api_key:FB._apiKey,font:this.getAttribute("font"),colorscheme:this.getAttribute("colorscheme","light"),href:this.getAttribute("href"),ref:this.getAttribute("ref"),layout:this._getLayout(),show_faces:this._shouldShowFaces(),width:this._getWidgetWidth()},!0},getUrlBits:function(){return{name:"subscribe",params:this._attr}},_getWidgetWidth:function(){var a=this._getLayout(),b={standard:450,box_count:83,button_count:115},c=b[a],d=this._getPxAttribute("width",c),e={standard:{min:225,max:900},box_count:{min:43,max:900},button_count:{min:63,max:900}};return d<e[a].min?d=e[a].min:d>e[a].max&&(d=e[a].max),d}}),window.FB||(window.FB={_apiKey:null,_authResponse:null,_userStatus:"unknown",_logging:!0,_inCanvas:window.name.indexOf("iframe_canvas")>-1||window.name.indexOf("app_runner")>-1,_https:window.name.indexOf("_fb_https")>-1,_domain:{api:"https://api.facebook.com/",api_read:"https://api-read.facebook.com/",cdn:"http://static.ak.fbcdn.net/",https_cdn:"https://s-static.ak.fbcdn.net/",graph:"https://graph.facebook.com/",staticfb:"http://static.ak.facebook.com/",https_staticfb:"https://s-static.ak.facebook.com/",www:"http://www.facebook.com/",https_www:"https://www.facebook.com/",m:"http://m.facebook.com/",https_m:"https://m.facebook.com/"},_locale:null,_localeIsRtl:!1,_nativeInterface:null,getDomain:function(a,b){var c=!b&&("https:"==window.location.protocol||FB._https);switch(a){case"api":return FB._domain.api;case"api_read":return FB._domain.api_read;case"cdn":return c?FB._domain.https_cdn:FB._domain.cdn;case"cdn_foreign":return FB._domain.cdn_foreign;case"https_cdn":return FB._domain.https_cdn;case"graph":return FB._domain.graph;case"staticfb":return c?FB._domain.https_staticfb:FB._domain.staticfb;case"https_staticfb":return FB._domain.https_staticfb;case"www":return c?FB._domain.https_www:FB._domain.www;case"https_www":return FB._domain.https_www;case"m":return c?FB._domain.https_m:FB._domain.m;case"https_m":return FB._domain.https_m}},copy:function(a,b,c,d){for(var e in b)(c||"undefined"==typeof a[e])&&(a[e]=d?d(b[e]):b[e]);return a},create:function(a,b){for(var c=window.FB,d=a?a.split("."):[],e=d.length,f=0;e>f;f++){var g=d[f],h=c[g];h||(h=b&&f+1==e?b:{},c[g]=h),c=h}return c},provide:function(a,b,c){return FB.copy("string"==typeof a?FB.create(a):a,b,c)},guid:function(){return"f"+(Math.random()*(1<<30)).toString(16).replace(".","")},log:function(a){FB._logging&&(window.Debug&&window.Debug.writeln?window.Debug.writeln(a):window.console&&window.console.log(a)),FB.Event&&FB.Event.fire("fb.log",a)},$:function(a){return document.getElementById(a)}}),FB.provide("Array",{indexOf:function(a,b){if(a.indexOf)return a.indexOf(b);var c=a.length;if(c)for(var d=0;c>d;d++)if(a[d]===b)return d;return-1},merge:function(a,b){for(var c=0;c<b.length;c++)FB.Array.indexOf(a,b[c])<0&&a.push(b[c]);return a},filter:function(a,b){for(var c=[],d=0;d<a.length;d++)b(a[d])&&c.push(a[d]);return c},keys:function(a,b){var c=[];for(var d in a)(b||a.hasOwnProperty(d))&&c.push(d);return c},map:function(a,b){for(var c=[],d=0;d<a.length;d++)c.push(b(a[d]));return c},forEach:function(a,b,c){if(a)if("[object Array]"!==Object.prototype.toString.apply(a)&&(a instanceof Function||"number"!=typeof a.length))for(var d in a)(c||a.hasOwnProperty(d))&&b(a[d],d,a);else if(a.forEach)a.forEach(b);else for(var e=0,f=a.length;f>e;e++)b(a[e],e,a)},toArray:function(a){for(var b=0,c=[],d=a.length;d>b;b++)c[b]=a[b];return c}}),FB.provide("QS",{encode:function(a,b,c){b=void 0===b?"&":b,c=c===!1?function(a){return a}:encodeURIComponent;var d=[];return FB.Array.forEach(a,function(a,b){null!==a&&"undefined"!=typeof a&&d.push(c(b)+"="+c(a))}),d.sort(),d.join(b)},decode:function(a){var b,c,d=decodeURIComponent,e={},f=a.split("&");for(b=0;b<f.length;b++)c=f[b].split("=",2),c&&c[0]&&(e[d(c[0])]=d(c[1]||""));return e}}),FB.provide("Content",{_root:null,_hiddenRoot:null,_callbacks:{},append:function(a,b){if(!b)if(FB.Content._root)b=FB.Content._root;else{if(FB.Content._root=b=FB.$("fb-root"),!b)return void FB.log('The "fb-root" div has not been created.');b.className+=" fb_reset"}if("string"==typeof a){var c=document.createElement("div");return b.appendChild(c).innerHTML=a,c}return b.appendChild(a)},appendHidden:function(a){if(!FB.Content._hiddenRoot){var b=document.createElement("div"),c=b.style;c.position="absolute",c.top="-10000px",c.width=c.height=0,FB.Content._hiddenRoot=FB.Content.append(b)}return FB.Content.append(a,FB.Content._hiddenRoot)},insertIframe:function(a){a.id=a.id||FB.guid(),a.name=a.name||FB.guid();var b=FB.guid(),c=!1,d=!1;if(FB.Content._callbacks[b]=function(){c&&!d&&(d=!0,a.onload&&a.onload(a.root.firstChild))},document.attachEvent){var e='<iframe id="'+a.id+'" name="'+a.name+'"'+(a.title?' title="'+a.title+'"':"")+(a.className?' class="'+a.className+'"':"")+' style="border:none;'+(a.width?"width:"+a.width+"px;":"")+(a.height?"height:"+a.height+"px;":"")+'" src="javascript:false;" frameborder="0" scrolling="no" allowtransparency="true" onload="FB.Content._callbacks.'+b+'()"></iframe>';
a.root.innerHTML='<iframe src="javascript:false" frameborder="0" scrolling="no" style="height:1px"></iframe>',c=!0,window.setTimeout(function(){a.root.innerHTML=e,a.root.firstChild.src=a.url,a.onInsert&&a.onInsert(a.root.firstChild)},0)}else{var f=document.createElement("iframe");f.id=a.id,f.name=a.name,f.onload=FB.Content._callbacks[b],f.scrolling="no",f.style.border="none",f.style.overflow="hidden",a.title&&(f.title=a.title),a.className&&(f.className=a.className),a.height&&(f.style.height=a.height+"px"),a.width&&(f.style.width="100%"==a.width?a.width:a.width+"px"),a.root.appendChild(f),c=!0,f.src=a.url,a.onInsert&&a.onInsert(f)}},submitToTarget:function(a,b){var c=document.createElement("form");c.action=a.url,c.target=a.target,c.method=b?"GET":"POST",FB.Content.appendHidden(c),FB.Array.forEach(a.params,function(a,b){if(null!==a&&void 0!==a){var d=document.createElement("input");d.name=b,d.value=a,c.appendChild(d)}}),c.submit(),c.parentNode.removeChild(c)}}),FB.provide("Flash",{_minVersions:[[9,0,159,0],[10,0,22,87]],_swfPath:"swf/XdComm.swf",_callbacks:[],_names:{},_unloadRegistered:!1,init:function(){FB.Flash._init||(FB.Flash._init=!0,window.FB_OnFlashXdCommReady=function(){FB.Flash._ready=!0;for(var a=0,b=FB.Flash._callbacks.length;b>a;a++)FB.Flash._callbacks[a]();FB.Flash._callbacks=[]},FB.Flash.embedSWF("XdComm",FB.getDomain("cdn_foreign")+FB.Flash._swfPath))},embedSWF:function(a,b,c){var d=!!document.attachEvent,e='<object type="application/x-shockwave-flash" id="'+a+'" '+(c?'flashvars="'+c+'" ':"")+(d?'name="'+a+'" ':"")+(d?"":'data="'+b+'" ')+(d?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ':"")+'allowscriptaccess="always"><param name="movie" value="'+b+'"></param><param name="allowscriptaccess" value="always"></param></object>';if(FB.Content.appendHidden(e),FB.UA.ie()>=9){if(!FB.Flash._unloadRegistered){var f=function(){FB.Array.forEach(FB.Flash._names,function(a,b){var c=document.getElementById(b);c&&c.removeNode(!0)})};window.attachEvent("onunload",f),FB.Flash._unloadRegistered=!0}FB.Flash._names[a]=!0}},hasMinVersion:function(){if("undefined"==typeof FB.Flash._hasMinVersion){var a,b,c,d=[];try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(e){if(navigator.mimeTypes.length>0){var f="application/x-shockwave-flash";if(navigator.mimeTypes[f].enabledPlugin){var g="Shockwave Flash";a=(navigator.plugins[g+" 2.0"]||navigator.plugins[g]).description}}}if(a){var h=a.replace(/\D+/g,",").match(/^,?(.+),?$/)[1].split(",");for(b=0,c=h.length;c>b;b++)d.push(parseInt(h[b],10))}FB.Flash._hasMinVersion=!1;a:for(b=0,c=FB.Flash._minVersions.length;c>b;b++){var i=FB.Flash._minVersions[b];if(i[0]==d[0])for(var j=1,k=i.length,l=d.length;k>j&&l>j;j++){if(d[j]<i[j]){FB.Flash._hasMinVersion=!1;continue a}if(FB.Flash._hasMinVersion=!0,d[j]>i[j])break a}}}return FB.Flash._hasMinVersion},onReady:function(a){FB.Flash.init(),FB.Flash._ready?window.setTimeout(a,0):FB.Flash._callbacks.push(a)}}),this.JSON||(this.JSON={}),function(){function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)d=rep[c],"string"==typeof d&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),FB.provide("JSON",{stringify:function(a){return window.Prototype&&Object.toJSON?Object.toJSON(a):JSON.stringify(a)},parse:function(a){return JSON.parse(a)},flatten:function(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];if(null===d||void 0===d)continue;b[c]="string"==typeof d?d:FB.JSON.stringify(d)}return b}}),FB.provide("",{api:function(){"string"==typeof arguments[0]?FB.ApiServer.graph.apply(FB.ApiServer,arguments):FB.ApiServer.rest.apply(FB.ApiServer,arguments)}}),FB.provide("ApiServer",{METHODS:["get","post","delete","put"],_callbacks:{},_readOnlyCalls:{fql_query:!0,fql_multiquery:!0,friends_get:!0,notifications_get:!0,stream_get:!0,users_getinfo:!0},graph:function(){for(var a,b,c,d=Array.prototype.slice.call(arguments),e=d.shift().match(/\/?([^?]*)\??([^#]*)/),f=e[1],g=d.shift();g;){var h=typeof g;if("string"!==h||a)if("function"!==h||c){if("object"!==h||b)return void FB.log("Invalid argument passed to FB.api(): "+g);b=g}else c=g;else a=g.toLowerCase();g=d.shift()}return a=a||"get",b=FB.copy(b||{},FB.QS.decode(e[2])),FB.Array.indexOf(FB.ApiServer.METHODS,a)<0?void FB.log("Invalid method passed to FB.api(): "+a):void FB.ApiServer.oauthRequest("graph",f,a,b,c)},rest:function(a,b){var c=a.method.toLowerCase().replace(".","_");if(FB.Auth&&"auth_revokeauthorization"===c){var d=b;b=function(a){a===!0&&FB.Auth.setAuthResponse(null,"not_authorized"),d&&d(a)}}a.format="json-strings",a.api_key=FB._apiKey;var e=FB.ApiServer._readOnlyCalls[c]?"api_read":"api";FB.ApiServer.oauthRequest(e,"restserver.php","get",a,b)},oauthRequest:function(a,b,c,d,e){!d.access_token&&FB.getAccessToken()&&(d.access_token=FB.getAccessToken()),d.sdk="joey",d.pretty=0;var f=e;e=function(a){FB.Auth&&a&&FB.getAccessToken()==d.access_token&&("190"===a.error_code||a.error&&("invalid_token"===a.error||"OAuthException"===a.error.type))&&FB.getLoginStatus(null,!0),f&&f(a)};try{FB.ApiServer.jsonp(a,b,c,FB.JSON.flatten(d),e)}catch(g){try{if(!FB.initSitevars.corsKillSwitch&&FB.ApiServer.corsPost(a,b,c,FB.JSON.flatten(d),e))return}catch(h){}if(!FB.Flash.hasMinVersion())throw new Error("Your browser does not support long connect requests. You can fix this problem by upgrading your browser or installing the latest version of Flash");FB.ApiServer.flash(a,b,c,FB.JSON.flatten(d),e)}},corsPost:function(a,b,c,d,e){var f=FB.getDomain(a)+b;"graph"==a&&(d.method=c);var g=FB.QS.encode(d),h="application/x-www-form-urlencoded",i=FB.ApiServer._createCORSRequest("POST",f,h);return i?(i.onload=function(){e&&e(FB.JSON.parse(i.responseText))},i.send(g),!0):!1},_createCORSRequest:function(a,b,c){if(!window.XMLHttpRequest)return null;var d=new XMLHttpRequest;return"withCredentials"in d?(d.open(a,b,!0),d.setRequestHeader("Content-type",c)):window.XDomainRequest?(d=new XDomainRequest,d.open(a,b)):d=null,d},jsonp:function(a,b,c,d,e){var f=FB.guid(),g=document.createElement("script");"graph"===a&&"get"!==c&&(d.method=c),d.callback="FB.ApiServer._callbacks."+f;var h=FB.getDomain(a)+b+(b.indexOf("?")>-1?"&":"?")+FB.QS.encode(d);if(h.length>2e3)throw new Error("JSONP only support a maximum of 2000 bytes of input.");FB.ApiServer._callbacks[f]=function(a){e&&e(a),delete FB.ApiServer._callbacks[f],g.parentNode.removeChild(g)},g.src=h,document.getElementsByTagName("head")[0].appendChild(g)},flash:function(a,b,c,d,e){window.FB_OnXdHttpResult||(window.FB_OnXdHttpResult=function(a,b){FB.ApiServer._callbacks[a](decodeURIComponent(b))}),FB.Flash.onReady(function(){"graph"===a&&(d.suppress_http_code=1);var f=FB.getDomain(a)+b,g=FB.QS.encode(d);"get"===c?f.length+g.length>2e3?("graph"===a&&(d.method="get"),c="post",g=FB.QS.encode(d)):(f+=(f.indexOf("?")>-1?"&":"?")+g,g=""):"post"!==c&&("graph"===a&&(d.method=c),c="post",g=FB.QS.encode(d));var h=document.XdComm.sendXdHttpRequest(c.toUpperCase(),f,g,null);FB.ApiServer._callbacks[h]=function(a){e&&e(FB.JSON.parse(a)),delete FB.ApiServer._callbacks[h]}})}}),FB.provide("EventProvider",{subscribers:function(){return this._subscribersMap||(this._subscribersMap={}),this._subscribersMap},subscribe:function(a,b){var c=this.subscribers();c[a]?c[a].push(b):c[a]=[b]},unsubscribe:function(a,b){var c=this.subscribers()[a];FB.Array.forEach(c,function(a,d){a==b&&(c[d]=null)})},monitor:function(a,b){if(!b()){var c=this,d=function(){b.apply(b,arguments)&&c.unsubscribe(a,d)};this.subscribe(a,d)}},clear:function(a){delete this.subscribers()[a]},fire:function(){var a=Array.prototype.slice.call(arguments),b=a.shift();FB.Array.forEach(this.subscribers()[b],function(b){b&&b.apply(this,a)})},listen:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},unlisten:function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)}}),FB.provide("Event",FB.EventProvider),FB.provide("XD",{_origin:null,_transport:null,_callbacks:{},_forever:{},_xdProxyUrl:"connect/xd_proxy.php",_openerTransport:null,_openerOrigin:null,_nonOpenerOrigin:null,init:function(a){if(!FB.XD._origin){var b=window.location.protocol+"//"+window.location.host+"/"+FB.guid();if(window.addEventListener&&!window.attachEvent&&window.postMessage)FB.XD._origin=b,FB.XD.PostMessage.init(),FB.XD._transport="postmessage";else if(!a&&FB.Flash.hasMinVersion())if(document.getElementById("fb-root")){var c=document.domain;"facebook.com"==c&&(c=window.location.host),FB.XD._origin=window.location.protocol+"//"+c+"/"+FB.guid(),FB.XD.Flash.init(),FB.XD._transport="flash"}else FB.log&&FB.log("missing fb-root, defaulting to fragment-based xdcomm"),FB.XD._transport="fragment",FB.XD.Fragment._channelUrl=a||window.location.toString();else FB.XD._transport="fragment",FB.XD.Fragment._channelUrl=a||window.location.toString();var d=!!window.attachEvent;"postmessage"!=FB.XD._transport&&d&&window.postMessage&&(FB.XD._openerTransport=FB.XD._transport,FB.XD._openerOrigin=FB.XD._origin,FB.XD._nonOpenerOrigin=b)}},resolveRelation:function(a){for(var b,c,d=a.split("."),e=window,f=0,g=d.length;g>f;f++)if(b=d[f],"opener"===b||"parent"===b||"top"===b)e=e[b];else{if(!(c=/^frames\[['"]?([a-zA-Z0-9-_]+)['"]?\]$/.exec(b)))throw new SyntaxError("Malformed id to resolve: "+a+", pt: "+b);e=e.frames[c[1]]}return e},handler:function(a,b,c,d,e){if(window.location.toString().indexOf(FB.XD.Fragment._magic)>0)return"javascript:false;//";FB.initSitevars.forceSecureXdProxy&&(e=!0);var f=FB.getDomain((e?"https_":"")+"cdn")+FB.XD._xdProxyUrl+"#";if(d=d||FB.guid(),b=b||"opener",FB.XD._openerTransport&&("opener"==b?(FB.XD._transport=FB.XD._openerTransport,FB.XD._origin=FB.XD._openerOrigin):(FB.XD.PostMessage.init(),FB.XD._transport="postmessage",FB.XD._origin=FB.XD._nonOpenerOrigin)),"fragment"==FB.XD._transport){f=FB.XD.Fragment._channelUrl;var g=f.indexOf("#");g>0&&(f=f.substr(0,g)),f+=(f.indexOf("?")<0?"?":"&")+FB.XD.Fragment._magic+"#?=&"}return c&&(FB.XD._forever[d]=!0),FB.XD._callbacks[d]=a,f+FB.QS.encode({cb:d,origin:FB.XD._origin,relation:b,transport:FB.XD._transport})},recv:function(a){if("string"==typeof a)try{a=FB.JSON.parse(a)}catch(b){a=FB.QS.decode(a)}var c=FB.XD._callbacks[a.cb];FB.XD._forever[a.cb]||delete FB.XD._callbacks[a.cb],c&&c(a)},PostMessage:{_isInitialized:!1,init:function(){if(!FB.XD.PostMessage._isInitialized){var a=FB.XD.PostMessage.onMessage;window.addEventListener?window.addEventListener("message",a,!1):window.attachEvent("onmessage",a),FB.XD.PostMessage._isInitialized=!0}},onMessage:function(a){FB.XD.recv(a.data)}},WebView:{onMessage:function(a,b,c){FB.XD.recv(c)}},Flash:{init:function(){FB.Flash.onReady(function(){document.XdComm.postMessage_init("FB.XD.Flash.onMessage",FB.XD._openerOrigin?FB.XD._openerOrigin:FB.XD._origin)})},onMessage:function(a){FB.XD.recv(decodeURIComponent(a))}},Fragment:{_magic:"fb_xd_fragment",checkAndDispatch:function(){var a=window.location.toString(),b=a.substr(a.indexOf("#")+1),c=a.indexOf(FB.XD.Fragment._magic);c>0&&(FB.init=FB.getLoginStatus=FB.api=function(){},document.documentElement.style.display="none",FB.XD.resolveRelation(FB.QS.decode(b).relation).FB.XD.recv(b))}}}),FB.XD.Fragment.checkAndDispatch(),FB.provide("UA",{ie:function(){return FB.UA._populate()||this._ie},firefox:function(){return FB.UA._populate()||this._firefox},opera:function(){return FB.UA._populate()||this._opera},safari:function(){return FB.UA._populate()||this._safari},chrome:function(){return FB.UA._populate()||this._chrome},windows:function(){return FB.UA._populate()||this._windows},osx:function(){return FB.UA._populate()||this._osx},linux:function(){return FB.UA._populate()||this._linux},ios:function(){return FB.UA._populate(),FB.UA.mobile()&&this._ios},mobile:function(){return FB.UA._populate(),!FB._inCanvas&&this._mobile},nativeApp:function(){return FB.UA.mobile()&&navigator.userAgent.match(/FBAN\/\w+;/i)},android:function(){return FB.UA._populate(),FB.UA.mobile()&&this._android},iPad:function(){return FB.UA._populate(),FB.UA.mobile()&&this._iPad},_populated:!1,_populate:function(){if(!FB.UA._populated){FB.UA._populated=!0;var a=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))/.exec(navigator.userAgent),b=/(Mac OS X)|(Windows)|(Linux)/.exec(navigator.userAgent),c=/\b(iPhone|iP[ao]d)/.exec(navigator.userAgent);FB.UA._iPad=/\b(iPad)/.exec(navigator.userAgent),FB.UA._android=navigator.userAgent.match(/Android/i),FB.UA._mobile=c||FB.UA._android||navigator.userAgent.match(/Mobile/i),a?(FB.UA._ie=a[1]?parseFloat(a[1]):0/0,FB.UA._ie>=8&&!window.HTMLCollection&&(FB.UA._ie=7),FB.UA._firefox=a[2]?parseFloat(a[2]):0/0,FB.UA._opera=a[3]?parseFloat(a[3]):0/0,FB.UA._safari=a[4]?parseFloat(a[4]):0/0,FB.UA._safari?(a=/(?:Chrome\/(\d+\.\d+))/.exec(navigator.userAgent),FB.UA._chrome=a&&a[1]?parseFloat(a[1]):0/0):FB.UA._chrome=0/0):FB.UA._ie=FB.UA._firefox=FB.UA._opera=FB.UA._chrome=FB.UA._safari=0/0,b?(FB.UA._osx=!!b[1],FB.UA._windows=!!b[2],FB.UA._linux=!!b[3]):FB.UA._osx=FB.UA._windows=FB.UA._linux=!1,FB.UA._ios=c}}}),FB.provide("Arbiter",{_canvasProxyUrl:"connect/canvas_proxy.php",BEHAVIOR_EVENT:"e",BEHAVIOR_PERSISTENT:"p",BEHAVIOR_STATE:"s",inform:function(a,b,c,d,e){if(FB.Canvas.isTabIframe()||FB._inPlugin&&window.postMessage||!FB._inCanvas&&FB.UA.mobile()&&window.postMessage){var f=FB.JSON.stringify({method:a,params:b,behavior:e||FB.Arbiter.BEHAVIOR_PERSISTENT});if(window.postMessage)return void FB.XD.resolveRelation(c||"parent").postMessage(f,"*");try{return void window.opener.postMessage(f)}catch(g){}}d|=window!=window.parent&&0===document.referrer.indexOf("https:");var h=FB.getDomain((d?"https_":"")+"staticfb",!0)+FB.Arbiter._canvasProxyUrl+"#"+FB.QS.encode({method:a,params:FB.JSON.stringify(b||{}),behavior:e||FB.Arbiter.BEHAVIOR_PERSISTENT,relation:c}),i=FB.Content.appendHidden("");FB.Content.insertIframe({url:h,root:i,width:1,height:1,onload:function(){setTimeout(function(){i.parentNode.removeChild(i)},10)}})}}),FB.provide("Canvas",{_timer:null,_lastSize:{},_pageInfo:{clientWidth:0,clientHeight:0,scrollLeft:0,scrollTop:0,offsetLeft:0,offsetTop:0},getPageInfo:function(a){var b="top.frames["+window.name+"]",c=FB.XD.handler(function(b){for(var c in FB.Canvas._pageInfo)b[c]&&(FB.Canvas._pageInfo[c]=0|b[c]);a&&a(FB.Canvas._pageInfo)},b,!0),d={channelUrl:c,frame:window.name};FB.Arbiter.inform("getPageInfo",d,"top")},hideFlashElement:function(a){a.style.visibility="hidden"},showFlashElement:function(a){a.style.visibility=""},_flashClassID:"CLSID:D27CDB6E-AE6D-11CF-96B8-444553540000",_hideFlashCallback:function(a){for(var b=window.document.getElementsByTagName("object"),c=0;c<b.length;c++){var d=b[c];if("application/x-shockwave-flash"==d.type.toLowerCase()||d.classid.toUpperCase()==FB.Canvas._flashClassID){for(var e=!1,f=0;f<d.childNodes.length;f++)"param"==d.childNodes[f].nodeName.toLowerCase()&&"wmode"==d.childNodes[f].name.toLowerCase()&&("opaque"==d.childNodes[f].value.toLowerCase()||"transparent"==d.childNodes[f].value.toLowerCase())&&(e=!0);if(!e){var g=Math.random();if(.001>=g&&FB.api(FB._apiKey+"/occludespopups","post",{}),FB.Canvas._devHideFlashCallback){var h=200,i={state:a.state,elem:d},j=FB.bind(function(a){"opened"==a.state?FB.Canvas.hideFlashElement(a.elem):FB.Canvas.showFlashElement(a.elem)},this,i);setTimeout(j,h),FB.Canvas._devHideFlashCallback(i)}else"opened"==a.state?(d._old_visibility=d.style.visibility,d.style.visibility="hidden"):"closed"==a.state&&(d.style.visibility=d._old_visibility,delete d._old_visibility)}}}},_devHideFlashCallback:null,_setHideFlashCallback:function(a){FB.Canvas._devHideFlashCallback=a},init:function(){var a=FB.Dom.getViewportInfo();FB.Canvas._pageInfo.clientWidth=a.width,FB.Canvas._pageInfo.clientHeight=a.height,FB.Canvas.getPageInfo();var b=FB.XD.handler(FB.Canvas._hideFlashCallback,"top.frames["+window.name+"]",!0);FB.Arbiter.inform("iframeSetupFlashHiding",{channelUrl:b})},setSize:function(a){"object"!=typeof a&&(a={});var b=0,c=0;if(a=a||{},(null==a.width||null==a.height)&&(a=FB.copy(a,FB.Canvas._computeContentSize()),b=16,c=4),a=FB.copy(a,{frame:window.name||"iframe_canvas"}),FB.Canvas._lastSize[a.frame]){var d=FB.Canvas._lastSize[a.frame].height,e=a.height-d;if(FB.Canvas._lastSize[a.frame].width==a.width&&c>=e&&e>=-b)return!1}return FB.Canvas._lastSize[a.frame]=a,FB.Arbiter.inform("setSize",a),!0},scrollTo:function(a,b){FB.Arbiter.inform("scrollTo",{frame:window.name||"iframe_canvas",x:a,y:b})},setAutoGrow:function(a,b){void 0===b&&"number"==typeof a&&(b=a,a=!0),void 0===a||a?(null===FB.Canvas._timer&&(FB.Canvas._timer=window.setInterval(FB.Canvas.setSize,b||100)),FB.Canvas.setSize()):null!==FB.Canvas._timer&&(window.clearInterval(FB.Canvas._timer),FB.Canvas._timer=null)},setAutoResize:function(a,b){return FB.Canvas.setAutoGrow(a,b)},isTabIframe:function(){return 0===window.name.indexOf("app_runner_")},setDoneLoading:function(a){FB.Canvas._passAppTtiMessage(a,"RecordIframeAppTti")},stopTimer:function(a){FB.Canvas._passAppTtiMessage(a,"StopIframeAppTtiTimer")},setUrlHandler:function(a){var b=FB.XD.handler(a,"top.frames["+window.name+"]",!0);FB.Arbiter.inform("setUrlHandler",b),FB.Event.listen(window,"load",function(){FB.Arbiter.inform("setUrlHandler",b)})},startTimer:function(){FB.Canvas._passAppTtiMessage(null,"StartIframeAppTtiTimer")},_passAppTtiMessage:function(a,b){var c=null;a&&(c=FB.XD.handler(a,"top.frames["+window.name+"]",!1)),FB.Arbiter.inform(b,{frame:window.name||"iframe_canvas",time:(new Date).getTime(),appId:parseInt(FB._apiKey,10),channelUrl:c})},_computeContentSize:function(){var a=document.body,b=document.documentElement,c=0,d=Math.max(a.offsetTop,0),e=Math.max(b.offsetTop,0),f=a.scrollHeight+d,g=a.offsetHeight+d,h=b.scrollHeight+e,i=b.offsetHeight+e;return bottom=Math.max(f,g,h,i),a.offsetWidth<a.scrollWidth?c=a.scrollWidth+a.offsetLeft:FB.Array.forEach(a.childNodes,function(a){var b=a.offsetWidth+a.offsetLeft;b>c&&(c=b)}),b.clientLeft>0&&(c+=2*b.clientLeft),b.clientTop>0&&(bottom+=2*b.clientTop),{height:bottom,width:c}}}),FB.provide("String",{trim:function(a){return a.replace(/^\s*|\s*$/g,"")},format:function(a){FB.String.format._formatRE||(FB.String.format._formatRE=/(\{[^\}^\{]+\})/g);var b=arguments;return a.replace(FB.String.format._formatRE,function(a,c){var d=parseInt(c.substr(1),10),e=b[d+1];return null===e||void 0===e?"":e.toString()})},escapeHTML:function(a){var b=document.createElement("div");return b.appendChild(document.createTextNode(a)),b.innerHTML.replace(/"/g,"&quot;").replace(/'/g,"&#39;")},quote:function(a){var b=/["\\\x00-\x1f\x7f-\x9f]/g,c={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return b.test(a)?'"'+a.replace(b,function(a){var b=c[a];return b?b:(b=a.charCodeAt(),"\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16))})+'"':'"'+a+'"'}}),FB.provide("Dom",{containsCss:function(a,b){var c=" "+a.className+" ";return c.indexOf(" "+b+" ")>=0},addCss:function(a,b){FB.Dom.containsCss(a,b)||(a.className=a.className+" "+b)},removeCss:function(a,b){FB.Dom.containsCss(a,b)&&(a.className=a.className.replace(b,""),FB.Dom.removeCss(a,b))},getByClass:function(a,b,c){if(b=b||document.body,c=c||"*",b.querySelectorAll)return FB.Array.toArray(b.querySelectorAll(c+"."+a));for(var d=b.getElementsByTagName(c),e=[],f=0,g=d.length;g>f;f++)this.containsCss(d[f],a)&&(e[e.length]=d[f]);return e},getStyle:function(a,b){{var c=!1;a.style}return a.currentStyle?(FB.Array.forEach(b.match(/\-([a-z])/g),function(a){b=b.replace(a,a.substr(1,1).toUpperCase())}),c=a.currentStyle[b]):(FB.Array.forEach(b.match(/[A-Z]/g),function(a){b=b.replace(a,"-"+a.toLowerCase())}),window.getComputedStyle&&(c=document.defaultView.getComputedStyle(a,null).getPropertyValue(b),("background-position-y"==b||"background-position-x"==b)&&("top"==c||"left"==c)&&(c="0px"))),"opacity"==b?a.filters&&a.filters.alpha?c:100*c:c},setStyle:function(a,b,c){var d=a.style;"opacity"==b?(c>=100&&(c=99.999),0>c&&(c=0),d.opacity=c/100,d.MozOpacity=c/100,d.KhtmlOpacity=c/100,a.filters&&(void 0==a.filters.alpha?a.filter="alpha(opacity="+c+")":a.filters.alpha.opacity=c)):d[b]=c},addScript:function(a){var b=document.createElement("script");return b.type="text/javascript",b.src=a,document.getElementsByTagName("head")[0].appendChild(b)},addCssRules:function(a,b){FB.Dom._cssRules||(FB.Dom._cssRules={});var c=!0;if(FB.Array.forEach(b,function(a){a in FB.Dom._cssRules||(c=!1,FB.Dom._cssRules[a]=!0)}),!c)if(FB.UA.ie())try{document.createStyleSheet().cssText=a}catch(d){document.styleSheets[0]&&(document.styleSheets[0].cssText+=a)}else{var e=document.createElement("style");e.type="text/css",e.textContent=a,document.getElementsByTagName("head")[0].appendChild(e)}},getViewportInfo:function(){var a=document.documentElement&&"CSS1Compat"==document.compatMode?document.documentElement:document.body;return{scrollTop:a.scrollTop,scrollLeft:a.scrollLeft,width:self.innerWidth?self.innerWidth:a.clientWidth,height:self.innerHeight?self.innerHeight:a.clientHeight}},ready:function(a){FB.Dom._isReady?a&&a():FB.Event.subscribe("dom.ready",a)},getPosition:function(a){var b=0,c=0;do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent);return{x:b,y:c}}}),function(){function domReady(){FB.Dom._isReady=!0,FB.Event.fire("dom.ready"),FB.Event.clear("dom.ready")}if(FB.Dom._isReady||"complete"==document.readyState)return domReady();document.addEventListener?document.addEventListener("DOMContentLoaded",domReady,!1):document.attachEvent&&document.attachEvent("onreadystatechange",domReady),FB.UA.ie()&&window===top&&!function(){try{document.documentElement.doScroll("left")}catch(a){return void setTimeout(arguments.callee,0)}domReady()}();var oldonload=window.onload;window.onload=function(){domReady(),oldonload&&("string"==typeof oldonload?eval(oldonload):oldonload())}}(),FB.provide("Intl",function(){function a(a){return"string"!=typeof a?!1:a.match(new RegExp(d+"[)\"'»༻༽’”›〉》」』】〕〗〙〛〞〟﴿＇）］s]*$"))}function b(b,c){if(void 0!==c)if("object"!=typeof c)FB.log("The second arg to FB.Intl.tx() must be an Object for FB.Intl.tx("+b+", ...)");else{var e;for(var f in c)c.hasOwnProperty(f)&&(e=a(c[f])?new RegExp("{"+f+"}"+d+"*","g"):new RegExp("{"+f+"}","g"),b=b.replace(e,c[f]))}return b}function c(a,c){return FB.Intl._stringTable?b(FB.Intl._stringTable[a],c):null}var d="[.!?。！？।…ຯ᠁ฯ．]";return c._=b,{tx:c,_tx:b}}()),FB.provide("",{bind:function(){var a=Array.prototype.slice.call(arguments),b=a.shift(),c=a.shift();return function(){return b.apply(c,a.concat(Array.prototype.slice.call(arguments)))}},Class:function(a,b,c){if(FB.CLASSES[a])return FB.CLASSES[a];var d=b||function(){};return d.prototype=c,d.prototype.bind=function(a){return FB.bind(a,this)},d.prototype.constructor=d,FB.create(a,d),FB.CLASSES[a]=d,d},subclass:function(a,b,c,d){if(FB.CLASSES[a])return FB.CLASSES[a];var e=FB.create(b);return FB.copy(d,e.prototype),d._base=e,d._callBase=function(a){var b=Array.prototype.slice.call(arguments,1);return e.prototype[a].apply(this,b)},FB.Class(a,c?c:function(){e.apply&&e.apply(this,arguments)},d)},CLASSES:{}}),FB.provide("Type",{isType:function(a,b){for(;a;){if(a.constructor===b||a===b)return!0;a=a._base}return!1}}),FB.Class("Obj",null,FB.copy({setProperty:function(a,b){FB.JSON.stringify(b)!=FB.JSON.stringify(this[a])&&(this[a]=b,this.fire(a,b))}},FB.EventProvider)),FB.subclass("Dialog","Obj",function(a){this.id=a,FB.Dialog._dialogs||(FB.Dialog._dialogs={},FB.Dialog._addOrientationHandler()),FB.Dialog._dialogs[a]=this},{}),FB.provide("Dialog",{_dialogs:null,_lastYOffset:0,_loaderEl:null,_overlayEl:null,_stack:[],_active:null,_popStateListenerOn:!1,_hideOnPopState:function(){FB.Dialog.hide(FB.Dialog._stack.pop())},get:function(a){return FB.Dialog._dialogs[a]},_findRoot:function(a){for(;a;){if(FB.Dom.containsCss(a,"fb_dialog"))return a;a=a.parentNode}},_createWWWLoader:function(a){return a=parseInt(a,10),a=a?a:460,FB.Dialog.create({content:'<div class="dialog_title">  <a id="fb_dialog_loader_close">    <div class="fb_dialog_close_icon"></div>  </a>  <span>Facebook</span>  <div style="clear:both;"></div></div><div class="dialog_content"></div><div class="dialog_footer"></div>',width:a})},_createMobileLoader:function(){var a=FB.UA.nativeApp()?"":'<table>  <tbody>    <tr>      <td class="header_left">        <label class="touchable_button">          <input type="submit" value="'+FB.Intl.tx._("Cancel")+'"            id="fb_dialog_loader_close"/>        </label>      </td>      <td class="header_center">        <div>'+FB.Intl.tx._("Loading...")+'</div>      </td>      <td class="header_right">      </td>    </tr>  </tbody></table>';return FB.Dialog.create({classes:"loading"+(FB.UA.iPad()?" centered":""),content:'<div class="dialog_header">'+a+"</div>"})},_restoreBodyPosition:function(){if(!FB.UA.iPad()){var a=document.getElementsByTagName("body")[0];FB.Dom.removeCss(a,"fb_hidden")}},_showIPadOverlay:function(){FB.UA.iPad()&&(FB.Dialog._overlayEl||(FB.Dialog._overlayEl=document.createElement("div"),FB.Dialog._overlayEl.setAttribute("id","fb_dialog_ipad_overlay"),FB.Content.append(FB.Dialog._overlayEl,null)),FB.Dialog._overlayEl.className="")},_hideIPadOverlay:function(){FB.UA.iPad()&&(FB.Dialog._overlayEl.className="hidden")},showLoader:function(a,b){FB.Dialog._showIPadOverlay(),FB.Dialog._loaderEl||(FB.Dialog._loaderEl=FB.Dialog._findRoot(FB.UA.mobile()?FB.Dialog._createMobileLoader():FB.Dialog._createWWWLoader(b))),a||(a=function(){});var c=FB.$("fb_dialog_loader_close");FB.Dom.removeCss(c,"fb_hidden"),c.onclick=function(){FB.Dialog._hideLoader(),FB.Dialog._restoreBodyPosition(),FB.Dialog._hideIPadOverlay(),a()};var d=FB.$("fb_dialog_ipad_overlay");d&&(d.ontouchstart=c.onclick),FB.Dialog._makeActive(FB.Dialog._loaderEl)},_hideLoader:function(){FB.Dialog._loaderEl&&FB.Dialog._loaderEl==FB.Dialog._active&&(FB.Dialog._loaderEl.style.top="-10000px")},_makeActive:function(a){FB.Dialog._setDialogSizes(),FB.Dialog._lowerActive(),FB.Dialog._active=a,FB.Canvas&&FB.Canvas.getPageInfo(function(a){FB.Dialog._centerActive(a)}),FB.Dialog._centerActive(FB.Canvas._pageInfo)},_lowerActive:function(){FB.Dialog._active&&(FB.Dialog._active.style.top="-10000px",FB.Dialog._active=null)},_removeStacked:function(a){FB.Dialog._stack=FB.Array.filter(FB.Dialog._stack,function(b){return b!=a})},_centerActive:function(a){var b=FB.Dialog._active;if(b){var c=FB.Dom.getViewportInfo(),d=parseInt(b.offsetWidth,10),e=parseInt(b.offsetHeight,10),f=c.scrollLeft+(c.width-d)/2,g=(c.height-e)/2.5;g>f&&(g=f);var h=c.height-e-g,i=(c.height-e)/2;if(a&&(i=a.scrollTop-a.offsetTop+(a.clientHeight-e)/2),g>i?i=g:i>h&&(i=h),i+=c.scrollTop,FB.UA.mobile()){var j=100;if(FB.UA.iPad())j+=(c.height-e)/2;else{var k=document.getElementsByTagName("body")[0];FB.Dom.addCss(k,"fb_hidden"),f=1e4,i=1e4}var l=FB.Dom.getByClass("fb_dialog_padding",b);l.length&&(l[0].style.height=j+"px")}b.style.left=(f>0?f:0)+"px",b.style.top=(i>0?i:0)+"px"}},_setDialogSizes:function(){if(FB.UA.mobile()&&!FB.UA.iPad())for(var a in FB.Dialog._dialogs)if(document.getElementById(a)){var b=document.getElementById(a);b.style.width=FB.UIServer.getDefaultSize().width+"px",b.style.height=FB.UIServer.getDefaultSize().height+"px"}},_handleOrientationChange:function(){if(FB.UA.android()&&screen.availWidth==FB.Dialog._availScreenWidth)return void window.setTimeout(FB.Dialog._handleOrientationChange,50);if(FB.Dialog._availScreenWidth=screen.availWidth,FB.UA.iPad())FB.Dialog._centerActive();else for(var a in FB.Dialog._dialogs)document.getElementById(a)&&(document.getElementById(a).style.width=FB.UIServer.getDefaultSize().width+"px")},_addOrientationHandler:function(){if(FB.UA.mobile()){var a="onorientationchange"in window?"orientationchange":"resize";FB.Dialog._availScreenWidth=screen.availWidth,FB.Event.listen(window,a,FB.Dialog._handleOrientationChange)}},create:function(a){a=a||{};var b=document.createElement("div"),c=document.createElement("div"),d="fb_dialog";if(a.closeIcon&&a.onClose){var e=document.createElement("a");e.className="fb_dialog_close_icon",e.onclick=a.onClose,b.appendChild(e)}d+=" "+(a.classes||""),FB.UA.ie()?(d+=" fb_dialog_legacy",FB.Array.forEach(["vert_left","vert_right","horiz_top","horiz_bottom","top_left","top_right","bottom_left","bottom_right"],function(a){var c=document.createElement("span");c.className="fb_dialog_"+a,b.appendChild(c)})):d+=FB.UA.mobile()?" fb_dialog_mobile":" fb_dialog_advanced",a.content&&FB.Content.append(a.content,c),b.className=d;var f=parseInt(a.width,10);if(isNaN(f)||(b.style.width=f+"px"),c.className="fb_dialog_content",b.appendChild(c),FB.UA.mobile()){var g=document.createElement("div");g.className="fb_dialog_padding",b.appendChild(g)}return FB.Content.append(b),a.visible&&FB.Dialog.show(b),c},show:function(a){var b=FB.Dialog._findRoot(a);b&&(FB.Dialog._removeStacked(b),FB.Dialog._hideLoader(),FB.Dialog._makeActive(b),FB.Dialog._stack.push(b),"fbCallID"in a&&FB.Dialog.get(a.fbCallID).fire("iframe_show"),FB.Event._popStateListenerOn||(FB.Event.listen(window,"popstate",FB.Dialog._hideOnPopState),FB.Event._popStateListenerOn=!0))},hide:function(a){var b=FB.Dialog._findRoot(a);b==FB.Dialog._active&&(FB.Dialog._lowerActive(),FB.Dialog._restoreBodyPosition(),FB.Dialog._hideIPadOverlay(),"fbCallID"in a&&FB.Dialog.get(a.fbCallID).fire("iframe_hide"),FB.Event._popStateListenerOn&&(FB.Event.unlisten(window,"popstate",FB.Dialog._hideOnPopState),FB.Event._popStateListenerOn=!1))
},remove:function(a){if(a=FB.Dialog._findRoot(a)){var b=FB.Dialog._active==a;FB.Dialog._removeStacked(a),b?(FB.Dialog._hideLoader(),FB.Dialog._stack.length>0?FB.Dialog.show(FB.Dialog._stack.pop()):(FB.Dialog._lowerActive(),FB.Dialog._restoreBodyPosition(),FB.Dialog._hideIPadOverlay())):null===FB.Dialog._active&&FB.Dialog._stack.length>0&&FB.Dialog.show(FB.Dialog._stack.pop()),window.setTimeout(function(){a.parentNode.removeChild(a)},3e3)}},isActive:function(a){var b=FB.Dialog._findRoot(a);return b&&b===FB.Dialog._active}}),FB.provide("",{ui:function(a,b){if(a=FB.copy({},a),!a.method)return FB.log('"method" is a required parameter for FB.ui().'),null;if(!FB._nativeInterface){if(!("permissions.request"!=a.method&&"permissions.oauth"!=a.method||"iframe"!=a.display&&"dialog"!=a.display)){var c,d;c=a.scope,d=c.split(/\s|,/g);for(var e=0;e<d.length;e++){var f=FB.String.trim(d[e]);if(f&&!FB.initSitevars.iframePermissions[f]){a.display="popup";break}}}var g=FB.UIServer.prepareCall(a,b);if(!g)return null;var h=g.params.display;"dialog"===h?h="iframe":"none"===h&&(h="hidden");var i=FB.UIServer[h];return i?(i(g),g.dialog):(FB.log('"display" must be one of "popup", "dialog", "iframe", "touch", "async", "hidden", or "none"'),null)}switch(a.method){case"auth.login":FB._nativeInterface.login(a,b,function(a){alert("Cordova Facebook Connect plugin fail on login!"+a)});break;case"permissions.request":FB._nativeInterface.login(a,b,function(a){alert("Cordova Facebook Connect plugin fail on login!"+a)});break;case"permissions.oauth":FB._nativeInterface.login(a,b,function(a){alert("Cordova Facebook Connect plugin fail on login!"+a)});break;case"auth.logout":FB._nativeInterface.logout(b,function(){alert("Cordova Facebook Connect plugin fail on logout!")});break;case"auth.status":FB._nativeInterface.getLoginStatus(b,function(){alert("Cordova Facebook Connect plugin fail on auth.status!")});break;case"login.status":FB._nativeInterface.getLoginStatus(b,function(){alert("Cordova Facebook Connect plugin fail on auth.status!")});break;case"feed":FB._nativeInterface.dialog(a,b,function(){alert("Cordova Facebook Connect plugin fail on auth.status!")});break;case"apprequests":FB._nativeInterface.dialog(a,b,function(){alert("Cordova Facebook Connect plugin fail on auth.status!")})}}}),FB.provide("UIServer",{Methods:{},_loadedNodes:{},_defaultCb:{},_resultToken:'"xxRESULTTOKENxx"',_forceHTTPS:!1,genericTransform:function(a){return("dialog"==a.params.display||"iframe"==a.params.display)&&(a.params.display="iframe",a.params.channel=FB.UIServer._xdChannelHandler(a.id,"parent.parent")),a},prepareCall:function(a,b){var c=a.method.toLowerCase(),d=FB.copy({},FB.UIServer.Methods[c]),e=FB.guid(),f=d.noHttps!==!0&&(FB._https||"auth.status"!==c&&"login.status"!=c);FB.UIServer._forceHTTPS=f,FB.copy(a,{api_key:FB._apiKey,app_id:FB._apiKey,locale:FB._locale,sdk:"joey",access_token:f&&FB.getAccessToken()||void 0}),a.display=FB.UIServer.getDisplayMode(d,a),d.url||(d.url="dialog/"+c);var g={cb:b,id:e,size:d.size||FB.UIServer.getDefaultSize(),url:FB.getDomain(f?"https_www":"www")+d.url,forceHTTPS:f,params:a,name:c,dialog:new FB.Dialog(e)},h=d.transform?d.transform:FB.UIServer.genericTransform;if(!h||(g=h(g))){var i=d.getXdRelation||FB.UIServer.getXdRelation,j=i(g.params);return g.id in FB.UIServer._defaultCb||"next"in g.params||"redirect_uri"in g.params||(g.params.next=FB.UIServer._xdResult(g.cb,g.id,j,!0)),"parent"===j&&(g.params.channel_url=FB.UIServer._xdChannelHandler(e,"parent.parent")),g=FB.UIServer.prepareParams(g)}},prepareParams:function(a){var b=a.params.method;if(FB.Canvas.isTabIframe()||delete a.params.method,FB.TemplateUI&&FB.TemplateUI.supportsTemplate(b,a))FB.reportTemplates&&console.log("Using template for "+b+"."),FB.TemplateUI.useCachedUI(b,a);else{a.params=FB.JSON.flatten(a.params);var c=FB.QS.encode(a.params);!FB.UA.nativeApp()&&FB.UIServer.urlTooLongForIE(a.url+"?"+c)?a.post=!0:c&&(a.url+="?"+c)}return a},urlTooLongForIE:function(a){return a.length>2e3},getDisplayMode:function(a,b){return"hidden"===b.display||"none"===b.display?b.display:FB.Canvas.isTabIframe()&&"popup"!==b.display?"async":FB.UA.mobile()||"touch"===b.display?"touch":FB.getAccessToken()||"dialog"!=b.display||a.loggedOutIframe?a.connectDisplay&&!FB._inCanvas?a.connectDisplay:b.display||(FB.getAccessToken()?"dialog":"popup"):(FB.log('"dialog" mode can only be used when the user is connected.'),"popup")},getXdRelation:function(a){var b=a.display;return"popup"===b||"touch"===b?"opener":"dialog"===b||"iframe"===b||"hidden"===b||"none"===b?"parent":"async"===b?"parent.frames["+window.name+"]":void 0},popup:function(a){var b="undefined"!=typeof window.screenX?window.screenX:window.screenLeft,c="undefined"!=typeof window.screenY?window.screenY:window.screenTop,d="undefined"!=typeof window.outerWidth?window.outerWidth:document.documentElement.clientWidth,e="undefined"!=typeof window.outerHeight?window.outerHeight:document.documentElement.clientHeight-22,f=FB.UA.mobile()?null:a.size.width,g=FB.UA.mobile()?null:a.size.height,h=0>b?window.screen.width+b:b,i=parseInt(h+(d-f)/2,10),j=parseInt(c+(e-g)/2.5,10),k=[];null!==f&&k.push("width="+f),null!==g&&k.push("height="+g),k.push("left="+i),k.push("top="+j),k.push("scrollbars=1"),("permissions.request"==a.name||"permissions.oauth"==a.name)&&k.push("location=1,toolbar=0"),k=k.join(","),a.post?(FB.UIServer.setLoadedNode(a,window.open("about:blank",a.id,k),"popup"),FB.Content.submitToTarget({url:a.url,target:a.id,params:a.params})):FB.UIServer.setLoadedNode(a,window.open(a.url,a.id,k),"popup"),a.id in FB.UIServer._defaultCb&&FB.UIServer._popupMonitor()},setLoadedNode:function(a,b,c){a.params&&"popup"!=a.params.display&&(b.fbCallID=a.id),b={node:b,type:c,fbCallID:a.id},FB.UIServer._loadedNodes[a.id]=b},getLoadedNode:function(a){var b="object"==typeof a?a.id:a,c=FB.UIServer._loadedNodes[b];return c?c.node:null},hidden:function(a){a.className="FB_UI_Hidden",a.root=FB.Content.appendHidden(""),FB.UIServer._insertIframe(a)},iframe:function(a){a.className="FB_UI_Dialog";var b=function(){FB.UIServer._triggerDefault(a.id)};a.root=FB.Dialog.create({onClose:b,closeIcon:!0,classes:FB.UA.iPad()?"centered":""}),a.hideLoader||FB.Dialog.showLoader(b,a.size.width),FB.Dom.addCss(a.root,"fb_dialog_iframe"),FB.UIServer._insertIframe(a)},touch:function(a){a.params&&a.params.in_iframe?a.ui_created?FB.Dialog.showLoader(function(){FB.UIServer._triggerDefault(a.id)},0):FB.UIServer.iframe(a):FB.UA.nativeApp()&&!a.ui_created?(a.frame=a.id,FB.Native.onready(function(){FB.UIServer.setLoadedNode(a,FB.Native.open(a.url+"#cb="+a.frameName))}),FB.UIServer._popupMonitor()):a.ui_created||FB.UIServer.popup(a)},async:function(a){a.frame=window.name,delete a.url,delete a.size,FB.Arbiter.inform("showDialog",a)},getDefaultSize:function(){if(FB.UA.mobile()){if(FB.UA.iPad())return{width:500,height:590};if(FB.UA.android())return{width:screen.availWidth,height:screen.availHeight};var a=window.innerWidth,b=window.innerHeight,c=a/b>1.2;return{width:a,height:Math.max(b,c?screen.width:screen.height)}}return{width:575,height:240}},_insertIframe:function(a){FB.UIServer._loadedNodes[a.id]=!1;var b=function(b){a.id in FB.UIServer._loadedNodes&&FB.UIServer.setLoadedNode(a,b,"iframe")};FB.Content.insertIframe(a.post?{url:"about:blank",root:a.root,className:a.className,width:a.size.width,height:a.size.height,id:a.id,onInsert:b,onload:function(b){FB.Content.submitToTarget({url:a.url,target:b.name,params:a.params})}}:{url:a.url,root:a.root,className:a.className,width:a.size.width,height:a.size.height,id:a.id,name:a.frameName,onInsert:b})},_handleResizeMessage:function(a,b){var c=FB.UIServer.getLoadedNode(a);c&&(b.height&&(c.style.height=b.height+"px"),b.width&&(c.style.width=b.width+"px"),FB.Arbiter.inform("resize.ack",b||{},"parent.frames["+c.name+"]",!0),FB.Dialog.isActive(c)||FB.Dialog.show(c))},_triggerDefault:function(a){FB.UIServer._xdRecv({frame:a},FB.UIServer._defaultCb[a]||function(){})},_popupMonitor:function(){var a;for(var b in FB.UIServer._loadedNodes)if(FB.UIServer._loadedNodes.hasOwnProperty(b)&&b in FB.UIServer._defaultCb){var c=FB.UIServer._loadedNodes[b];if("popup"!=c.type)continue;win=c.node;try{win.closed?FB.UIServer._triggerDefault(b):a=!0}catch(d){}}a&&!FB.UIServer._popupInterval?FB.UIServer._popupInterval=window.setInterval(FB.UIServer._popupMonitor,100):!a&&FB.UIServer._popupInterval&&(window.clearInterval(FB.UIServer._popupInterval),FB.UIServer._popupInterval=null)},_xdChannelHandler:function(a,b){var c=FB.UIServer._forceHTTPS&&7!==FB.UA.ie();return FB.XD.handler(function(b){var c=FB.UIServer.getLoadedNode(a);if(c)if("resize"==b.type)FB.UIServer._handleResizeMessage(a,b);else if("hide"==b.type)FB.Dialog.hide(c);else if("rendered"==b.type){var d=FB.Dialog._findRoot(c);FB.Dialog.show(d)}else"fireevent"==b.type&&FB.Event.fire(b.event)},b,!0,null,c)},_xdNextHandler:function(a,b,c,d){return d&&(FB.UIServer._defaultCb[b]=a),FB.XD.handler(function(b){FB.UIServer._xdRecv(b,a)},c)+"&frame="+b},_xdRecv:function(a,b){var c=FB.UIServer.getLoadedNode(a.frame);if(c){try{FB.Dom.containsCss(c,"FB_UI_Hidden")?window.setTimeout(function(){c.parentNode.parentNode.removeChild(c.parentNode)},3e3):FB.Dom.containsCss(c,"FB_UI_Dialog")&&(FB.Dialog.remove(c),FB.TemplateUI&&FB.UA.mobile()&&FB.TemplateUI.populateCache())}catch(d){}try{c.close&&(c.close(),FB.UIServer._popupCount--)}catch(e){}}delete FB.UIServer._loadedNodes[a.frame],delete FB.UIServer._defaultCb[a.frame],b(a)},_xdResult:function(a,b,c,d){return FB.UIServer._xdNextHandler(function(b){a&&a(b.result&&b.result!=FB.UIServer._resultToken&&FB.JSON.parse(b.result))},b,c,d)+"&result="+encodeURIComponent(FB.UIServer._resultToken)}}),FB.provide("",{getLoginStatus:function(a,b){if(!FB._apiKey)return void FB.log("FB.getLoginStatus() called before calling FB.init().");if(a){if(!b&&"loaded"==FB.Auth._loadState)return void a({status:FB._userStatus,authResponse:FB._authResponse});FB.Event.subscribe("FB.loginStatus",a)}if(b||"loading"!=FB.Auth._loadState){FB.Auth._loadState="loading";var c=function(a){FB.Auth._loadState="loaded",FB.Event.fire("FB.loginStatus",a),FB.Event.clear("FB.loginStatus")};FB.Auth.fetchLoginStatus(c)}},getAuthResponse:function(){return FB._authResponse},getAccessToken:function(){return FB._authResponse&&FB._authResponse.accessToken||null},getUserID:function(){return FB._userID},login:function(a,b){b&&b.perms&&!b.scope&&(b.scope=b.perms,delete b.perms,FB.log("OAuth2 specification states that 'perms' should now be called 'scope'.  Please update.")),FB.ui(FB.copy({method:"permissions.oauth",display:"popup",domain:location.hostname},b||{}),a)},logout:function(a){FB.ui({method:"auth.logout",display:"hidden"},a)}}),FB.provide("Auth",{_callbacks:[],_xdStorePath:"xd_localstorage/",fetchLoginStatus:function(a){FB.UA.mobile()&&window.postMessage&&window.localStorage&&!FB._nativeInterface?FB.Auth.staticAuthCheck(a):FB.ui({method:"login.status",display:"none",domain:location.hostname},a)},staticAuthCheck:function(a){var b=FB.getDomain("https_staticfb");FB.Content.insertIframe({root:FB.Content.appendHidden(""),className:"FB_UI_Hidden",url:b+FB.Auth._xdStorePath,onload:function(c){var d=frames[c.name],e=FB.guid(),f=!1,g=function(b){f||(f=!0,FB.Auth._staticAuthHandler(a,b))};FB.XD.handler(g,"parent",!0,e),setTimeout(g,500),d.postMessage(FB.JSON.stringify({method:"getItem",params:["LoginInfo_"+FB._apiKey,!0],returnCb:e}),b)}})},_staticAuthHandler:function(a,b){if(b&&b.data&&b.data.status&&"connected"==b.data.status){var c,d=b.data.status;1==b.data.https&&(FB._https=!0);var e=b.data.authResponse||null;c=FB.Auth.setAuthResponse(e,d),a&&a(c)}else FB.ui({method:"login.status",display:"none"},a)},setAuthResponse:function(a,b){var c=0;if(a)if(a.userID)c=a.userID;else if(a.signedRequest){var d=FB.Auth.parseSignedRequest(a.signedRequest);d&&d.user_id&&(c=d.user_id)}var e=!FB._userID&&a,f=FB._userID&&!a,g=a&&FB._userID!=c,h=e||f||g,i=b!=FB._userStatus,j={authResponse:a,status:b};return FB._authResponse=a,FB._userID=c,FB._userStatus=b,(f||g)&&FB.Event.fire("auth.logout",j),(e||g)&&FB.Event.fire("auth.login",j),h&&FB.Event.fire("auth.authResponseChange",j),i&&FB.Event.fire("auth.statusChange",j),FB.Auth._refreshTimer&&(window.clearTimeout(FB.Auth._refreshTimer),delete FB.Auth._refreshTimer),FB.Auth._loadState&&a&&(FB.Auth._refreshTimer=window.setTimeout(function(){FB.getLoginStatus(null,!0)},12e5)),j},_getContextType:function(){return FB.UA.nativeApp()?3:FB.UA.mobile()?2:FB._inCanvas?5:1},xdHandler:function(a,b,c,d,e){return FB.UIServer._xdNextHandler(FB.Auth.xdResponseWrapper(a,d,e),b,c,!0)},xdResponseWrapper:function(a,b,c){return function(d){if(d.access_token){var e=FB.Auth.parseSignedRequest(d.signed_request);if(b={accessToken:d.access_token,userID:e.user_id,expiresIn:parseInt(d.expires_in,10),signedRequest:d.signed_request},FB.Cookie.getEnabled()){var f=0===b.expiresIn?0:(new Date).getTime()+1e3*b.expiresIn,g=FB.Cookie._domain;!g&&d.base_domain&&(g="."+d.base_domain),FB.Cookie.setSignedRequestCookie(d.signed_request,f,g)}FB.Auth.setAuthResponse(b,"connected")}else if(!FB._authResponse&&b)FB.Auth.setAuthResponse(b,"connected");else if(!b||"permissions.oauth"!=c){var h;h=d.error&&"not_authorized"===d.error?"not_authorized":"unknown",FB.Auth.setAuthResponse(null,h),FB.Cookie.getEnabled()&&FB.Cookie.clearSignedRequestCookie()}d&&1==d.https&&!FB._https&&(FB._https=!0),response={authResponse:FB._authResponse,status:FB._userStatus},a&&a(response)}},parseSignedRequest:function(a){if(!a)return null;var b=a.split(".",2),c=b[1],d=FB.Auth.base64URLDecode(c);return FB.JSON.parse(d)},base64URLDecode:function(a){if(a=a.replace(/\-/g,"+").replace(/\_/g,"/"),a.length%4!==0)for(var b=4-a.length%4,c=0;b>c;c++)a+="=";for(var d,e,f,g,h,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",j="",k="",l="",m=0;m<a.length;m+=4)f=i.indexOf(a.charAt(m)),g=i.indexOf(a.charAt(m+1)),h=i.indexOf(a.charAt(m+2)),l=i.indexOf(a.charAt(m+3)),d=f<<2|g>>4,e=(15&g)<<4|h>>2,k=(3&h)<<6|l,j+=String.fromCharCode(d),64!=h&&(j+=String.fromCharCode(e)),64!=l&&(j+=String.fromCharCode(k)),d=e=k="",f=g=h=l="";return unescape(j)}}),FB.provide("UIServer.Methods",{"permissions.oauth":{url:"dialog/oauth",size:{width:FB.UA.mobile()?null:627,height:FB.UA.mobile()?null:326},transform:function(a){if(!FB._apiKey)return void FB.log("FB.login() called before FB.init().");if(FB._authResponse&&!a.params.scope)return FB.log("FB.login() called when user is already connected."),void(a.cb&&a.cb({status:FB._userStatus,authResponse:FB._authResponse}));var b=a.cb,c=a.id;return delete a.cb,FB.copy(a.params,{client_id:FB._apiKey,redirect_uri:FB.URI.resolve(FB.Auth.xdHandler(b,c,"opener",FB._authResponse,"permissions.oauth")),origin:FB.Auth._getContextType(),response_type:"token,signed_request",domain:location.hostname}),a}},"auth.logout":{url:"logout.php",transform:function(a){if(FB._apiKey){if(FB._authResponse)return a.params.next=FB.Auth.xdHandler(a.cb,a.id,"parent",FB._authResponse),a;FB.log("FB.logout() called without an access token.")}else FB.log("FB.logout() called before calling FB.init().")}},"login.status":{url:"dialog/oauth",transform:function(a){var b=a.cb,c=a.id;return delete a.cb,FB.copy(a.params,{client_id:FB._apiKey,redirect_uri:FB.Auth.xdHandler(b,c,"parent",FB._authResponse),origin:FB.Auth._getContextType(),response_type:"token,signed_request,code",domain:location.hostname}),a}}}),FB.provide("CanvasInsights",{setDoneLoading:function(a){FB.Canvas.setDoneLoading(a)}}),FB.provide("Cookie",{_domain:null,_enabled:!1,setEnabled:function(a){FB.Cookie._enabled=!!a,"string"==typeof a&&(FB.Cookie._domain=a)},getEnabled:function(){return FB.Cookie._enabled},loadMeta:function(){var a,b=document.cookie.match("\\bfbm_"+FB._apiKey+"=([^;]*)\\b");return b&&(a=FB.QS.decode(b[1]),FB.Cookie._domain||(FB.Cookie._domain=a.base_domain)),a},loadSignedRequest:function(){var a=document.cookie.match("\\bfbsr_"+FB._apiKey+"=([^;]*)\\b");return a?a[1]:null},setSignedRequestCookie:function(a,b,c){if(!a)throw new Error("Value passed to FB.Cookie.setSignedRequestCookie was empty.");if(FB.Cookie.getEnabled()){if(c){var d=FB.QS.encode({base_domain:c});FB.Cookie.setRaw("fbm_",d,b,c)}FB.Cookie._domain=c,FB.Cookie.setRaw("fbsr_",a,b,c)}},clearSignedRequestCookie:function(){FB.Cookie.getEnabled()&&FB.Cookie.setRaw("fbsr_","",0,FB.Cookie._domain)},setRaw:function(a,b,c,d){d&&(document.cookie=a+FB._apiKey+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;",document.cookie=a+FB._apiKey+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;domain="+location.hostname+";");var e=new Date(c).toGMTString();document.cookie=a+FB._apiKey+"="+b+(b&&0===c?"":"; expires="+e)+"; path=/"+(d?"; domain="+d:"")}}),FB.provide("Frictionless",{_allowedRecipients:{},_useFrictionless:!1,_updateRecipients:function(){FB.Frictionless._allowedRecipients={},FB.api("/me/apprequestformerrecipients",function(a){a&&!a.error&&FB.Array.forEach(a.data,function(a){FB.Frictionless._allowedRecipients[a.recipient_id]=!0},!1)})},init:function(){FB.Frictionless._useFrictionless=!0,FB.getLoginStatus(function(a){"connected"==a.status&&FB.Frictionless._updateRecipients()}),FB.Event.subscribe("auth.login",function(a){a.authResponse&&FB.Frictionless._updateRecipients()})},_processRequestResponse:function(a,b){return function(c){var d=c&&c.updated_frictionless;FB.Frictionless._useFrictionless&&d&&FB.Frictionless._updateRecipients(),c&&(!b&&c.frictionless&&(FB.Dialog._hideLoader(),FB.Dialog._restoreBodyPosition(),FB.Dialog._hideIPadOverlay()),delete c.frictionless,delete c.updated_frictionless),a&&a(c)}},isAllowed:function(a){if(!a)return!1;if("number"==typeof a)return FB.Frictionless._allowedRecipients[a];"string"==typeof a&&(a=a.split(",")),a=FB.Array.map(a,FB.String.trim);var b=!0,c=!1;return FB.Array.forEach(a,function(a){b=b&&FB.Frictionless._allowedRecipients[a],c=!0},!1),b&&c}}),FB.provide("Canvas.Prefetcher",{_sampleRate:0,_appIdsBlacklist:[],_links:[],COLLECT_AUTOMATIC:0,COLLECT_MANUAL:1,_collectionMode:0,addStaticResource:function(a){FB._inCanvas&&FB._apiKey&&FB.Canvas.Prefetcher._links.push(a)},setCollectionMode:function(a){return FB._inCanvas&&FB._apiKey?a!=FB.Canvas.Prefetcher.COLLECT_AUTOMATIC&&a!=FB.Canvas.Prefetcher.COLLECT_MANUAL?!1:void(FB.Canvas.Prefetcher._collectionMode=a):!1},_maybeSample:function(){if(FB._inCanvas&&FB._apiKey&&FB.Canvas.Prefetcher._sampleRate){var a=Math.random();a>1/FB.Canvas.Prefetcher._sampleRate||"*"!=FB.Canvas.Prefetcher._appIdsBlacklist&&-1==FB.Array.indexOf(FB.Canvas.Prefetcher._appIdsBlacklist,parseInt(FB._apiKey,10))&&window.setTimeout(FB.Canvas.Prefetcher._sample,3e4)}},_sample:function(){var a={object:"data",link:"href",script:"src"};FB.Canvas.Prefetcher._collectionMode==FB.Canvas.Prefetcher.COLLECT_AUTOMATIC&&FB.Array.forEach(a,function(a,b){FB.Array.forEach(window.document.getElementsByTagName(b),function(b){b[a]&&FB.Canvas.Prefetcher._links.push(b[a])})});var b=FB.JSON.stringify(FB.Canvas.Prefetcher._links);FB.api(FB._apiKey+"/staticresources","post",{urls:b,is_https:FB._https}),FB.Canvas.Prefetcher._links=[]}}),FB.provide("Canvas.EarlyFlush",{addResource:function(a){return FB.Canvas.Prefetcher.addStaticResource(a)},setCollectionMode:function(a){return FB.Canvas.Prefetcher.setCollectionMode(a)}}),FB.provide("",{initSitevars:{},init:function(a){if(a=FB.copy(a||{},{logging:!0,status:!0}),FB._userID=0,FB._apiKey=a.appId||a.apiKey,FB._nativeInterface=a.nativeInterface,FB._nativeInterface&&FB._nativeInterface.init(FB._apiKey,function(){alert("Cordova Facebook Connect plugin fail on init!")}),!a.logging&&window.location.toString().indexOf("fb_debug=1")<0&&(FB._logging=!1),FB.XD.init(a.channelUrl),FB.UA.mobile()&&FB.TemplateUI&&FB.TemplateData&&FB.TemplateData._enabled&&a.useCachedDialogs!==!1&&(FB.TemplateUI.init(),FB.Event.subscribe("auth.statusChange",FB.TemplateData.update)),a.reportTemplates&&(FB.reportTemplates=!0),a.frictionlessRequests&&FB.Frictionless.init(),FB._apiKey){if(FB.Cookie.setEnabled(a.cookie),a.authResponse)FB.Auth.setAuthResponse(a.authResponse,"connected");else{var b=FB.Cookie.loadSignedRequest(),c=FB.Auth.parseSignedRequest(b);FB._userID=c&&c.user_id||0,FB.Cookie.loadMeta()}a.status&&FB.getLoginStatus()}FB._inCanvas&&(FB.Canvas._setHideFlashCallback(a.hideFlashCallback),FB.Canvas.init()),FB.Event.subscribe("xfbml.parse",function(){FB.XFBML.IframeWidget.batchWidgetPipeRequests()}),a.xfbml&&window.setTimeout(function(){if(FB.XFBML)if(FB.initSitevars.parseXFBMLBeforeDomReady){FB.XFBML.parse();var a=window.setInterval(function(){FB.XFBML.parse()},100);FB.Dom.ready(function(){window.clearInterval(a),FB.XFBML.parse()})}else FB.Dom.ready(FB.XFBML.parse)},0),FB.Canvas&&FB.Canvas.Prefetcher&&FB.Canvas.Prefetcher._maybeSample()}}),FB.provide("UIServer.MobileIframableMethod",{transform:function(a){return"touch"===a.params.display&&a.params.access_token&&window.postMessage?(a.params.channel=FB.UIServer._xdChannelHandler(a.id,"parent"),FB.UA.nativeApp()||(a.params.in_iframe=1),a):FB.UIServer.genericTransform(a)},getXdRelation:function(a){var b=a.display;return"touch"===b&&window.postMessage&&a.in_iframe?"parent":FB.UIServer.getXdRelation(a)}}),FB.provide("UIServer.Methods",{"stream.share":{size:{width:650,height:340},url:"sharer.php",transform:function(a){return a.params.u||(a.params.u=window.location.toString()),a}},"fbml.dialog":{size:{width:575,height:300},url:"render_fbml.php",loggedOutIframe:!0,transform:function(a){return a}},"auth.logintofacebook":{size:{width:530,height:287},url:"login.php",transform:function(a){a.params.skip_api_login=1;var b=FB.UIServer.getXdRelation(a.params),c=FB.UIServer._xdResult(a.cb,a.id,b,!0);return a.params.next=FB.getDomain(FB._https?"https_www":"www")+"login.php?"+FB.QS.encode({api_key:FB._apiKey,next:c,skip_api_login:1}),a}},apprequests:{transform:function(a){return a=FB.UIServer.MobileIframableMethod.transform(a),a.params.frictionless=FB.Frictionless&&FB.Frictionless._useFrictionless,a.params.frictionless&&(FB.Frictionless.isAllowed(a.params.to)&&(a.params.in_iframe=!0,a.hideLoader=!0),a.cb=FB.Frictionless._processRequestResponse(a.cb,a.hideLoader)),a},getXdRelation:function(a){return FB.UIServer.MobileIframableMethod.getXdRelation(a)}},feed:FB.UIServer.MobileIframableMethod}),FB.provide("",{share:function(a){FB.log("FB.share() has been deprecated. Please use FB.ui() instead."),FB.ui({display:"popup",method:"stream.share",u:a})},publish:function(a,b){FB.log("FB.publish() has been deprecated. Please use FB.ui() instead."),a=a||{},FB.ui(FB.copy({display:"popup",method:"stream.publish",preview:1},a||{}),b)},addFriend:function(a,b){FB.log("FB.addFriend() has been deprecated. Please use FB.ui() instead."),FB.ui({display:"popup",id:a,method:"friend.add"},b)}}),FB.UIServer.Methods["auth.login"]=FB.UIServer.Methods["permissions.request"],FB.provide("XFBML",{_renderTimeout:3e4,getElements:function(a,b,c){var d=FB.Array,e=FB.XFBML._getDomElements(a,b,c),f=FB.Dom.getByClass(b+"-"+c,a,"div");return e=d.toArray(e),f=d.toArray(f),f=d.filter(f,function(a){return!a.hasChildNodes()||1===a.childNodes.length&&3===a.childNodes[0].nodeType}),d.merge(e,f)},parse:function(a,b){a=a||document.body;var c=1,d=function(){c--,0===c&&(b&&b(),FB.Event.fire("xfbml.render"))},e={};FB.XFBML._widgetPipeIsEnabled()&&FB.Array.forEach(FB.XFBML._tagInfos,function(b){if(b.supportsWidgetPipe){var c=b.xmlns?b.xmlns:"fb",d=FB.XFBML.getElements(a,c,b.localName);e[b.localName]=d,FB.XFBML._widgetPipeEnabledTagCount+=d.length}}),FB.Array.forEach(FB.XFBML._tagInfos,function(b){b.xmlns||(b.xmlns="fb");var f;f=void 0!==e[b.localName]?e[b.localName]:FB.XFBML.getElements(a,b.xmlns,b.localName);for(var g=0;g<f.length;g++)c++,FB.XFBML._processElement(f[g],b,d)}),FB.Event.fire("xfbml.parse"),window.setTimeout(function(){c>0&&FB.log(c+" XFBML tags failed to render in "+FB.XFBML._renderTimeout+"ms.")},FB.XFBML._renderTimeout),d()},registerTag:function(a){FB.XFBML._tagInfos.push(a)},shouldUseWidgetPipe:function(){if(!FB.XFBML._widgetPipeIsEnabled())return!1;var a=FB.XFBML._widgetPipeEnabledTagCount>1;return a},getBoolAttr:function(a,b){return b=FB.XFBML.getAttr(a,b),b&&FB.Array.indexOf(["true","1","yes","on"],b.toLowerCase())>-1},getAttr:function(a,b){return a.getAttribute(b)||a.getAttribute(b.replace(/_/g,"-"))||a.getAttribute(b.replace(/-/g,"_"))||a.getAttribute(b.replace(/-/g,""))||a.getAttribute(b.replace(/_/g,""))||a.getAttribute("data-"+b)||a.getAttribute("data-"+b.replace(/_/g,"-"))||a.getAttribute("data-"+b.replace(/-/g,"_"))||a.getAttribute("data-"+b.replace(/-/g,""))||a.getAttribute("data-"+b.replace(/_/g,""))||null},_processElement:function(dom,tagInfo,cb){var element=dom._element;if(element)element.subscribe("render",cb),element.process();else{var processor=function(){var fn=eval(tagInfo.className),isLogin=!1,showFaces=!0,showLoginFace=!1,renderInIframe=!1,addToTimeline="FB.XFBML.AddToTimeline"===tagInfo.className;if(("FB.XFBML.LoginButton"===tagInfo.className||addToTimeline)&&(renderInIframe=FB.XFBML.getBoolAttr(dom,"render-in-iframe"),mode=FB.XFBML.getAttr(dom,"mode"),showFaces=addToTimeline&&"button"!=mode||FB.XFBML.getBoolAttr(dom,"show-faces"),showLoginFace=FB.XFBML.getBoolAttr(dom,"show-login-face"),isLogin=addToTimeline||renderInIframe||showFaces||showLoginFace||FB.XFBML.getBoolAttr(dom,"oneclick"),isLogin&&!addToTimeline&&(fn=FB.XFBML.Login)),element=dom._element=new fn(dom),isLogin){showFaces=!!showFaces,showLoginFace=!!showLoginFace;var extraParams={show_faces:showFaces,show_login_face:showLoginFace,add_to_profile:addToTimeline,mode:mode},scope=FB.XFBML.getAttr(dom,"scope")||FB.XFBML.getAttr(dom,"perms");scope&&(extraParams.scope=scope),element.setExtraParams(extraParams)}element.subscribe("render",cb),element.process()};FB.CLASSES[tagInfo.className.substr(3)]?processor():FB.log("Tag "+tagInfo.className+" was not found.")}},_getDomElements:function(a,b,c){var d=b+":"+c;if(FB.UA.firefox())return a.getElementsByTagNameNS(document.body.namespaceURI,d);if(FB.UA.ie()<9){try{var e=document.namespaces;if(e&&e[b]){var f=a.getElementsByTagName(c);if(!document.addEventListener||f.length>0)return f}}catch(g){}return a.getElementsByTagName(d)}return a.getElementsByTagName(d)},_tagInfos:[{localName:"activity",className:"FB.XFBML.Activity"},{localName:"add-profile-tab",className:"FB.XFBML.AddProfileTab"},{localName:"add-to-timeline",className:"FB.XFBML.AddToTimeline"},{localName:"bookmark",className:"FB.XFBML.Bookmark"},{localName:"comments",className:"FB.XFBML.Comments"},{localName:"comments-count",className:"FB.XFBML.CommentsCount"},{localName:"connect-bar",className:"FB.XFBML.ConnectBar"},{localName:"fan",className:"FB.XFBML.Fan"},{localName:"like",className:"FB.XFBML.Like",supportsWidgetPipe:!0},{localName:"like-box",className:"FB.XFBML.LikeBox"},{localName:"live-stream",className:"FB.XFBML.LiveStream"},{localName:"login",className:"FB.XFBML.Login"},{localName:"login-button",className:"FB.XFBML.LoginButton"},{localName:"facepile",className:"FB.XFBML.Facepile"},{localName:"friendpile",className:"FB.XFBML.Friendpile"},{localName:"name",className:"FB.XFBML.Name"},{localName:"profile-pic",className:"FB.XFBML.ProfilePic"},{localName:"question",className:"FB.XFBML.Question"},{localName:"recommendations",className:"FB.XFBML.Recommendations"},{localName:"recommendations-bar",className:"FB.XFBML.RecommendationsBar"},{localName:"registration",className:"FB.XFBML.Registration"},{localName:"send",className:"FB.XFBML.Send"},{localName:"serverfbml",className:"FB.XFBML.ServerFbml"},{localName:"share-button",className:"FB.XFBML.ShareButton"},{localName:"social-context",className:"FB.XFBML.SocialContext"},{localName:"subscribe",className:"FB.XFBML.Subscribe"}],_widgetPipeEnabledTagCount:0,_widgetPipeIsEnabled:function(){return FB.widgetPipeEnabledApps&&void 0!==FB.widgetPipeEnabledApps[FB._apiKey]}}),function(){try{document.namespaces&&!document.namespaces.item.fb&&document.namespaces.add("fb")}catch(a){}}(),FB.provide("XFBML",{set:function(a,b,c){FB.log("FB.XFBML.set() has been deprecated."),a.innerHTML=b,FB.XFBML.parse(a,c)}}),FB.subclass("Waitable","Obj",function(){},{set:function(a){this.setProperty("value",a)},error:function(a){this.fire("error",a)},wait:function(a,b){b&&this.subscribe("error",b),this.monitor("value",this.bind(function(){return void 0!==this.value?(a(this.value),!0):void 0}))}}),FB.subclass("Data.Query","Waitable",function(){FB.Data.Query._c||(FB.Data.Query._c=1),this.name="v_"+FB.Data.Query._c++},{parse:function(a){var b=FB.String.format.apply(null,a),c=/^select (.*?) from (\w+)\s+where (.*)$/i.exec(b);this.fields=this._toFields(c[1]),this.table=c[2],this.where=this._parseWhere(c[3]);for(var d=1;d<a.length;d++)FB.Type.isType(a[d],FB.Data.Query)&&(a[d].hasDependency=!0);return this},toFql:function(){var a="select "+this.fields.join(",")+" from "+this.table+" where ";switch(this.where.type){case"unknown":a+=this.where.value;break;case"index":a+=this.where.key+"="+this._encode(this.where.value);break;case"in":a+=1==this.where.value.length?this.where.key+"="+this._encode(this.where.value[0]):this.where.key+" in ("+FB.Array.map(this.where.value,this._encode).join(",")+")"}return a},_encode:function(a){return"string"==typeof a?FB.String.quote(a):a},toString:function(){return"#"+this.name},_toFields:function(a){return FB.Array.map(a.split(","),FB.String.trim)},_parseWhere:function(s){var re=/^\s*(\w+)\s*=\s*(.*)\s*$/i.exec(s),result,value,type="unknown";return re&&(value=re[2],/^(["'])(?:\\?.)*?\1$/.test(value)?(value=eval(value),type="index"):/^\d+\.?\d*$/.test(value)&&(type="index")),result="index"==type?{type:"index",key:re[1],value:value}:{type:"unknown",value:s}}}),FB.provide("Data",{query:function(){var a=(new FB.Data.Query).parse(arguments);return FB.Data.queue.push(a),FB.Data._waitToProcess(),a},waitOn:function(dependencies,callback){var result=new FB.Waitable,count=dependencies.length;if("string"==typeof callback){var s=callback;callback=function(args){return eval(s)}}return FB.Array.forEach(dependencies,function(a){a.monitor("value",function(){var b=!1;if(void 0!==FB.Data._getValue(a)&&(count--,b=!0),0===count){var c=callback(FB.Array.map(dependencies,FB.Data._getValue));result.set(void 0!==c?c:!0)}return b})}),result},_getValue:function(a){return FB.Type.isType(a,FB.Waitable)?a.value:a},_selectByIndex:function(a,b,c,d){var e=new FB.Data.Query;return e.fields=a,e.table=b,e.where={type:"index",key:c,value:d},FB.Data.queue.push(e),FB.Data._waitToProcess(),e},_waitToProcess:function(){FB.Data.timer<0&&(FB.Data.timer=setTimeout(FB.Data._process,10))},_process:function(){FB.Data.timer=-1;var a={},b=FB.Data.queue;FB.Data.queue=[];for(var c=0;c<b.length;c++){var d=b[c];"index"!=d.where.type||d.hasDependency?a[d.name]=d:FB.Data._mergeIndexQuery(d,a)}var e={q:{}};FB.copy(e.q,a,!0,function(a){return a.toFql()}),e.queries=FB.JSON.stringify(e.queries),FB.api("/fql","GET",e,function(b){b.error?FB.Array.forEach(a,function(a){a.error(new Error(b.error.message))}):FB.Array.forEach(b.data,function(b){a[b.name].set(b.fql_result_set)})})},_mergeIndexQuery:function(a,b){var c=a.where.key,d=a.where.value,e="index_"+a.table+"_"+c,f=b[e];f||(f=b[e]=new FB.Data.Query,f.fields=[c],f.table=a.table,f.where={type:"in",key:c,value:[]}),FB.Array.merge(f.fields,a.fields),FB.Array.merge(f.where.value,[d]),f.wait(function(b){a.set(FB.Array.filter(b,function(a){return a[c]==d}))})},timer:-1,queue:[]}),window.setTimeout(function(){var a=/(connect.facebook.net|facebook.com\/assets.php).*?#(.*)/;FB.Array.forEach(document.getElementsByTagName("script"),function(b){if(b.src){var c=a.exec(b.src);if(c){var d=FB.QS.decode(c[2]);FB.Array.forEach(d,function(a,b){"0"==a&&(d[b]=0)}),d.oauth=!0,FB.init(d)}}}),window.fbAsyncInit&&!window.fbAsyncInit.hasRun&&(window.fbAsyncInit.hasRun=!0,fbAsyncInit())},0),FB.provide("Native",{NATIVE_READY_EVENT:"fbNativeReady",onready:function(a){if(!FB.UA.nativeApp())return void FB.log("FB.Native.onready only works when the page is rendered in a WebView of the native Facebook app. Test if this is the case calling FB.UA.nativeApp()");
if(window.__fbNative&&!this.nativeReady&&FB.provide("Native",window.__fbNative),this.nativeReady)a();else{var b=function(){window.removeEventListener(FB.Native.NATIVE_READY_EVENT,b),FB.Native.onready(a)};window.addEventListener(FB.Native.NATIVE_READY_EVENT,b,!1)}}}),FB.provide("UIServer.Methods",{"pay.prompt":{transform:function(a){var b=FB.XD.handler(function(b){a.cb(FB.JSON.parse(b.response))},"parent.frames["+(window.name||"iframe_canvas")+"]");return a.params.channel=b,FB.Arbiter.inform("Pay.Prompt",a.params),!1}}}),FB.provide("UIServer.Methods",{pay:{size:{width:555,height:120},noHttps:!0,connectDisplay:"popup",transform:function(a){if(!FB._inCanvas)return a.params.order_info=FB.JSON.stringify(a.params.order_info),a;var b=FB.XD.handler(function(b){a.cb(FB.JSON.parse(b.response))},"parent.frames["+(window.name||"iframe_canvas")+"]");return a.params.channel=b,a.params.uiserver=!0,FB.Arbiter.inform("Pay.Prompt",a.params),!1}}}),FB.provide("Helper",{isUser:function(a){return 22e8>a||a>=1e14&&0x5b0a58f100ef>=a||a>=89e12&&89999999999999>=a},getLoggedInUser:function(){return FB.getUserID()},upperCaseFirstChar:function(a){return a.length>0?a.substr(0,1).toUpperCase()+a.substr(1):a},getProfileLink:function(a,b,c){return c=c||(a?FB.getDomain("www")+"profile.php?id="+a.uid:null),c&&(b='<a class="fb_link" href="'+c+'">'+b+"</a>"),b},invokeHandler:function(handler,scope,args){handler&&("string"==typeof handler?eval(handler):handler.apply&&handler.apply(scope,args||[]))},fireEvent:function(a,b){var c=b._attr.href;b.fire(a,c),FB.Event.fire(a,c,b)},executeFunctionByName:function(a){for(var b=Array.prototype.slice.call(arguments,1),c=a.split("."),d=c.pop(),e=window,f=0;f<c.length;f++)e=e[c[f]];return e[d].apply(this,b)}}),FB.provide("TemplateData",{_initialized:!1,_version:0,_response:null,_localStorageTimeout:86400,_enabled:!0,enabled:function(){return FB.TemplateData._enabled&&FB.TemplateData._initialized&&FB.TemplateData.supportsLocalStorage()&&"connected"==FB._userStatus&&FB.TemplateData.getResponse()},supportsLocalStorage:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return!1}},_isStale:function(a){if(!a||!a.version||a.version!=FB.TemplateData._version||a.currentUserID!=FB.getUserID())return!0;var b=Math.round((new Date).getTime());return(b-a.setAt)/1e3>FB.TemplateData._localStorageTimeout},getResponse:function(){var a=FB.TemplateData;try{a._response=a._response||a.supportsLocalStorage()&&FB.JSON.parse(localStorage.FB_templateDataResponse||"null")}catch(b){a._response=null}return a._isStale(a._response)&&a.saveResponse(null),a._response},saveResponse:function(a){FB.TemplateData._response=a,FB.TemplateData.supportsLocalStorage()&&(localStorage.FB_templateDataResponse=FB.JSON.stringify(a))},getData:function(){var a=FB.TemplateData.getResponse();return a?a.data:{}},init:function(a){a&&(FB.TemplateData._initialized=!0,FB.TemplateData._version=a,!FB.TemplateData.supportsLocalStorage()||"FB_templateDataResponse"in localStorage||FB.TemplateData.clear())},clear:function(){FB.TemplateData.saveResponse(null)},update:function(){"connected"!=FB._userStatus&&FB.TemplateData.clear(),"connected"!=FB._userStatus||FB.TemplateData.getResponse()||FB.api({method:"dialog.template_data"},function(a){if(!("error_code"in a)){var b={data:a,currentUserID:FB.getUserID(),setAt:(new Date).getTime(),version:FB.TemplateData._version};FB.TemplateData.saveResponse(b)}})}}),FB.subclass("TemplateUI","Obj",function(a,b){this.method=a;var c=FB.UA.nativeApp()?0:1,d={display:"touch",preview_template:1,in_iframe:c,locale:FB._locale,v:FB.TemplateUI._version,user_agent:navigator.userAgent};window.devicePixelRatio&&(d.m_pixel_ratio=window.devicePixelRatio);var e=FB.QS.encode(d);if(this.cachedCall={url:FB.getDomain("staticfb")+"dialog/"+a+"?"+e,frameName:FB.guid(),id:FB.guid(),size:FB.UIServer.getDefaultSize(),hideLoader:!0},FB.XD.handler(this.bind(function(a){"getParams"==a.type&&this.setProperty("getParamsCb",a.returnCb)}),"parent",!0,this.cachedCall.frameName),c)FB.UIServer.iframe(this.cachedCall),FB.Dialog.hide(this.cachedCall.root);else if(b&&!FB.TemplateUI._preloads[this.cachedCall.url]){var f=document.createElement("div");FB.TemplateUI._preloads[this.cachedCall.url]={container:f},FB.Content.insertIframe({url:this.cachedCall.url,root:FB.Content.appendHidden(f)})}},{use:function(a){if(!this.cachedCall.root){FB.UIServer.touch(this.cachedCall);var b=FB.TemplateUI._preloads[this.cachedCall.url];b&&b.container&&(b.container.parentNode.removeChild(b.container),delete b.container)}a.ui_created=!0,a.root=this.cachedCall.root,FB.UIServer.setLoadedNode(a,FB.UIServer.getLoadedNode(this.cachedCall.id)),delete FB.UIServer._loadedNodes[this.cachedCall.id];var c=FB.Dialog._dialogs[a.id];FB.Dialog._dialogs[this.cachedCall.id]=c,c.id=this.cachedCall.id,delete FB.Dialog._dialogs[a.id],FB.UIServer.getLoadedNode(a).fbCallID=this.cachedCall.id,this.cachedCall.id=a.id;var d={};FB.copy(d,a.params),FB.copy(d,FB.TemplateData.getData()[this.method]),d.frictionless=FB.TemplateUI.isFrictionlessAppRequest(this.method,d),d.common=FB.TemplateData.getData().common,d.method=this.method,this.setParams(d),FB.UA.nativeApp()&&FB.UIServer._popupMonitor()},setParams:function(a){this.monitor("getParamsCb",this.bind(function(){if(this.getParamsCb){var b=frames[this.cachedCall.frameName]||FB.UIServer.getLoadedNode(this.cachedCall);return b.postMessage(FB.JSON.stringify({params:a,cb:this.getParamsCb}),"*"),!0}}))}}),FB.provide("TemplateUI",{_timer:null,_cache:{},_preloads:{},_version:0,init:function(){FB.TemplateData.init(FB.TemplateUI._version),FB.TemplateUI.initCache()},useCachedUI:function(a,b){try{FB.TemplateUI.populateCache(),cache=FB.TemplateUI._cache[a],delete FB.TemplateUI._cache[a],cache.use(b)}catch(c){FB.TemplateData.clear()}},populateCache:function(a){if(FB.TemplateData.enabled()&&FB.UA.mobile()){clearInterval(FB.TemplateUI._timer);var b={feed:!0,apprequests:!0};for(var c in b)c in FB.TemplateUI._cache||(FB.TemplateUI._cache[c]=new FB.TemplateUI(c,a))}},initCache:function(){FB.TemplateUI._timer=setInterval(function(){FB.TemplateUI.populateCache(!0)},2e3)},supportsTemplate:function(a,b){return FB.TemplateData.enabled()&&FB.TemplateUI.paramsAllowTemplate(a,b.params)&&"touch"===b.params.display&&FB.UA.mobile()},paramsAllowTemplate:function(a,b){var c={feed:{to:1,attachment:1,source:1},apprequests:{}};if(!(a in c))return!1;for(var d in c[a])if(b[d])return!1;return!FB.TemplateUI.willWriteOnGet(a,b)},isFrictionlessAppRequest:function(a){return"apprequests"===a&&FB.Frictionless&&FB.Frictionless._useFrictionless},willWriteOnGet:function(a,b){return FB.TemplateUI.isFrictionlessAppRequest(a,b)&&b.to&&FB.Frictionless.isAllowed(b.to)}}),FB.provide("URI",{resolve:function(a){if(!a)return window.location.href;var b=document.createElement("div");return b.innerHTML='<a href="'+a.replace(/"/g,"&quot;")+'"></a>',b.firstChild.href}}),FB.Class("XFBML.Element",function(a){this.dom=a},FB.copy({getAttribute:function(a,b,c){var d=FB.XFBML.getAttr(this.dom,a);return d?c?c(d):d:b},_getBoolAttribute:function(a,b){return null===FB.XFBML.getAttr(this.dom,a)?b:FB.XFBML.getBoolAttr(this.dom,a)},_getPxAttribute:function(a,b){return this.getAttribute(a,b,function(a){var c=parseInt(a.replace("px",""),10);return isNaN(c)?b:c})},_getAttributeFromList:function(a,b,c){return this.getAttribute(a,b,function(a){return a=a.toLowerCase(),FB.Array.indexOf(c,a)>-1?a:b})},isValid:function(){for(var a=this.dom;a;a=a.parentNode)if(a==document.body)return!0},clear:function(){this.dom.innerHTML=""}},FB.EventProvider)),FB.subclass("XFBML.IframeWidget","XFBML.Element",null,{_iframeName:null,_showLoader:!0,_refreshOnAuthChange:!1,_allowReProcess:!1,_fetchPreCachedLoader:!1,_visibleAfter:"load",_widgetPipeEnabled:!1,getUrlBits:function(){throw new Error("Inheriting class needs to implement getUrlBits().")},setupAndValidate:function(){return!0},oneTimeSetup:function(){},getSize:function(){},getIframeName:function(){return!this._iframeName&&this._widgetPipeEnabled&&FB.XFBML.shouldUseWidgetPipe()&&(this._iframeName=this.generateWidgetPipeIframeName(),FB.XFBML.IframeWidget.allWidgetPipeIframes[this._iframeName]=this,null===FB.XFBML.IframeWidget.masterWidgetPipeIframe&&(FB.XFBML.IframeWidget.masterWidgetPipeIframe=this)),this._iframeName},getIframeTitle:function(){},getChannelUrl:function(){if(!this._channelUrl){var a=this;this._channelUrl=FB.XD.handler(function(b){a.fire("xd."+b.type,b)},"parent.parent",!0)}return this._channelUrl},getIframeNode:function(){return this.dom.getElementsByTagName("iframe")[0]},arbiterInform:function(a,b,c){this.loaded?this._arbiterInform(a,b,c):this.subscribe("iframe.onload",FB.bind(this._arbiterInform,this,a,b,c))},_arbiterInform:function(a,b,c){var d='parent.frames["'+this.getIframeNode().name+'"]';FB.Arbiter.inform(a,b,d,"https:"==window.location.protocol,c)},getDefaultWebDomain:function(){return"www"},getDefaultStaticDomain:function(){return"cdn"},process:function(a){if(this._done){if(!this._allowReProcess&&!a)return;this.clear()}else this._oneTimeSetup();if(this._done=!0,!this.setupAndValidate())return void this.fire("render");this._showLoader&&this._addLoader(),FB.Dom.addCss(this.dom,"fb_iframe_widget"),"immediate"!=this._visibleAfter?FB.Dom.addCss(this.dom,"fb_hide_iframes"):this.subscribe("iframe.onload",FB.bind(this.fire,this,"render"));var b=this.getSize()||{},c=this.getFullyQualifiedURL();"100%"==b.width&&FB.Dom.addCss(this.dom,"fb_iframe_widget_fluid"),FB.Content.insertIframe({url:c,root:this.dom.appendChild(document.createElement("span")),name:this.getIframeName(),title:this.getIframeTitle(),className:FB._localeIsRtl?"fb_rtl":"fb_ltr",height:b.height,width:b.width,onload:FB.bind(this.fire,this,"iframe.onload")}),this.loaded=!1,this.subscribe("iframe.onload",FB.bind(function(){this.loaded=!0},this))},generateWidgetPipeIframeName:function(){return FB.XFBML.IframeWidget.widgetPipeIframeCount++,"fb_iframe_"+FB.XFBML.IframeWidget.widgetPipeIframeCount},getFullyQualifiedURL:function(){if(FB.XFBML.shouldUseWidgetPipe()&&this._widgetPipeEnabled)return this._getWidgetPipeShell();var a=this._getURL();if(this._fetchPreCachedLoader||(a+="?"+FB.QS.encode(this._getQS())),a.length>2e3){a="about:blank";var b=FB.bind(function(){this._postRequest(),this.unsubscribe("iframe.onload",b)},this);this.subscribe("iframe.onload",b)}return a},_getWidgetPipeShell:function(){return FB.getDomain("www")+"common/widget_pipe_shell.php"},_oneTimeSetup:function(){this.subscribe("xd.resize",FB.bind(this._handleResizeMsg,this)),FB.getLoginStatus&&(this.subscribe("xd.refreshLoginStatus",FB.bind(FB.getLoginStatus,FB,function(){},!0)),this.subscribe("xd.logout",FB.bind(FB.logout,FB,function(){}))),this._refreshOnAuthChange&&this._setupAuthRefresh(),"load"==this._visibleAfter&&this.subscribe("iframe.onload",FB.bind(this._makeVisible,this)),this.oneTimeSetup()},_makeVisible:function(){this._removeLoader(),FB.Dom.removeCss(this.dom,"fb_hide_iframes"),this.fire("render")},_setupAuthRefresh:function(){FB.getLoginStatus(FB.bind(function(a){var b=a.status;FB.Event.subscribe("auth.statusChange",FB.bind(function(a){this.isValid()&&(("unknown"==b||"unknown"==a.status)&&this.process(!0),b=a.status)},this))},this))},_handleResizeMsg:function(a){if(this.isValid()){var b=this.getIframeNode();b.style.height=a.height+"px",a.width&&(b.style.width=a.width+"px"),b.style.border="none",this._makeVisible()}},_addLoader:function(){this._loaderDiv||(FB.Dom.addCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv=document.createElement("div"),this._loaderDiv.className="FB_Loader",this.dom.appendChild(this._loaderDiv))},_removeLoader:function(){this._loaderDiv&&(FB.Dom.removeCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv.parentNode&&this._loaderDiv.parentNode.removeChild(this._loaderDiv),this._loaderDiv=null)},_getQS:function(){return FB.copy({api_key:FB._apiKey,locale:FB._locale,sdk:"joey",ref:this.getAttribute("ref")},this.getUrlBits().params)},_getURL:function(){var a=this.getDefaultWebDomain(),b="";return this._fetchPreCachedLoader&&(a=this.getDefaultStaticDomain(),b="static/"),FB.getDomain(a)+"plugins/"+b+this.getUrlBits().name+".php"},_postRequest:function(){FB.Content.submitToTarget({url:this._getURL(),target:this.getIframeNode().name,params:this._getQS()})}}),FB.provide("XFBML.IframeWidget",{widgetPipeIframeCount:0,masterWidgetPipeIframe:null,allWidgetPipeIframes:{},batchWidgetPipeRequests:function(){if(FB.XFBML.IframeWidget.masterWidgetPipeIframe){var a=FB.XFBML.IframeWidget._groupWidgetPipeDescriptions(),b={widget_pipe:FB.JSON.stringify(a),href:window.location,site:location.hostname,channel:FB.XFBML.IframeWidget.masterWidgetPipeIframe.getChannelUrl(),api_key:FB._apiKey,locale:FB._locale,sdk:"joey"},c=FB.guid(),d=FB.XFBML.IframeWidget.masterWidgetPipeIframe.dom,e=d.appendChild(document.createElement("span"));FB.Content.insertIframe({url:"about:blank",root:e,name:c,className:"fb_hidden fb_invisible",onload:function(){FB.Content.submitToTarget({url:FB._domain.www+"widget_pipe.php?widget_pipe=1",target:c,params:b})}})}},_groupWidgetPipeDescriptions:function(){var a={};for(var b in FB.XFBML.IframeWidget.allWidgetPipeIframes){var c=FB.XFBML.IframeWidget.allWidgetPipeIframes[b],d=c.getUrlBits(),e={widget:d.name};FB.copy(e,d.params),a[b]=e}return a}}),FB.subclass("XFBML.Activity","XFBML.IframeWidget",null,{_visibleAfter:"load",_refreshOnAuthChange:!0,setupAndValidate:function(){return this._attr={border_color:this.getAttribute("border-color"),colorscheme:this.getAttribute("color-scheme"),filter:this.getAttribute("filter"),action:this.getAttribute("action"),max_age:this.getAttribute("max_age"),font:this.getAttribute("font"),linktarget:this.getAttribute("linktarget","_blank"),header:this._getBoolAttribute("header"),height:this._getPxAttribute("height",300),recommendations:this._getBoolAttribute("recommendations"),site:this.getAttribute("site",location.hostname),width:this._getPxAttribute("width",300)},!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"activity",params:this._attr}}}),FB.subclass("XFBML.ButtonElement","XFBML.Element",null,{_allowedSizes:["icon","small","medium","large","xlarge"],onClick:function(){throw new Error("Inheriting class needs to implement onClick().")},setupAndValidate:function(){return!0},getButtonMarkup:function(){return this.getOriginalHTML()},getOriginalHTML:function(){return this._originalHTML},process:function(){if("_originalHTML"in this||(this._originalHTML=FB.String.trim(this.dom.innerHTML)),!this.setupAndValidate())return void this.fire("render");var a=this._getAttributeFromList("size","medium",this._allowedSizes),b="",c="";if("icon"==a)b="fb_button_simple";else{var d=FB._localeIsRtl?"_rtl":"";c=this.getButtonMarkup(),b="fb_button"+d+" fb_button_"+a+d}""!==c&&(this.dom.innerHTML='<a class="'+b+'"><span class="fb_button_text">'+c+"</span></a>",this.dom.firstChild.onclick=FB.bind(this.onClick,this)),this.fire("render")}}),FB.subclass("XFBML.AddProfileTab","XFBML.ButtonElement",null,{getButtonMarkup:function(){return FB.Intl.tx._("Add Profile Tab on Facebook")},onClick:function(){FB.ui({method:"profile.addtab"},this.bind(function(a){a.tab_added&&FB.Helper.invokeHandler(this.getAttribute("on-add"),this)}))}}),FB.subclass("XFBML.Facepile","XFBML.IframeWidget",null,{_visibleAfter:"load",_extraParams:{},setupAndValidate:function(){this._attr={href:this.getAttribute("href"),channel:this.getChannelUrl(),colorscheme:this.getAttribute("colorscheme","light"),max_rows:this.getAttribute("max-rows"),action:this.getAttribute("action","like"),tense:this.getAttribute("tense","past"),width:this._getPxAttribute("width",200),ref:this.getAttribute("ref"),size:this.getAttribute("size","small"),extended_social_context:this.getAttribute("extended_social_context",!1),login_text:this.dom.innerHTML},this.clear();for(var a in this._extraParams)this._attr[a]=this._extraParams[a];return!0},setExtraParams:function(a){this._extraParams=a},oneTimeSetup:function(){var a=FB._userStatus;FB.Event.subscribe("auth.statusChange",FB.bind(function(b){("connected"==a||"connected"==b.status)&&this.process(!0),a=b.status},this))},getSize:function(){return"large"==this._attr.size?{width:this._attr.width,height:90}:{width:this._attr.width,height:70}},getUrlBits:function(){return{name:"facepile",params:this._attr}}}),FB.subclass("XFBML.AddToTimeline","XFBML.Facepile",null,{_visibleAfter:"load",getSize:function(){return{width:300,height:250}},getUrlBits:function(){return{name:"add_to_timeline",params:this._attr}}}),FB.subclass("XFBML.Bookmark","XFBML.ButtonElement",null,{getButtonMarkup:function(){return FB.Intl.tx._("Bookmark on Facebook")},onClick:function(){FB.ui({method:"bookmark.add"},this.bind(function(a){a.bookmarked&&FB.Helper.invokeHandler(this.getAttribute("on-add"),this)}))}}),FB.subclass("XFBML.Comments","XFBML.IframeWidget",null,{_visibleAfter:"immediate",_refreshOnAuthChange:!0,setupAndValidate:function(){var a={channel_url:this.getChannelUrl(),colorscheme:this.getAttribute("colorscheme"),numposts:this.getAttribute("num-posts",10),width:this._getPxAttribute("width",550),href:this.getAttribute("href"),permalink:this.getAttribute("permalink"),publish_feed:this.getAttribute("publish_feed"),mobile:this._getBoolAttribute("mobile")};if(FB.initSitevars.enableMobileComments&&FB.UA.mobile()&&a.mobile!==!1&&(a.mobile=!0),a.href){var b=this.getAttribute("fb_comment_id");b||(b=FB.QS.decode(document.URL.substring(document.URL.indexOf("?")+1)).fb_comment_id,b&&b.indexOf("#")>0&&(b=b.substring(0,b.indexOf("#")))),b&&(a.fb_comment_id=b,this.subscribe("render",FB.bind(function(){window.location.hash=this.getIframeNode().id},this)))}else{if(a.migrated=this.getAttribute("migrated"),a.xid=this.getAttribute("xid"),a.title=this.getAttribute("title",document.title),a.url=this.getAttribute("url",document.URL),a.quiet=this.getAttribute("quiet"),a.reverse=this.getAttribute("reverse"),a.simple=this.getAttribute("simple"),a.css=this.getAttribute("css"),a.notify=this.getAttribute("notify"),!a.xid){var c=document.URL.indexOf("#");a.xid=encodeURIComponent(c>0?document.URL.substring(0,c):document.URL)}a.migrated&&(a.href="http://www.facebook.com/plugins/comments_v1.php?app_id="+FB._apiKey+"&xid="+encodeURIComponent(a.xid)+"&url="+encodeURIComponent(a.url))}return this._attr=a,!0},oneTimeSetup:function(){this.subscribe("xd.addComment",FB.bind(this._handleCommentMsg,this)),this.subscribe("xd.commentCreated",FB.bind(this._handleCommentCreatedMsg,this)),this.subscribe("xd.commentRemoved",FB.bind(this._handleCommentRemovedMsg,this))},getSize:function(){return this._attr.mobile?{width:"100%",height:160}:{width:this._attr.width,height:160}},getUrlBits:function(){return{name:"comments",params:this._attr}},getDefaultWebDomain:function(){return this._attr.mobile?"https_m":"https_www"},_handleCommentMsg:function(a){this.isValid()&&FB.Event.fire("comments.add",{post:a.post,user:a.user,widget:this})},_handleCommentCreatedMsg:function(a){if(this.isValid()){var b={href:a.href,commentID:a.commentID,parentCommentID:a.parentCommentID};FB.Event.fire("comment.create",b)}},_handleCommentRemovedMsg:function(a){if(this.isValid()){var b={href:a.href,commentID:a.commentID};FB.Event.fire("comment.remove",b)}}}),FB.subclass("XFBML.CommentsCount","XFBML.Element",null,{process:function(){this._href=this.getAttribute("href",window.location.href),this._count=FB.Data._selectByIndex(["commentsbox_count"],"link_stat","url",this._href),FB.Dom.addCss(this.dom,"fb_comments_count_zero"),this._count.wait(FB.bind(function(){var a=this._count.value[0].commentsbox_count;this.dom.innerHTML=FB.String.format('<span class="fb_comments_count">{0}</span>',a),a>0&&FB.Dom.removeCss(this.dom,"fb_comments_count_zero"),this.fire("render")},this))}}),FB.provide("Anim",{ate:function(a,b,c,d){c=!isNaN(parseFloat(c))&&c>=0?c:750;var e=40,f={},g={},h=null,i=(a.style,setInterval(FB.bind(function(){h||(h=(new Date).getTime());var e=1;0!=c&&(e=Math.min(((new Date).getTime()-h)/c,1)),FB.Array.forEach(b,FB.bind(function(b,c){if(!f[c]){var d=FB.Dom.getStyle(a,c);if(d===!1)return;f[c]=this._parseCSS(d+"")}g[c]||(g[c]=this._parseCSS(b.toString()));var h="";FB.Array.forEach(f[c],function(a,b){isNaN(g[c][b].numPart)&&"?"==g[c][b].textPart?h=a.numPart+a.textPart:isNaN(a.numPart)?h=a.textPart:h+=a.numPart+Math.ceil((g[c][b].numPart-a.numPart)*Math.sin(Math.PI/2*e))+g[c][b].textPart+" "}),FB.Dom.setStyle(a,c,h)},this)),1==e&&(clearInterval(i),d&&d(a))},this),e))},_parseCSS:function(a){var b=[];return FB.Array.forEach(a.split(" "),function(a){var c=parseInt(a,10);b.push({numPart:c,textPart:a.replace(c,"")})}),b}}),FB.provide("Insights",{impression:function(a,b){var c=FB.guid(),d="//ah8.facebook.com/impression.php/"+c+"/",e=new Image(1,1),f=[];!a.api_key&&FB._apiKey&&(a.api_key=FB._apiKey);for(var g in a)f.push(encodeURIComponent(g)+"="+encodeURIComponent(a[g]));d+="?"+f.join("&"),b&&(e.onload=b),e.src=d}}),FB.subclass("XFBML.ConnectBar","XFBML.Element",null,{_initialHeight:null,_initTopMargin:0,_picFieldName:"pic_square",_page:null,_displayed:!1,_notDisplayed:!1,_container:null,_animationSpeed:0,process:function(){FB.getLoginStatus(this.bind(function(){FB.Event.monitor("auth.statusChange",this.bind(function(){return this.isValid()&&"connected"==FB._userStatus?(this._uid=FB.Helper.getLoggedInUser(),FB.api({method:"Connect.shouldShowConnectBar"},this.bind(function(a){2!=a?(this._animationSpeed=0==a?750:0,this._showBar()):this._noRender()}))):this._noRender(),!1}))}))},_showBar:function(){var a=FB.Data._selectByIndex(["first_name","profile_url",this._picFieldName],"user","uid",this._uid),b=FB.Data._selectByIndex(["display_name"],"application","api_key",FB._apiKey);FB.Data.waitOn([a,b],FB.bind(function(a){a[0][0].site_name=a[1][0].display_name,this._displayed||(this._displayed=!0,this._notDisplayed=!1,this._renderConnectBar(a[0][0]),this.fire("render"),FB.Insights.impression({lid:104,name:"widget_load"}),this.fire("connectbar.ondisplay"),FB.Event.fire("connectbar.ondisplay",this),FB.Helper.invokeHandler(this.getAttribute("on-display"),this))},this))},_noRender:function(){this._displayed&&(this._displayed=!1,this._closeConnectBar()),this._notDisplayed||(this._notDisplayed=!0,this.fire("render"),this.fire("connectbar.onnotdisplay"),FB.Event.fire("connectbar.onnotdisplay",this),FB.Helper.invokeHandler(this.getAttribute("on-not-display"),this))},_renderConnectBar:function(a){var b=document.createElement("div"),c=document.createElement("div");b.className="fb_connect_bar",c.className="fb_reset fb_connect_bar_container",c.appendChild(b),document.body.appendChild(c),this._container=c,this._initialHeight=Math.round(parseFloat(FB.Dom.getStyle(c,"height"))+parseFloat(FB.Dom.getStyle(c,"borderBottomWidth"))),b.innerHTML=FB.String.format('<div class="fb_buttons"><a href="#" class="fb_bar_close"><img src="{1}" alt="{2}" title="{2}"/></a></div><a href="{7}" class="fb_profile" target="_blank"><img src="{3}" alt="{4}" title="{4}"/></a>{5} <span><a href="{8}" class="fb_learn_more" target="_blank">{6}</a> &ndash; <a href="#" class="fb_no_thanks">{0}</a></span>',FB.Intl.tx._("No Thanks"),FB.getDomain("cdn")+FB.XFBML.ConnectBar.imgs.buttonUrl,FB.Intl.tx._("Close"),a[this._picFieldName]||FB.getDomain("cdn")+FB.XFBML.ConnectBar.imgs.missingProfileUrl,FB.String.escapeHTML(a.first_name),FB.Intl.tx._("Hi {firstName}. <strong>{siteName}</strong> is using Facebook to personalize your experience.",{firstName:FB.String.escapeHTML(a.first_name),siteName:FB.String.escapeHTML(a.site_name)}),FB.Intl.tx._("Learn More"),a.profile_url,FB.getDomain("www")+"sitetour/connect.php");var d=this;FB.Array.forEach(b.getElementsByTagName("a"),function(a){a.onclick=FB.bind(d._clickHandler,d)}),this._page=document.body;var e=0;e=this._page.parentNode?Math.round((parseFloat(FB.Dom.getStyle(this._page.parentNode,"height"))-parseFloat(FB.Dom.getStyle(this._page,"height")))/2):parseInt(FB.Dom.getStyle(this._page,"marginTop"),10),e=isNaN(e)?0:e,this._initTopMargin=e,window.XMLHttpRequest?(c.style.top=-1*this._initialHeight+"px",FB.Anim.ate(c,{top:"0px"},this._animationSpeed)):c.className+=" fb_connect_bar_container_ie6";var f={marginTop:this._initTopMargin+this._initialHeight+"px"};FB.UA.ie()?f.backgroundPositionY=this._initialHeight+"px":f.backgroundPosition="? "+this._initialHeight+"px",FB.Anim.ate(this._page,f,this._animationSpeed)},_clickHandler:function(a){a=a||window.event;for(var b=a.target||a.srcElement;"A"!=b.nodeName;)b=b.parentNode;switch(b.className){case"fb_bar_close":FB.api({method:"Connect.connectBarMarkAcknowledged"}),FB.Insights.impression({lid:104,name:"widget_user_closed"}),this._closeConnectBar();break;case"fb_learn_more":case"fb_profile":window.open(b.href);break;case"fb_no_thanks":this._closeConnectBar(),FB.api({method:"Connect.connectBarMarkAcknowledged"}),FB.Insights.impression({lid:104,name:"widget_user_no_thanks"}),FB.api({method:"auth.revokeAuthorization",block:!0},this.bind(function(){this.fire("connectbar.ondeauth"),FB.Event.fire("connectbar.ondeauth",this),FB.Helper.invokeHandler(this.getAttribute("on-deauth"),this),this._getBoolAttribute("auto-refresh",!0)&&window.location.reload()}))}return!1},_closeConnectBar:function(){this._notDisplayed=!0;var a={marginTop:this._initTopMargin+"px"};FB.UA.ie()?a.backgroundPositionY="0px":a.backgroundPosition="? 0px";var b=0==this._animationSpeed?0:300;FB.Anim.ate(this._page,a,b),FB.Anim.ate(this._container,{top:-1*this._initialHeight+"px"},b,function(a){a.parentNode.removeChild(a)}),this.fire("connectbar.onclose"),FB.Event.fire("connectbar.onclose",this),FB.Helper.invokeHandler(this.getAttribute("on-close"),this)}}),FB.provide("XFBML.ConnectBar",{imgs:{buttonUrl:"images/facebook-widgets/close_btn.png",missingProfileUrl:"pics/q_silhouette.gif"}}),FB.subclass("XFBML.Fan","XFBML.IframeWidget",null,{_visibleAfter:"load",setupAndValidate:function(){if(this._attr={api_key:FB._apiKey,connections:this.getAttribute("connections","10"),css:this.getAttribute("css"),height:this._getPxAttribute("height"),id:this.getAttribute("profile-id"),logobar:this._getBoolAttribute("logo-bar"),name:this.getAttribute("name"),stream:this._getBoolAttribute("stream",!0),width:this._getPxAttribute("width",300)},!this._attr.id&&!this._attr.name)return FB.log('<fb:fan> requires one of the "id" or "name" attributes.'),!1;var a=this._attr.height;return a||(a=this._attr.connections&&"0"!==this._attr.connections||this._attr.stream?this._attr.connections&&"0"!==this._attr.connections?this._attr.stream?550:250:375:65),this._attr.logobar&&(a+=25),this._attr.height=a,!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"fan",params:this._attr}}}),FB.subclass("XFBML.Friendpile","XFBML.Facepile",null,{}),FB.subclass("XFBML.EdgeCommentWidget","XFBML.IframeWidget",function(a){this._iframeWidth=a.width+1,this._iframeHeight=a.height,this._attr={master_frame_name:a.masterFrameName,offsetX:a.relativeWidthOffset-a.paddingLeft},this.dom=a.commentNode,this.dom.style.top=a.relativeHeightOffset+"px",this.dom.style.left=a.relativeWidthOffset+"px",this.dom.style.zIndex=FB.XFBML.EdgeCommentWidget.NextZIndex++,FB.Dom.addCss(this.dom,"fb_edge_comment_widget")},{_visibleAfter:"load",_showLoader:!1,getSize:function(){return{width:this._iframeWidth,height:this._iframeHeight}},getUrlBits:function(){return{name:"comment_widget_shell",params:this._attr}}}),FB.provide("XFBML.EdgeCommentWidget",{NextZIndex:1e4}),FB.subclass("XFBML.EdgeWidget","XFBML.IframeWidget",null,{_visibleAfter:"immediate",_showLoader:!1,_rootPadding:null,setupAndValidate:function(){return FB.Dom.addCss(this.dom,"fb_edge_widget_with_comment"),this._attr={channel_url:this.getChannelUrl(),debug:this._getBoolAttribute("debug"),href:this.getAttribute("href",window.location.href),is_permalink:this._getBoolAttribute("is-permalink"),node_type:this.getAttribute("node-type","link"),width:this._getWidgetWidth(),font:this.getAttribute("font"),layout:this._getLayout(),colorscheme:this.getAttribute("color-scheme"),action:this.getAttribute("action"),ref:this.getAttribute("ref"),show_faces:this._shouldShowFaces(),no_resize:this._getBoolAttribute("no_resize"),send:this._getBoolAttribute("send"),url_map:this.getAttribute("url_map"),extended_social_context:this._getBoolAttribute("extended_social_context",!1)},this._rootPadding={left:parseFloat(FB.Dom.getStyle(this.dom,"paddingLeft")),top:parseFloat(FB.Dom.getStyle(this.dom,"paddingTop"))},!0},oneTimeSetup:function(){this.subscribe("xd.authPrompted",FB.bind(this._onAuthPrompt,this)),this.subscribe("xd.edgeCreated",FB.bind(this._onEdgeCreate,this)),this.subscribe("xd.edgeRemoved",FB.bind(this._onEdgeRemove,this)),this.subscribe("xd.presentEdgeCommentDialog",FB.bind(this._handleEdgeCommentDialogPresentation,this)),this.subscribe("xd.dismissEdgeCommentDialog",FB.bind(this._handleEdgeCommentDialogDismissal,this)),this.subscribe("xd.hideEdgeCommentDialog",FB.bind(this._handleEdgeCommentDialogHide,this)),this.subscribe("xd.showEdgeCommentDialog",FB.bind(this._handleEdgeCommentDialogShow,this))},getSize:function(){return{width:this._getWidgetWidth(),height:this._getWidgetHeight()}},_getWidgetHeight:function(){var a=this._getLayout(),b=this._shouldShowFaces()?"show":"hide",c=this._getBoolAttribute("send"),d=65+(c?25:0),e={standard:{show:80,hide:35},box_count:{show:d,hide:d},button_count:{show:21,hide:21},simple:{show:20,hide:20}};return e[a][b]},_getWidgetWidth:function(){var a=this._getLayout(),b=this._getBoolAttribute("send"),c=this._shouldShowFaces()?"show":"hide",d="recommend"===this.getAttribute("action"),e=(d?265:225)+(b?60:0),f=(d?130:90)+(b?60:0),g="recommend"===this.getAttribute("action")?100:55,h="recommend"===this.getAttribute("action")?90:50,i={standard:{show:450,hide:450},box_count:{show:g,hide:g},button_count:{show:f,hide:f},simple:{show:h,hide:h}},j=i[a][c],k=this._getPxAttribute("width",j),l={standard:{min:e,max:900},box_count:{min:g,max:900},button_count:{min:f,max:900},simple:{min:49,max:900}};return k<l[a].min?k=l[a].min:k>l[a].max&&(k=l[a].max),k},_getLayout:function(){return this._getAttributeFromList("layout","standard",["standard","button_count","box_count","simple"])},_shouldShowFaces:function(){return"standard"===this._getLayout()&&this._getBoolAttribute("show-faces",!0)},_handleEdgeCommentDialogPresentation:function(a){if(this.isValid()){var b=document.createElement("span");this._commentSlave=this._createEdgeCommentWidget(a,b),this.dom.appendChild(b),this._commentSlave.process(),this._commentWidgetNode=b}},_createEdgeCommentWidget:function(a,b){var c={commentNode:b,externalUrl:a.externalURL,masterFrameName:a.masterFrameName,layout:this._getLayout(),relativeHeightOffset:this._getHeightOffset(a),relativeWidthOffset:this._getWidthOffset(a),anchorTargetX:parseFloat(a["query[anchorTargetX]"])+this._rootPadding.left,anchorTargetY:parseFloat(a["query[anchorTargetY]"])+this._rootPadding.top,width:parseFloat(a.width),height:parseFloat(a.height),paddingLeft:this._rootPadding.left};return new FB.XFBML.EdgeCommentWidget(c)},_getHeightOffset:function(a){return parseFloat(a["anchorGeometry[y]"])+parseFloat(a["anchorPosition[y]"])+this._rootPadding.top},_getWidthOffset:function(a){var b=parseFloat(a["anchorPosition[x]"])+this._rootPadding.left,c=FB.Dom.getPosition(this.dom).x,d=(this.dom.offsetWidth,FB.Dom.getViewportInfo().width),e=parseFloat(a.width),f=!1;return FB._localeIsRtl?f=c>e:c+e>d&&(f=!0),f&&(b+=parseFloat(a["anchorGeometry[x]"])-e),b},_getCommonEdgeCommentWidgetOpts:function(a,b){return{colorscheme:this._attr.colorscheme,commentNode:b,controllerID:a.controllerID,nodeImageURL:a.nodeImageURL,nodeRef:this._attr.ref,nodeTitle:a.nodeTitle,nodeURL:a.nodeURL,nodeSummary:a.nodeSummary,width:parseFloat(a.width),height:parseFloat(a.height),relativeHeightOffset:this._getHeightOffset(a),relativeWidthOffset:this._getWidthOffset(a),error:a.error,siderender:a.siderender,extended_social_context:a.extended_social_context,anchorTargetX:parseFloat(a["query[anchorTargetX]"])+this._rootPadding.left,anchorTargetY:parseFloat(a["query[anchorTargetY]"])+this._rootPadding.top}
},_handleEdgeCommentDialogDismissal:function(){this._commentWidgetNode&&(this.dom.removeChild(this._commentWidgetNode),delete this._commentWidgetNode)},_handleEdgeCommentDialogHide:function(){this._commentWidgetNode&&(this._commentWidgetNode.style.display="none")},_handleEdgeCommentDialogShow:function(){this._commentWidgetNode&&(this._commentWidgetNode.style.display="block")},_fireEventAndInvokeHandler:function(a,b){FB.Helper.fireEvent(a,this),FB.Helper.invokeHandler(this.getAttribute(b),this,[this._attr.href])},_onEdgeCreate:function(){this._fireEventAndInvokeHandler("edge.create","on-create")},_onEdgeRemove:function(){this._fireEventAndInvokeHandler("edge.remove","on-remove")},_onAuthPrompt:function(){this._fireEventAndInvokeHandler("auth.prompt","on-prompt")}}),FB.subclass("XFBML.SendButtonFormWidget","XFBML.EdgeCommentWidget",function(a){this._base(a),FB.Dom.addCss(this.dom,"fb_send_button_form_widget"),FB.Dom.addCss(this.dom,a.colorscheme),FB.Dom.addCss(this.dom,"undefined"!=typeof a.siderender&&a.siderender?"siderender":""),this._attr.nodeImageURL=a.nodeImageURL,this._attr.nodeRef=a.nodeRef,this._attr.nodeTitle=a.nodeTitle,this._attr.nodeURL=a.nodeURL,this._attr.nodeSummary=a.nodeSummary,this._attr.offsetX=a.relativeWidthOffset,this._attr.offsetY=a.relativeHeightOffset,this._attr.anchorTargetX=a.anchorTargetX,this._attr.anchorTargetY=a.anchorTargetY,this._attr.channel=this.getChannelUrl(),this._attr.controllerID=a.controllerID,this._attr.colorscheme=a.colorscheme,this._attr.error=a.error,this._attr.siderender=a.siderender,this._attr.extended_social_context=a.extended_social_context},{_showLoader:!0,getUrlBits:function(){return{name:"send_button_form_shell",params:this._attr}},oneTimeSetup:function(){this.subscribe("xd.messageSent",FB.bind(this._onMessageSent,this))},_onMessageSent:function(){FB.Event.fire("message.send",this._attr.nodeURL,this)}}),FB.subclass("XFBML.Send","XFBML.EdgeWidget",null,{setupAndValidate:function(){return FB.Dom.addCss(this.dom,"fb_edge_widget_with_comment"),this._attr={channel:this.getChannelUrl(),api_key:FB._apiKey,font:this.getAttribute("font"),colorscheme:this.getAttribute("colorscheme","light"),href:this.getAttribute("href",window.location.href),ref:this.getAttribute("ref"),extended_social_context:this.getAttribute("extended_social_context",!1)},this._rootPadding={left:parseFloat(FB.Dom.getStyle(this.dom,"paddingLeft")),top:parseFloat(FB.Dom.getStyle(this.dom,"paddingTop"))},!0},getUrlBits:function(){return{name:"send",params:this._attr}},_createEdgeCommentWidget:function(a,b){var c=this._getCommonEdgeCommentWidgetOpts(a,b);return new FB.XFBML.SendButtonFormWidget(c)},getSize:function(){return{width:FB.XFBML.Send.Dimensions.width,height:FB.XFBML.Send.Dimensions.height}}}),FB.provide("XFBML.Send",{Dimensions:{width:80,height:25}}),FB.subclass("XFBML.Like","XFBML.EdgeWidget",null,{_widgetPipeEnabled:!0,getUrlBits:function(){return{name:"like",params:this._attr}},_createEdgeCommentWidget:function(a,b){if("send"in this._attr&&"widget_type"in a&&"send"==a.widget_type){var c=this._getCommonEdgeCommentWidgetOpts(a,b);return new FB.XFBML.SendButtonFormWidget(c)}return this._callBase("_createEdgeCommentWidget",a,b)},getIframeTitle:function(){return"Like this content on Facebook."}}),FB.subclass("XFBML.LikeBox","XFBML.EdgeWidget",null,{_visibleAfter:"load",setupAndValidate:function(){if(this._attr={channel:this.getChannelUrl(),api_key:FB._apiKey,connections:this.getAttribute("connections"),css:this.getAttribute("css"),height:this.getAttribute("height"),id:this.getAttribute("profile-id"),header:this._getBoolAttribute("header",!0),name:this.getAttribute("name"),show_faces:this._getBoolAttribute("show-faces",!0),stream:this._getBoolAttribute("stream",!0),width:this._getPxAttribute("width",300),href:this.getAttribute("href"),colorscheme:this.getAttribute("colorscheme","light"),border_color:this.getAttribute("border_color")},this._getBoolAttribute("force_wall",!1)&&(this._attr.force_wall=!0),"0"===this._attr.connections?this._attr.show_faces=!1:this._attr.connections&&(this._attr.show_faces=!0),!this._attr.id&&!this._attr.name&&!this._attr.href)return FB.log('<fb:like-box> requires one of the "id" or "name" attributes.'),!1;var a=this._attr.height;return a||(this._attr.show_faces||this._attr.stream?(a=95,this._attr.show_faces&&(a+=163),this._attr.stream&&(a+=300),this._attr.header&&"0"!==this._attr.header&&(a+=32)):a=62),this._attr.height=a,this.subscribe("xd.likeboxLiked",FB.bind(this._onLiked,this)),this.subscribe("xd.likeboxUnliked",FB.bind(this._onUnliked,this)),!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"likebox",params:this._attr}},_onLiked:function(){FB.Helper.fireEvent("edge.create",this)},_onUnliked:function(){FB.Helper.fireEvent("edge.remove",this)}}),FB.subclass("XFBML.LiveStream","XFBML.IframeWidget",null,{_visibleAfter:"load",setupAndValidate:function(){return this._attr={app_id:this.getAttribute("event-app-id"),height:this._getPxAttribute("height",500),hideFriendsTab:this.getAttribute("hide-friends-tab"),redesigned:this._getBoolAttribute("redesigned-stream"),width:this._getPxAttribute("width",400),xid:this.getAttribute("xid","default"),always_post_to_friends:this._getBoolAttribute("always-post-to-friends"),via_url:this.getAttribute("via_url")},!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){var a=this._attr.redesigned?"live_stream_box":"livefeed";return this._getBoolAttribute("modern",!1)&&(a="live_stream"),{name:a,params:this._attr}}}),FB.subclass("XFBML.Login","XFBML.Facepile",null,{_visibleAfter:"load",getSize:function(){return{width:this._attr.width,height:94}},getUrlBits:function(){return{name:"login",params:this._attr}}}),FB.subclass("XFBML.LoginButton","XFBML.ButtonElement",null,{setupAndValidate:function(){return this._alreadySetup?!0:(this._alreadySetup=!0,this._attr={autologoutlink:this._getBoolAttribute("auto-logout-link"),length:this._getAttributeFromList("length","short",["long","short"]),onlogin:this.getAttribute("on-login"),perms:this.getAttribute("perms"),scope:this.getAttribute("scope"),registration_url:this.getAttribute("registration-url"),status:"unknown"},this._attr.autologoutlink&&FB.Event.subscribe("auth.statusChange",FB.bind(this.process,this)),this._attr.registration_url&&(FB.Event.subscribe("auth.statusChange",this._saveStatus(this.process,!1)),FB.getLoginStatus(this._saveStatus(this.process,!1))),!0)},getButtonMarkup:function(){var a=this.getOriginalHTML();if(a)return a;if(!this._attr.registration_url)return FB.getAccessToken()&&this._attr.autologoutlink?FB.Intl.tx._("Facebook Logout"):FB.getAccessToken()?"":this._getLoginText();switch(this._attr.status){case"unknown":return this._getLoginText();case"notConnected":case"not_authorized":return FB.Intl.tx._("Register");case"connected":return FB.getAccessToken()&&this._attr.autologoutlink?FB.Intl.tx._("Facebook Logout"):"";default:return FB.log("Unknown status: "+this._attr.status),FB.Intl.tx._("Log In")}},_getLoginText:function(){return FB.Intl.tx._("short"==this._attr.length?"Log In":"Log In with Facebook")},onClick:function(){if(this._attr.registration_url)switch(this._attr.status){case"unknown":FB.ui({method:"auth.logintoFacebook"},FB.bind(function(){FB.bind(FB.getLoginStatus(this._saveStatus(this._authCallback,!0),!0),this)},this));break;case"notConnected":case"not_authorized":window.top.location=this._attr.registration_url;break;case"connected":FB.getAccessToken()&&this._attr.autologoutlink?FB.logout(FB.bind(this._authCallback,this)):this._authCallback();break;default:FB.log("Unknown status: "+this._attr.status)}else FB.getAccessToken()&&this._attr.autologoutlink?FB.logout(FB.bind(this._authCallback,this)):FB.login(FB.bind(this._authCallback,this),{perms:this._attr.perms,scope:this._attr.scope})},_authCallback:function(a){FB.Helper.invokeHandler(this._attr.onlogin,this,[a])},_saveStatus:function(a,b){return FB.bind(function(c){return!b||!this._attr.registration_url||"notConnected"!=this._attr.status&&"not_authorized"!=this._attr.status||"notConnected"!=c.status&&"not_authorized"!=c.status||(window.top.location=this._attr.registration_url),this._attr.status=c.status,a?(a=this.bind(a,this))(c):void 0},this)}}),FB.subclass("XFBML.Name","XFBML.Element",null,{process:function(){if(FB.copy(this,{_uid:this.getAttribute("uid"),_firstnameonly:this._getBoolAttribute("first-name-only"),_lastnameonly:this._getBoolAttribute("last-name-only"),_possessive:this._getBoolAttribute("possessive"),_reflexive:this._getBoolAttribute("reflexive"),_objective:this._getBoolAttribute("objective"),_linked:this._getBoolAttribute("linked",!0),_subjectId:this.getAttribute("subject-id")}),!this._uid)return FB.log('"uid" is a required attribute for <fb:name>'),void this.fire("render");var a=[];a.push(this._firstnameonly?"first_name":this._lastnameonly?"last_name":"name"),this._subjectId&&(a.push("sex"),this._subjectId==FB.Helper.getLoggedInUser()&&(this._reflexive=!0));var b;FB.Event.monitor("auth.statusChange",this.bind(function(){return this.isValid()?(this._uid&&"loggedinuser"!=this._uid||(this._uid=FB.Helper.getLoggedInUser()),void(this._uid&&(b=FB.Helper.isUser(this._uid)?FB.Data._selectByIndex(a,"user","uid",this._uid):FB.Data._selectByIndex(["name","id"],"profile","id",this._uid),b.wait(this.bind(function(a){this._subjectId==this._uid?this._renderPronoun(a[0]):this._renderOther(a[0]),this.fire("render")}))))):(this.fire("render"),!0)}))},_renderPronoun:function(a){var b="",c=this._objective;if(this._subjectId&&(c=!0,this._subjectId===this._uid&&(this._reflexive=!0)),this._uid==FB.Connect.get_loggedInUser()&&this._getBoolAttribute("use-you",!0))b=this._possessive?this._reflexive?"your own":"your":this._reflexive?"yourself":"you";else switch(a.sex){case"male":b=this._possessive?this._reflexive?"his own":"his":this._reflexive?"himself":c?"him":"he";break;case"female":b=this._possessive?this._reflexive?"her own":"her":this._reflexive?"herself":c?"her":"she";break;default:b=this._getBoolAttribute("use-they",!0)?this._possessive?this._reflexive?"their own":"their":this._reflexive?"themselves":c?"them":"they":this._possessive?this._reflexive?"his/her own":"his/her":this._reflexive?"himself/herself":c?"him/her":"he/she"}this._getBoolAttribute("capitalize",!1)&&(b=FB.Helper.upperCaseFirstChar(b)),this.dom.innerHTML=b},_renderOther:function(a){var b="",c="";this._uid==FB.Helper.getLoggedInUser()&&this._getBoolAttribute("use-you",!0)?b=this._reflexive?this._possessive?"your own":"yourself":this._possessive?"your":"you":a&&(null===a.first_name&&(a.first_name=""),null===a.last_name&&(a.last_name=""),this._firstnameonly&&void 0!==a.first_name?b=FB.String.escapeHTML(a.first_name):this._lastnameonly&&void 0!==a.last_name&&(b=FB.String.escapeHTML(a.last_name)),b||(b=FB.String.escapeHTML(a.name)),""!==b&&this._possessive&&(b+="'s")),b||(b=FB.String.escapeHTML(this.getAttribute("if-cant-see","Facebook User"))),b&&(this._getBoolAttribute("capitalize",!1)&&(b=FB.Helper.upperCaseFirstChar(b)),c=a&&this._linked?FB.Helper.getProfileLink(a,b,this.getAttribute("href",null)):b),this.dom.innerHTML=c}}),FB.subclass("XFBML.ProfilePic","XFBML.Element",null,{process:function(){var a=this.getAttribute("size","thumb"),b=FB.XFBML.ProfilePic._sizeToPicFieldMap[a],c=this._getPxAttribute("width"),d=this._getPxAttribute("height"),e=this.dom.style,f=this.getAttribute("uid");this._getBoolAttribute("facebook-logo")&&(b+="_with_logo"),c&&(c+="px",e.width=c),d&&(d+="px",e.height=d);var g=this.bind(function(a){var e=a?a[0]:null,f=e?e[b]:null;f||(f=FB.getDomain("cdn")+FB.XFBML.ProfilePic._defPicMap[b]);var g=(c?"width:"+c+";":"")+(d?"height:"+c+";":""),h=FB.String.format('<img src="{0}" alt="{1}" title="{1}" style="{2}" class="{3}" />',f,e?FB.String.escapeHTML(e.name):"",g,this.dom.className);this._getBoolAttribute("linked",!0)&&(h=FB.Helper.getProfileLink(e,h,this.getAttribute("href",null))),this.dom.innerHTML=h,FB.Dom.addCss(this.dom,"fb_profile_pic_rendered"),this.fire("render")});FB.Event.monitor("auth.statusChange",this.bind(function(){return this.isValid()?("loggedinuser"==this.getAttribute("uid",null)&&(f=FB.Helper.getLoggedInUser()),void(FB._userStatus&&f?FB.Data._selectByIndex(["name",b],FB.Helper.isUser(f)?"user":"profile",FB.Helper.isUser(f)?"uid":"id",f).wait(g):g())):(this.fire("render"),!0)}))}}),FB.provide("XFBML.ProfilePic",{_defPicMap:{pic:"pics/s_silhouette.jpg",pic_big:"pics/d_silhouette.gif",pic_big_with_logo:"pics/d_silhouette_logo.gif",pic_small:"pics/t_silhouette.jpg",pic_small_with_logo:"pics/t_silhouette_logo.gif",pic_square:"pics/q_silhouette.gif",pic_square_with_logo:"pics/q_silhouette_logo.gif",pic_with_logo:"pics/s_silhouette_logo.gif"},_sizeToPicFieldMap:{n:"pic_big",normal:"pic_big",q:"pic_square",s:"pic",small:"pic",square:"pic_square",t:"pic_small",thumb:"pic_small"}}),FB.subclass("XFBML.Question","XFBML.IframeWidget",null,{_visibleAfter:"load",setupAndValidate:function(){return this._attr={channel:this.getChannelUrl(),api_key:FB._apiKey,permalink:this.getAttribute("permalink"),id:this.getAttribute("id"),width:this._getPxAttribute("width",400),height:0,questiontext:this.getAttribute("questiontext"),options:this.getAttribute("options")},this.subscribe("xd.firstVote",FB.bind(this._onInitialVote,this)),this.subscribe("xd.vote",FB.bind(this._onChangedVote,this)),!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"question",params:this._attr}},_onInitialVote:function(a){FB.Event.fire("question.firstVote",this._attr.permalink,a.vote)},_onChangedVote:function(a){FB.Event.fire("question.vote",this._attr.permalink,a.vote)}}),FB.subclass("XFBML.Recommendations","XFBML.IframeWidget",null,{_visibleAfter:"load",_refreshOnAuthChange:!0,setupAndValidate:function(){return this._attr={border_color:this.getAttribute("border-color"),colorscheme:this.getAttribute("color-scheme"),filter:this.getAttribute("filter"),font:this.getAttribute("font"),action:this.getAttribute("action"),linktarget:this.getAttribute("linktarget","_blank"),max_age:this.getAttribute("max_age"),header:this._getBoolAttribute("header"),height:this._getPxAttribute("height",300),site:this.getAttribute("site",location.hostname),width:this._getPxAttribute("width",300)},!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"recommendations",params:this._attr}}}),FB.subclass("XFBML.RecommendationsBar","XFBML.IframeWidget",null,{getUrlBits:function(){return{name:"recommendations_bar",params:this._attr}},setupAndValidate:function(){function a(a,b){function c(){b(),e=null,d=(new Date).getTime()}var d=0,e=null;return function(){if(!e){var b=(new Date).getTime();a>b-d?e=window.setTimeout(c,a-(b-d)):c()}return!0}}function b(a){if(a.match(/^\d+(?:\.\d+)?%$/)){var b=Math.min(Math.max(parseInt(a,10),0),100);a=b/100}else"manual"!=a&&"onvisible"!=a&&(a="onvisible");return a}function c(a){return Math.max(parseInt(a,10)||30,10)}function d(a){return"left"==a||"right"==a?a:FB._localeIsRtl?"left":"right"}this._attr={channel:this.getChannelUrl(),api_key:FB._apiKey,font:this.getAttribute("font"),colorscheme:this.getAttribute("colorscheme"),href:FB.URI.resolve(this.getAttribute("href")),side:d(this.getAttribute("side")),site:this.getAttribute("site"),action:this.getAttribute("action"),ref:this.getAttribute("ref"),max_age:this.getAttribute("max_age"),trigger:b(this.getAttribute("trigger","")),read_time:c(this.getAttribute("read_time")),num_recommendations:parseInt(this.getAttribute("num_recommendations"),10)||2},FB._inPlugin=!0,this._showLoader=!1,this.subscribe("iframe.onload",FB.bind(function(){var a=this.dom.children[0];a.className="fbpluginrecommendationsbar"+this._attr.side},this));var e=FB.bind(function(){return FB.Event.unlisten(window,"scroll",e),FB.Event.unlisten(document.documentElement,"click",e),FB.Event.unlisten(document.documentElement,"mousemove",e),window.setTimeout(FB.bind(this.arbiterInform,this,"platform/plugins/recommendations_bar/action",null,FB.Arbiter.BEHAVIOR_STATE),1e3*this._attr.read_time),!0},this);if(FB.Event.listen(window,"scroll",e),FB.Event.listen(document.documentElement,"click",e),FB.Event.listen(document.documentElement,"mousemove",e),"manual"==this._attr.trigger){var f=FB.bind(function(a){return a==this._attr.href&&(FB.Event.unsubscribe("xfbml.recommendationsbar.read",f),this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,FB.Arbiter.BEHAVIOR_STATE)),!0},this);FB.Event.subscribe("xfbml.recommendationsbar.read",f)}else{var g=a(500,FB.bind(function(){return this.calculateVisibility()&&(FB.Event.unlisten(window,"scroll",g),FB.Event.unlisten(window,"resize",g),this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,FB.Arbiter.BEHAVIOR_STATE)),!0},this));FB.Event.listen(window,"scroll",g),FB.Event.listen(window,"resize",g),g()}this.visible=!1;var h=a(500,FB.bind(function(){return!this.visible&&this.calculateVisibility()?(this.visible=!0,this.arbiterInform("platform/plugins/recommendations_bar/visible")):this.visible&&!this.calculateVisibility()&&(this.visible=!1,this.arbiterInform("platform/plugins/recommendations_bar/invisible")),!0},this));FB.Event.listen(window,"scroll",h),FB.Event.listen(window,"resize",h),h(),this.focused=!0;var i=FB.bind(function(){return this.focused=!this.focused,!0},this);return FB.Event.listen(window,"blur",i),FB.Event.listen(window,"focus",i),this.resize_running=!1,this.animate=!1,this.subscribe("xd.signal_animation",FB.bind(function(){this.animate=!0},this)),!0},getSize:function(){return{height:25,width:"recommend"==this._attr.action?140:96}},calculateVisibility:function(){var a=document.documentElement.clientHeight;if(!this.focused&&window.console&&window.console.firebug)return this.visible;switch(this._attr.trigger){case"manual":return!1;case"onvisible":var b=this.dom.getBoundingClientRect().top;return a>=b;default:var c=window.pageYOffset||document.body.scrollTop,d=document.documentElement.scrollHeight;return(c+a)/d>=this._attr.trigger}},_handleResizeMsg:function(a){this.isValid()&&(a.width&&(this.getIframeNode().style.width=a.width+"px"),a.height&&(this._setNextResize(a.height),this._checkNextResize()),this._makeVisible())},_setNextResize:function(a){this.next_resize=a},_checkNextResize:function(){if(this.next_resize&&!this.resize_running){var a=this.getIframeNode(),b=this.next_resize;this.next_resize=null,this.animate?(this.animate=!1,this.resize_running=!0,FB.Anim.ate(a,{height:b+"px"},330,FB.bind(function(){this.resize_running=!1,this._checkNextResize()},this))):a.style.height=b+"px"}}}),FB.XFBML.RecommendationsBar.markRead=function(a){FB.Event.fire("xfbml.recommendationsbar.read",a||window.location.href)},FB.subclass("XFBML.Registration","XFBML.IframeWidget",null,{_visibleAfter:"immediate",_baseHeight:167,_fieldHeight:28,_skinnyWidth:520,_skinnyBaseHeight:173,_skinnyFieldHeight:52,setupAndValidate:function(){return this._attr={action:this.getAttribute("action"),border_color:this.getAttribute("border-color"),channel_url:this.getChannelUrl(),client_id:FB._apiKey,fb_only:this._getBoolAttribute("fb-only",!1),fb_register:this._getBoolAttribute("fb-register",!1),fields:this.getAttribute("fields"),height:this._getPxAttribute("height"),redirect_uri:this.getAttribute("redirect-uri",window.location.href),no_footer:this._getBoolAttribute("no-footer"),no_header:this._getBoolAttribute("no-header"),onvalidate:this.getAttribute("onvalidate"),width:this._getPxAttribute("width",600),target:this.getAttribute("target")},this._attr.onvalidate&&this.subscribe("xd.validate",this.bind(function(a){var b=FB.JSON.parse(a.value),c=this.bind(function(b){FB.Arbiter.inform("Registration.Validation",{errors:b,id:a.id},'parent.frames["'+this.getIframeNode().name+'"]',"https"==this._attr.channel_url.substring(0,5))}),d=FB.Helper.executeFunctionByName(this._attr.onvalidate,b,c);d&&c(d)})),this.subscribe("xd.authLogin",FB.bind(this._onAuthLogin,this)),this.subscribe("xd.authLogout",FB.bind(this._onAuthLogout,this)),!0},getSize:function(){return{width:this._attr.width,height:this._getHeight()}},_getHeight:function(){if(this._attr.height)return this._attr.height;var a;if(this._attr.fields)try{a=FB.JSON.parse(this._attr.fields)}catch(b){a=this._attr.fields.split(/,/)}else a=["name"];return this._attr.width<this._skinnyWidth?this._skinnyBaseHeight+a.length*this._skinnyFieldHeight:this._baseHeight+a.length*this._fieldHeight},getUrlBits:function(){return{name:"registration",params:this._attr}},getDefaultWebDomain:function(){return"https_www"},_onAuthLogin:function(){FB.getAuthResponse()||FB.getLoginStatus(),FB.Helper.fireEvent("auth.login",this)},_onAuthLogout:function(){FB.getAuthResponse()||FB.getLoginStatus(),FB.Helper.fireEvent("auth.logout",this)}}),FB.subclass("XFBML.ServerFbml","XFBML.IframeWidget",null,{_visibleAfter:"resize",setupAndValidate:function(){if(this._attr={channel_url:this.getChannelUrl(),fbml:this.getAttribute("fbml"),width:this._getPxAttribute("width")},!this._attr.fbml){var a=this.dom.getElementsByTagName("script")[0];a&&"text/fbml"===a.type&&(this._attr.fbml=a.innerHTML)}return this._attr.fbml?!0:(FB.log('<fb:serverfbml> requires the "fbml" attribute.'),!1)},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"serverfbml",params:this._attr}}}),FB.subclass("XFBML.ShareButton","XFBML.Element",null,{process:function(){this._href=this.getAttribute("href",window.location.href),this._type=this.getAttribute("type","icon_link"),FB.Dom.addCss(this.dom,"fb_share_count_hidden"),this._renderButton(!0)},_renderButton:function(a){if(!this.isValid())return void this.fire("render");var b="",c="",d="",e="",f=FB.Intl.tx._("Share"),g="";switch(this._type){case"icon":case"icon_link":e="fb_button_simple",b='<span class="fb_button_text">'+("icon_link"==this._type?f:"&nbsp;")+"</span>",a=!1;break;case"link":b=FB.Intl.tx._("Share on Facebook"),a=!1;break;case"button":b='<span class="fb_button_text">'+f+"</span>",e="fb_button fb_button_small",a=!1;break;case"button_count":b='<span class="fb_button_text">'+f+"</span>",c='<span class="fb_share_count_nub_right">&nbsp;</span><span class="fb_share_count fb_share_count_right">'+this._getCounterMarkup()+"</span>",e="fb_button fb_button_small";break;default:b='<span class="fb_button_text">'+f+"</span>",d='<span class="fb_share_count_nub_top">&nbsp;</span><span class="fb_share_count fb_share_count_top">'+this._getCounterMarkup()+"</span>",e="fb_button fb_button_small",g="fb_share_count_wrapper"}var h=FB.guid();this.dom.innerHTML=FB.String.format('<span class="{0}">{4}<a id="{1}" class="{2}" target="_blank">{3}</a>{5}</span>',g,h,e,b,d,c);var i=document.getElementById(h);i.href=this._href,i.onclick=function(){return FB.ui({method:"stream.share",u:this.href}),!1},a||this.fire("render")},_getCounterMarkup:function(){this._count||(this._count=FB.Data._selectByIndex(["total_count"],"link_stat","url",this._href));var a="0";if(void 0!==this._count.value){if(this._count.value.length>0){var b=this._count.value[0].total_count;b>3&&(FB.Dom.removeCss(this.dom,"fb_share_count_hidden"),a=b>=1e7?Math.round(b/1e6)+"M":b>=1e4?Math.round(b/1e3)+"K":b)}}else this._count.wait(FB.bind(this._renderButton,this,!1));return'<span class="fb_share_count_inner">'+a+"</span>"}}),FB.subclass("XFBML.SocialContext","XFBML.IframeWidget",null,{setupAndValidate:function(){this.getAttribute("size","small");return this._attr={channel:this.getChannelUrl(),width:this._getPxAttribute("width",400),height:this._getPxAttribute("height",100),ref:this.getAttribute("ref"),size:this.getAttribute("size"),keywords:this.getAttribute("keywords"),urls:this.getAttribute("urls")},!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"social_context",params:this._attr}}}),FB.subclass("XFBML.Subscribe","XFBML.EdgeWidget",null,{setupAndValidate:function(){return this._attr={channel:this.getChannelUrl(),api_key:FB._apiKey,font:this.getAttribute("font"),colorscheme:this.getAttribute("colorscheme","light"),href:this.getAttribute("href"),ref:this.getAttribute("ref"),layout:this._getLayout(),show_faces:this._shouldShowFaces(),width:this._getWidgetWidth()},!0},getUrlBits:function(){return{name:"subscribe",params:this._attr}},_getWidgetWidth:function(){var a=this._getLayout(),b={standard:450,box_count:83,button_count:115},c=b[a],d=this._getPxAttribute("width",c),e={standard:{min:225,max:900},box_count:{min:43,max:900},button_count:{min:63,max:900}};return d<e[a].min?d=e[a].min:d>e[a].max&&(d=e[a].max),d}});try{window.FB||function(a){var b,c,d=a,e=a.document,f=a.setTimeout,g=a.setInterval;c=function(a){return a[0]},b=function(a){return a};var h,i;!function(a){var b={},c={},d=["global","require","requireDynamic","requireLazy","module","exports"];h=function(d,e){if(c.hasOwnProperty(d))return c[d];if(!b.hasOwnProperty(d)){if(e)return null;throw new Error("Module "+d+" has not been defined")}for(var f,g=b[d],i=g.deps,j=i.length,k=[],l=0;j>l;l++){switch(i[l]){case"module":f=g;break;case"exports":f=g.exports;break;case"global":f=a;break;case"require":f=h;break;case"requireDynamic":f=h;break;case"requireLazy":f=null;break;default:f=h.call(null,i[l])}k.push(f)}return g.factory.apply(a,k),c[d]=g.exports,g.exports},i=function(a,e,f,g){"function"==typeof f?(b[a]={factory:f,deps:d.concat(e),exports:{}},3===g&&h.call(null,a)):c[a]=f}}(this);var j=function(){return i("ES5ArrayPrototype",[],function(a,b,c,d,e){var f={};f.map=function(a,b){if("function"!=typeof a)throw new TypeError;var c,d=this.length,e=new Array(d);for(c=0;d>c;++c)c in this&&(e[c]=a.call(b,this[c],c,this));return e},f.forEach=function(a,b){f.map.call(this,a,b)},f.filter=function(a,b){if("function"!=typeof a)throw new TypeError;var c,d,e=this.length,f=[];for(c=0;e>c;++c)c in this&&(d=this[c],a.call(b,d,c,this)&&f.push(d));return f},f.every=function(a,b){if("function"!=typeof a)throw new TypeError;for(var c=new Object(this),d=c.length,e=0;d>e;e++)if(e in c&&!a.call(b,c[e],e,c))return!1;return!0},f.some=function(a,b){if("function"!=typeof a)throw new TypeError;for(var c=new Object(this),d=c.length,e=0;d>e;e++)if(e in c&&a.call(b,c[e],e,c))return!0;return!1},f.indexOf=function(a,b){var c=this.length;for(b|=0,0>b&&(b+=c);c>b;b++)if(b in this&&this[b]===a)return b;return-1},e.exports=f}),i("ES5FunctionPrototype",[],function(a,b,c,d,e){var f={};f.bind=function(a){function b(){return c.apply(a,d.concat(Array.prototype.slice.call(arguments)))}if("function"!=typeof this)throw new TypeError("Bind must be called on a function");var c=this,d=Array.prototype.slice.call(arguments,1);return b.displayName="bound:"+(c.displayName||c.name||"(?)"),b.toString=function(){return"bound: "+c},b},e.exports=f}),i("ES5StringPrototype",[],function(a,b,c,d,e){var f={};f.trim=function(){if(null==this)throw new TypeError("String.prototype.trim called on null or undefined");return String.prototype.replace.call(this,/^\s+|\s+$/g,"")},e.exports=f}),i("ES5Array",[],function(a,b,c,d,e){var f={};f.isArray=function(a){return"[object Array]"==Object.prototype.toString.call(a)},e.exports=f}),i("ES5Object",[],function(a,b,c,d,e){var f={};f.create=function(a){var b=typeof a;if("object"!=b&&"function"!=b)throw new TypeError("Object prototype may only be a Object or null");var c=new Function;return c.prototype=a,new c},f.keys=function(a){var b=typeof a;if("object"!=b&&"function"!=b||null===a)throw new TypeError("Object.keys called on non-object");var c=[];for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&c.push(d);var e=!{toString:!0}.propertyIsEnumerable("toString"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","prototypeIsEnumerable","constructor"];if(e)for(var g=0;g<f.length;g++){var h=f[g];Object.prototype.hasOwnProperty.call(a,h)&&c.push(h)}return c},e.exports=f}),i("ES5Date",[],function(a,b,c,d,e){var f={};f.now=function(){return(new Date).getTime()},e.exports=f}),i("JSON3",[],function(a,b,c,d,e){(function(){var a,b,c,d,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w={}.toString,x=e.exports={},y='{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',z=new Date(-0xc782b5b800cec);try{z=-109252==z.getUTCFullYear()&&0===z.getUTCMonth()&&1==z.getUTCDate()&&10==z.getUTCHours()&&37==z.getUTCMinutes()&&6==z.getUTCSeconds()&&708==z.getUTCMilliseconds()}catch(A){}if(z||(t=Math.floor,u=[0,31,59,90,120,151,181,212,243,273,304,334],v=function(a,b){return u[b]+365*(a-1970)+t((a-1969+(b=+(b>1)))/4)-t((a-1901+b)/100)+t((a-1601+b)/400)}),"object"==typeof JSON&&JSON&&(x.stringify=JSON.stringify,x.parse=JSON.parse),d="function"==typeof x.stringify&&!v){(z=function(){return 1}).toJSON=z;try{d="0"===x.stringify(0)&&"0"===x.stringify(new Number)&&'""'==x.stringify(new String)&&x.stringify(w)===c&&x.stringify(c)===c&&x.stringify()===c&&"1"===x.stringify(z)&&"[1]"==x.stringify([z])&&"[null]"==x.stringify([c])&&"null"==x.stringify(null)&&"[null,null,null]"==x.stringify([c,w,null])&&x.stringify({result:[z,!0,!1,null,"\x00\b\n\f\r	"]})==y&&"1"===x.stringify(null,z)&&"[\n 1,\n 2\n]"==x.stringify([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==x.stringify(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==x.stringify(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==x.stringify(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==x.stringify(new Date(-1))}catch(A){d=!1}}if("function"==typeof x.parse)try{if(0===x.parse("0")&&!x.parse(!1)&&(z=x.parse(y),j=5==z.A.length&&1==z.A[0])){try{j=!x.parse('"	"')}catch(A){}if(j)try{j=1!=x.parse("01")}catch(A){}}}catch(A){j=!1}z=y=null,d&&j||((a={}.hasOwnProperty)||(a=function(b){var c,d={};return(d.__proto__=null,d.__proto__={toString:1},d).toString!=w?a=function(a){var b=this.__proto__,c=a in(this.__proto__=null,this);return this.__proto__=b,c}:(c=d.constructor,a=function(a){var b=(this.constructor||c).prototype;return a in this&&!(a in b&&this[a]===b[a])}),d=null,a.call(this,b)}),b=function(b,c){var d,e,f,g,h=0;(d=function(){this.valueOf=0}).prototype.valueOf=0,e=new d;for(f in e)a.call(e,f)&&h++;return d=e=null,h?g=2==h?function(b,c){var d,e={},f="[object Function]"==w.call(b);for(d in b)f&&"prototype"==d||a.call(e,d)||!(e[d]=1)||!a.call(b,d)||c(d)}:function(b,c){var d,e,f="[object Function]"==w.call(b);for(d in b)f&&"prototype"==d||!a.call(b,d)||(e="constructor"===d)||c(d);(e||a.call(b,d="constructor"))&&c(d)}:(e=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],g=function(b,c){var d,f,g="[object Function]"==w.call(b);for(d in b)g&&"prototype"==d||!a.call(b,d)||c(d);for(f=e.length;d=e[--f];a.call(b,d)&&c(d));}),g(b,c)},d||(f={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},g=function(a,b){return("000000"+(b||0)).slice(-a)},h=function(a){for(var b,c='"',d=0;b=a.charAt(d);d++)c+='\\"\b\f\n\r	'.indexOf(b)>-1?f[b]:" ">b?"\\u00"+g(2,b.charCodeAt(0).toString(16)):b;return c+'"'},i=function(d,e,f,j,k,l,m){var n,o,p,q,r,s,u,x,y,z,A,B,C,D,E,F=e[d];if("object"==typeof F&&F)if(n=w.call(F),"[object Date]"!=n||a.call(F,"toJSON"))"function"==typeof F.toJSON&&("[object Number]"!=n&&"[object String]"!=n&&"[object Array]"!=n||a.call(F,"toJSON"))&&(F=F.toJSON(d));else if(F>-1/0&&1/0>F){if(v){for(q=t(F/864e5),o=t(q/365.2425)+1970-1;v(o+1,0)<=q;o++);for(p=t((q-v(o,0))/30.42);v(o,p+1)<=q;p++);q=1+q-v(o,p),r=(F%864e5+864e5)%864e5,s=t(r/36e5)%24,u=t(r/6e4)%60,x=t(r/1e3)%60,y=r%1e3}else o=F.getUTCFullYear(),p=F.getUTCMonth(),q=F.getUTCDate(),s=F.getUTCHours(),u=F.getUTCMinutes(),x=F.getUTCSeconds(),y=F.getUTCMilliseconds();F=(0>=o||o>=1e4?(0>o?"-":"+")+g(6,0>o?-o:o):g(4,o))+"-"+g(2,p+1)+"-"+g(2,q)+"T"+g(2,s)+":"+g(2,u)+":"+g(2,x)+"."+g(3,y)+"Z"}else F=null;if(f&&(F=f.call(e,d,F)),null===F)return"null";if(n=w.call(F),"[object Boolean]"==n)return""+F;if("[object Number]"==n)return F>-1/0&&1/0>F?""+F:"null";if("[object String]"==n)return h(F);if("object"==typeof F){for(C=m.length;C--;)if(m[C]===F)throw TypeError();
if(m.push(F),z=[],D=l,l+=k,"[object Array]"==n){for(B=0,C=F.length;C>B;E||(E=!0),B++)A=i(B,F,f,j,k,l,m),z.push(A===c?"null":A);return E?k?"[\n"+l+z.join(",\n"+l)+"\n"+D+"]":"["+z.join(",")+"]":"[]"}return b(j||F,function(a){var b=i(a,F,f,j,k,l,m);b!==c&&z.push(h(a)+":"+(k?" ":"")+b),E||(E=!0)}),E?k?"{\n"+l+z.join(",\n"+l)+"\n"+D+"}":"{"+z.join(",")+"}":"{}"}},x.stringify=function(a,b,c){var d,e,f,g,h,j;if("function"==typeof b||"object"==typeof b&&b)if("[object Function]"==w.call(b))e=b;else if("[object Array]"==w.call(b))for(f={},g=0,h=b.length;h>g;j=b[g++],("[object String]"==w.call(j)||"[object Number]"==w.call(j))&&(f[j]=1));if(c)if("[object Number]"==w.call(c)){if((c-=c%1)>0)for(d="",c>10&&(c=10);d.length<c;d+=" ");}else"[object String]"==w.call(c)&&(d=c.length<=10?c:c.slice(0,10));return i("",(j={},j[""]=a,j),e,f,d,"",[])}),j||(k=String.fromCharCode,l={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"	",n:"\n",f:"\f",r:"\r"},m=function(){throw r=s=null,SyntaxError()},n=function(){for(var a,b,c,d,e,f=s,g=f.length;g>r;)if(a=f.charAt(r),"	\r\n ".indexOf(a)>-1)r++;else{if("{}[]:,".indexOf(a)>-1)return r++,a;if('"'==a){for(b="@",r++;g>r;)if(a=f.charAt(r)," ">a)m();else if("\\"==a)if(a=f.charAt(++r),'\\"/btnfr'.indexOf(a)>-1)b+=l[a],r++;else if("u"==a){for(c=++r,d=r+4;d>r;r++)a=f.charAt(r),a>="0"&&"9">=a||a>="a"&&"f">=a||a>="A"&&"F">=a||m();b+=k("0x"+f.slice(c,r))}else m();else{if('"'==a)break;b+=a,r++}if('"'==f.charAt(r))return r++,b;m()}else{if(c=r,"-"==a&&(e=!0,a=f.charAt(++r)),a>="0"&&"9">=a){for("0"==a&&(a=f.charAt(r+1),a>="0"&&"9">=a)&&m(),e=!1;g>r&&(a=f.charAt(r),a>="0"&&"9">=a);r++);if("."==f.charAt(r)){for(d=++r;g>d&&(a=f.charAt(d),a>="0"&&"9">=a);d++);d==r&&m(),r=d}if(a=f.charAt(r),"e"==a||"E"==a){for(a=f.charAt(++r),("+"==a||"-"==a)&&r++,d=r;g>d&&(a=f.charAt(d),a>="0"&&"9">=a);d++);d==r&&m(),r=d}return+f.slice(c,r)}if(e&&m(),"true"==f.slice(r,r+4))return r+=4,!0;if("false"==f.slice(r,r+5))return r+=5,!1;if("null"==f.slice(r,r+4))return r+=4,null;m()}}return"$"},o=function(a){var b,c;if("$"==a&&m(),"string"==typeof a){if("@"==a.charAt(0))return a.slice(1);if("["==a){for(b=[];a=n(),"]"!=a;c||(c=!0))c&&(","==a?(a=n(),"]"==a&&m()):m()),","==a&&m(),b.push(o(a));return b}if("{"==a){for(b={};a=n(),"}"!=a;c||(c=!0))c&&(","==a?(a=n(),"}"==a&&m()):m()),(","==a||"string"!=typeof a||"@"!=a.charAt(0)||":"!=n())&&m(),b[a.slice(1)]=o(n());return b}m()}return a},q=function(a,b,d){var e=p(a,b,d);e===c?delete a[b]:a[b]=e},p=function(a,c,d){var e,f=a[c];if("object"==typeof f&&f)if("[object Array]"==w.call(f))for(e=f.length;e--;)q(f,e,d);else b(f,function(a){q(f,a,d)});return d.call(a,c,f)},x.parse=function(a,b){r=0,s=a;var c=o(n());return"$"!=n()&&m(),r=s=null,b&&"[object Function]"==w.call(b)?p((z={},z[""]=c,z),"",b):c}))}).call(this)}),i("ES5",["ES5ArrayPrototype","ES5FunctionPrototype","ES5StringPrototype","ES5Array","ES5Object","ES5Date","JSON3"],function(b,c,d,e,f){function g(a,b,c){var d=o.call(arguments,3),e=c?/\s(.*)\]/.exec(p.call(a).toLowerCase())[1]:a,f=q[e+"."+b]||a[b];return"function"==typeof f?f.apply(a,d):void 0}var h=c("ES5ArrayPrototype"),i=c("ES5FunctionPrototype"),j=c("ES5StringPrototype"),k=c("ES5Array"),l=c("ES5Object"),m=c("ES5Date"),n=c("JSON3"),o=Array.prototype.slice,p=Object.prototype.toString,q={"JSON.stringify":n.stringify,"JSON.parse":n.parse},r={array:h,"function":i,string:j,Object:l,Array:k,Date:m};for(var s in r)if(r.hasOwnProperty(s)){var t=r[s],u=s===s.toLowerCase()?a[s.replace(/^\w/,function(a){return a.toUpperCase()})].prototype:a[s];for(var v in t)if(t.hasOwnProperty(v)){var w=u[v];q[s+"."+v]=w&&/\{\s+\[native code\]\s\}/.test(w)?w:t[v]}}f.exports=g}),j=h("ES5"),j.apply(null,arguments)};i("sdk.RuntimeConfig",[],{locale:"en_US",rtl:!1}),i("SDKConfig",[],{bustCache:!0,tagCountLogRate:.01,errorHandling:{rate:4},usePluginPipe:!0,features:{kill_fragment:!0,xfbml_profile_pic_server:!0,error_handling:{rate:4},e2e_ping_tracking:{rate:1e-6}},api:{mode:"warn",whitelist:["Canvas","Canvas.Prefetcher","Canvas.Prefetcher.addStaticResource","Canvas.Prefetcher.setCollectionMode","Canvas.getPageInfo","Canvas.hideFlashElement","Canvas.scrollTo","Canvas.setAutoGrow","Canvas.setDoneLoading","Canvas.setSize","Canvas.setUrlHandler","Canvas.showFlashElement","Canvas.startTimer","Canvas.stopTimer","Data","Data.process","Data.query","Data.query:wait","Data.waitOn","Data.waitOn:wait","Event","Event.subscribe","Event.unsubscribe","Music.flashCallback","Music.init","Music.send","Payment","Payment.cancelFlow","Payment.continueFlow","Payment.init","Payment.lockForProcessing","Payment.unlockForProcessing","Payment.parse","Payment.setSize","ThirdPartyProvider","ThirdPartyProvider.init","ThirdPartyProvider.sendData","UA","UA.nativeApp","XFBML","XFBML.RecommendationsBar","XFBML.RecommendationsBar.markRead","XFBML.parse","addFriend","api","getAccessToken","getAuthResponse","getLoginStatus","getUserID","init","login","logout","publish","share","ui","ui:subscribe"]},initSitevars:{enableMobileComments:1,iframePermissions:{read_stream:!1,manage_mailbox:!1,manage_friendlists:!1,read_mailbox:!1,publish_checkins:!0,status_update:!0,photo_upload:!0,video_upload:!0,sms:!1,create_event:!0,rsvp_event:!0,offline_access:!0,email:!0,xmpp_login:!1,create_note:!0,share_item:!0,export_stream:!1,publish_stream:!0,publish_likes:!0,ads_management:!1,contact_email:!0,access_private_data:!1,read_insights:!1,read_requests:!1,read_friendlists:!0,manage_pages:!1,physical_login:!1,manage_groups:!1,read_deals:!1}}}),i("UrlMapConfig",[],{www:"www.facebook.com",m:"m.facebook.com",connect:"connect.facebook.net",business:"business.facebook.com",api_https:"api.facebook.com",api_read_https:"api-read.facebook.com",graph_https:"graph.facebook.com",fbcdn_http:"static.ak.fbcdn.net",fbcdn_https:"fbstatic-a.akamaihd.net",cdn_http:"static.ak.facebook.com",cdn_https:"s-static.ak.facebook.com"}),i("XDConfig",[],{XdUrl:"connect/xd_arbiter.php?version=40",Flash:{path:"https://connect.facebook.net/rsrc.php/v1/yR/r/ks_9ZXiQ0GL.swf"},useCdn:!0}),i("CssConfig",[],{rules:'.fb_hidden{position:absolute;top:-10000px;z-index:10001}\n.fb_invisible{display:none}\n.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}\n.fb_reset > div{overflow:hidden}\n.fb_link img{border:none}\n.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}\n.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}\n.fb_dialog_content{background:#fff;color:#333}\n.fb_dialog_close_icon{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px;top:8px\\9;right:7px\\9}\n.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}\n.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}\n.fb_dialog_close_icon:hover{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}\n.fb_dialog_close_icon:active{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}\n.fb_dialog_loader{background-color:#f2f2f2;border:1px solid #606060;font-size:24px;padding:20px}\n.fb_dialog_top_left,\n.fb_dialog_top_right,\n.fb_dialog_bottom_left,\n.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}\n.fb_dialog_top_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}\n.fb_dialog_top_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}\n.fb_dialog_bottom_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}\n.fb_dialog_bottom_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}\n.fb_dialog_vert_left,\n.fb_dialog_vert_right,\n.fb_dialog_horiz_top,\n.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}\n.fb_dialog_vert_left,\n.fb_dialog_vert_right{width:10px;height:100%}\n.fb_dialog_vert_left{margin-left:-10px}\n.fb_dialog_vert_right{right:0;margin-right:-10px}\n.fb_dialog_horiz_top,\n.fb_dialog_horiz_bottom{width:100%;height:10px}\n.fb_dialog_horiz_top{margin-top:-10px}\n.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}\n.fb_dialog_iframe{line-height:0}\n.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3b5998;color:#fff;font-size:14px;font-weight:bold;margin:0}\n.fb_dialog_content .dialog_title > span{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif)\nno-repeat 5px 50%;float:left;padding:5px 0 7px 26px}\nbody.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}\n.fb_dialog.fb_dialog_mobile.loading{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif)\nwhite no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}\n.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}\n#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}\n#fb-root #fb_dialog_ipad_overlay.hidden{display:none}\n.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}\n.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}\n.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%\n}\n.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px\n}\n.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px\n}\n.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6),\ncolor-stop(0.5, #355492), to(#2A4887));border:1px solid #29447e;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset,\nrgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}\n.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}\n.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}\n.fb_dialog_content .dialog_content{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}\n.fb_dialog_content .dialog_footer{background:#f2f2f2;border:1px solid #555;border-top-color:#ccc;height:40px}\n#fb_dialog_loader_close{float:left}\n.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}\n.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}\n.fb_iframe_widget{display:inline-block;position:relative}\n.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}\n.fb_iframe_widget iframe{position:absolute}\n.fb_iframe_widget_lift{z-index:1}\n.fb_hide_iframes iframe{position:relative;left:-10000px}\n.fb_iframe_widget_loader{position:relative;display:inline-block}\n.fb_iframe_widget_fluid{display:inline}\n.fb_iframe_widget_fluid span{width:100%}\n.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}\n.fb_iframe_widget_loader .FB_Loader{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}\n.fb_connect_bar_container div,\n.fb_connect_bar_container span,\n.fb_connect_bar_container a,\n.fb_connect_bar_container img,\n.fb_connect_bar_container strong{background:none;border-spacing:0;border:0;direction:ltr;font-style:normal;font-variant:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal;vertical-align:baseline}\n.fb_connect_bar_container{position:fixed;left:0 !important;right:0 !important;height:42px !important;padding:0 25px !important;margin:0 !important;vertical-align:middle !important;border-bottom:1px solid #333 !important;background:#3b5998 !important;z-index:99999999 !important;overflow:hidden !important}\n.fb_connect_bar_container_ie6{position:absolute;top:expression(document.compatMode=="CSS1Compat"? document.documentElement.scrollTop+"px":body.scrollTop+"px")}\n.fb_connect_bar{position:relative;margin:auto;height:100%;width:100%;padding:6px 0 0 0 !important;background:none;color:#fff !important;font-family:"lucida grande", tahoma, verdana, arial, sans-serif !important;font-size:13px !important;font-style:normal !important;font-variant:normal !important;font-weight:normal !important;letter-spacing:normal !important;line-height:1 !important;text-decoration:none !important;text-indent:0 !important;text-shadow:none !important;text-transform:none !important;white-space:normal !important;word-spacing:normal !important}\n.fb_connect_bar a:hover{color:#fff}\n.fb_connect_bar .fb_profile img{height:30px;width:30px;vertical-align:middle;margin:0 6px 5px 0}\n.fb_connect_bar div a,\n.fb_connect_bar span,\n.fb_connect_bar span a{color:#bac6da;font-size:11px;text-decoration:none}\n.fb_connect_bar .fb_buttons{float:right;margin-top:7px}\n.fbpluginrecommendationsbarleft,\n.fbpluginrecommendationsbarright{position:fixed !important;bottom:0;z-index:999}\n.fbpluginrecommendationsbarleft{left:10px}\n.fbpluginrecommendationsbarright{right:10px}',components:["css:fb.css.base","css:fb.css.dialog","css:fb.css.iframewidget","css:fb.css.connectbarwidget","css:fb.css.plugin.recommendationsbar"]}),i("CanvasPrefetcherConfig",[],{blacklist:[0x83d70a64a992],sampleRate:500}),i("PluginPipeConfig",[],{threshold:0,enabledApps:{209753825810663:1,187288694643718:1}}),i("ConnectBarConfig",[],{imgs:{buttonUrl:"rsrc.php/v2/yY/r/h_Y6u1wrZPW.png",missingProfileUrl:"rsrc.php/v2/yo/r/UlIqmHJn-SK.gif"}}),i("ApiClientConfig",[],{FlashRequest:{swfUrl:"https://connect.facebook.net/rsrc.php/v1/yW/r/PvklbuW2Ycn.swf"}}),i("QueryString",[],function(a,b,c,d,e){function f(a){var b=[];return j(j("Object","keys",!1,a).sort(),"forEach",!0,function(c){var d=a[c];if("undefined"!=typeof d)return null===d?void b.push(c):void b.push(encodeURIComponent(c)+"="+encodeURIComponent(d))}),b.join("&")}function g(a,b){var c={};if(""===a)return c;for(var d=a.split("&"),e=0;e<d.length;e++){var f=d[e].split("=",2),g=decodeURIComponent(f[0]);if(b&&c.hasOwnProperty(g))throw new URIError("Duplicate key: "+g);c[g]=2===f.length?decodeURIComponent(f[1]):null}return c}function h(a,b){return a+(~j(a,"indexOf",!0,"?")?"&":"?")+("string"==typeof b?b:i.encode(b))}var i={encode:f,decode:g,appendToUrl:h};e.exports=i}),i("copyProperties",[],function(a,b,c,d,e){function f(a,b,c,d,e,f){a=a||{};for(var g,h=[b,c,d,e,f],i=0;h[i];){g=h[i++];for(var j in g)a[j]=g[j];g.hasOwnProperty&&g.hasOwnProperty("toString")&&"undefined"!=typeof g.toString&&a.toString!==g.toString&&(a.toString=g.toString)}return a}e.exports=f}),i("ManagedError",[],function(a,b,c,d,e){function f(a,b){Error.prototype.constructor.call(this,a),this.message=a,this.innerError=b}f.prototype=new Error,f.prototype.constructor=f,e.exports=f}),i("AssertionError",["ManagedError"],function(a,b,c,d,e){function f(){g.prototype.constructor.apply(this,arguments)}var g=b("ManagedError");f.prototype=new g,f.prototype.constructor=f,e.exports=f}),i("sprintf",[],function(a,b,c,d,e){function f(a){var b=Array.prototype.slice.call(arguments,1),c=0;return a.replace(/%s/g,function(){return b[c++]})}e.exports=f}),i("Assert",["AssertionError","sprintf"],function(a,b,c,d,e){function f(a,b){if("boolean"!=typeof a||!a)throw new k(b);return a}function g(a,b,c){var d;if(void 0===b)d="undefined";else if(null===b)d="null";else{var e=Object.prototype.toString.call(b);d=/\s(\w*)/.exec(e)[1].toLowerCase()}return f(-1!==j(a,"indexOf",!0,d),c||l("Expression is of type %s, not %s",d,a)),b}function h(a,b,c){return f(b instanceof a,c||"Expression not instance of type"),b}function i(a,b){m["is"+a]=b,m["maybe"+a]=function(a,c){null!=a&&b(a,c)}}var k=b("AssertionError"),l=b("sprintf"),m={isInstanceOf:h,isTrue:f,isTruthy:function(a,b){return f(!!a,b)},type:g,define:function(a,b){a=a.substring(0,1).toUpperCase()+a.substring(1).toLowerCase(),i(a,function(a,c){f(b(a),c)})}};j(["Array","Boolean","Date","Function","Null","Number","Object","Regexp","String","Undefined"],"forEach",!0,function(a){i(a,j(g,"bind",!0,null,a.toLowerCase()))}),e.exports=m}),i("Type",["copyProperties","Assert"],function(a,b,c,d,e){function f(){var a=this.__mixins;if(a)for(var b=0;b<a.length;b++)a[b].apply(this,arguments)}function g(a,b){if(b instanceof a)return!0;if(b instanceof f)for(var c=0;c<b.__mixins.length;c++)if(b.__mixins[c]==a)return!0;return!1}function h(a,b){var c=a.prototype;j("Array","isArray",!1,b)||(b=[b]);for(var d=0;d<b.length;d++){var e=b[d];"function"==typeof e&&(c.__mixins.push(e),e=e.prototype),j(j("Object","keys",!1,e),"forEach",!0,function(a){c[a]=e[a]})}}function i(a,b,c){var d=b&&b.hasOwnProperty("constructor")?b.constructor:function(){this.parent.apply(this,arguments)};if(l.isFunction(d),a&&a.prototype instanceof f==!1)throw new Error("parent type does not inherit from Type");a=a||f;var e=new Function;return e.prototype=a.prototype,d.prototype=new e,k(d.prototype,b),d.prototype.constructor=d,d.parent=a,d.prototype.__mixins=a.prototype.__mixins?Array.prototype.slice.call(a.prototype.__mixins):[],c&&h(d,c),d.prototype.parent=function(){this.parent=a.prototype.parent,a.apply(this,arguments)},d.prototype.parentCall=function(b){return a.prototype[b].apply(this,Array.prototype.slice.call(arguments,1))},d.extend=function(a,b){return i(this,a,b)},d}var k=b("copyProperties"),l=b("Assert");k(f.prototype,{instanceOf:function(a){return g(a,this)}}),k(f,{extend:function(a,b){return"function"==typeof a?i.apply(null,arguments):i(null,a,b)},instanceOf:g}),e.exports=f}),i("ObservableMixin",[],function(a,b,c,d,e){function g(){this.__observableEvents={}}g.prototype={inform:function(a){for(var b=Array.prototype.slice.call(arguments,1),c=Array.prototype.slice.call(this.getSubscribers(a)),d=0;d<c.length;d++)if(null!==c[d])try{c[d].apply(this,b)}catch(e){f(function(){throw e},0)}return this},getSubscribers:function(a){return this.__observableEvents[a]||(this.__observableEvents[a]=[])},clearSubscribers:function(a){return a&&(this.__observableEvents[a]=[]),this},clearAllSubscribers:function(){return this.__observableEvents={},this},subscribe:function(a,b){var c=this.getSubscribers(a);return c.push(b),this},unsubscribe:function(a,b){for(var c=this.getSubscribers(a),d=0;d<c.length;d++)if(c[d]===b){c.splice(d,1);break}return this},monitor:function(a,b){if(!b()){var c=j(function(){b.apply(b,arguments)&&this.unsubscribe(a,c)},"bind",!0,this);this.subscribe(a,c)}return this}},e.exports=g}),i("sdk.Model",["Type","ObservableMixin"],function(a,b,c,d,e){var f=b("Type"),g=b("ObservableMixin"),h=f.extend({constructor:function(a){this.parent();var b={},c=this;j(j("Object","keys",!1,a),"forEach",!0,function(d){b[d]=a[d],c["set"+d]=function(a){return a===b[d]?this:(b[d]=a,c.inform(d+".change",a),c)},c["get"+d]=function(){return b[d]}})}},g);e.exports=h}),i("sdk.Runtime",["sdk.Model","copyProperties","sdk.RuntimeConfig"],function(b,c,d,e,f){var g=c("sdk.Model"),h=d("sdk.RuntimeConfig"),i=c("copyProperties"),j={UNKNOWN:0,PAGETAB:1,CANVAS:2,PLATFORM:4},k=new g({AccessToken:"",ClientID:"",Environment:j.UNKNOWN,Initialized:!1,KidDirectedSite:void 0,Locale:h.locale,LoginStatus:void 0,Rtl:h.rtl,Scope:void 0,Secure:void 0,UseCookie:!1,UserID:"",CookieUserID:""});i(k,{ENVIRONMENTS:j,isEnvironment:function(a){var b=this.getEnvironment();return(a|b)===b}}),function(){var b=/app_runner/.test(a.name)?j.PAGETAB:/iframe_canvas/.test(a.name)?j.CANVAS:j.UNKNOWN;(b|j.PAGETAB)===b&&(b|=j.CANVAS),k.setEnvironment(b)}(),f.exports=k}),i("sdk.Cookie",["QueryString","sdk.Runtime"],function(a,b,c,d,f){function g(a,b,c){a+=j.getClientID();var d=k&&"."!==k;d&&(e.cookie=a+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;",e.cookie=a+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;domain="+location.hostname+";");var f=new Date(c).toGMTString();e.cookie=a+"="+b+(b&&0===c?"":"; expires="+f)+"; path=/"+(d?"; domain="+k:"")}function h(a){a+=j.getClientID();var b=new RegExp("\\b"+a+"=([^;]*)\\b");return b.test(e.cookie)?RegExp.$1:null}var i=b("QueryString"),j=b("sdk.Runtime"),k=null,l={setDomain:function(a){k=a;var b=i.encode({base_domain:k&&"."!==k?k:""}),c=new Date;c.setFullYear(c.getFullYear()+1),g("fbm_",b,c.getTime())},getDomain:function(){return k},loadMeta:function(){var a=h("fbm_");if(a){var b=i.decode(a);return k||(k=b.base_domain),b}},loadSignedRequest:function(){return h("fbsr_")},setSignedRequestCookie:function(a,b){if(!a)throw new Error("Value passed to Cookie.setSignedRequestCookie was empty.");g("fbsr_",a,b)},clearSignedRequestCookie:function(){g("fbsr_","",0)},setRaw:g};f.exports=l}),i("guid",[],function(a,b,c,d,e){function f(){return"f"+(Math.random()*(1<<30)).toString(16).replace(".","")}e.exports=f}),i("hasNamePropertyBug",["guid"],function(a,b,c,d,f){function g(){var a=e.createElement("form"),b=a.appendChild(e.createElement("input"));return b.name=j(),i=b!==a.elements[b.name],a=b=null,i}function h(){return"undefined"==typeof i?g():i}var i,j=b("guid");f.exports=h}),i("wrapFunction",[],function(a,b,c,d,e){function f(a,b,c){return b=b||"default",function(){var d=b in g?g[b](a,c):a;return d.apply(this,arguments)}}var g={};f.setWrapper=function(a,b){b=b||"default",g[b]=a},e.exports=f}),i("DOMEventListener",["wrapFunction"],function(b,c,d,e,f){var g,h,i=c("wrapFunction");a.addEventListener?(g=function(a,b,c){c.wrapper=i(c,"entry","DOMEventListener.add "+b),a.addEventListener(b,c.wrapper,!1)},h=function(a,b,c){a.removeEventListener(b,c.wrapper,!1)}):a.attachEvent?(g=function(a,b,c){c.wrapper=i(c,"entry","DOMEventListener.add "+b),a.attachEvent("on"+b,c.wrapper)},h=function(a,b,c){a.detachEvent("on"+b,c.wrapper)}):h=g=function(){};var j={add:function(a,b,c){return g(a,b,c),{remove:function(){h(a,b,c),a=null}}},remove:h};f.exports=j}),i("sdk.createIframe",["copyProperties","guid","hasNamePropertyBug","DOMEventListener"],function(a,b,c,d,f){function g(a){a=h({},a);var b,c=a.name||i(),d=a.root,f=a.style||{border:"none"},g=a.url,l=a.onload;j()?b=e.createElement('<iframe name="'+c+'"/>'):(b=e.createElement("iframe"),b.name=c),delete a.style,delete a.name,delete a.url,delete a.root,delete a.onload;var m=h({frameBorder:0,allowTransparency:!0,scrolling:"no"},a);m.width&&(b.width=m.width+"px"),m.height&&(b.height=m.height+"px"),delete m.height,delete m.width;for(var n in m)m.hasOwnProperty(n)&&b.setAttribute(n,m[n]);if(h(b.style,f),b.src="javascript:false",d.appendChild(b),l)var o=k.add(b,"load",function(){o.remove(),l()});return b.src=g,b}var h=b("copyProperties"),i=b("guid"),j=b("hasNamePropertyBug"),k=b("DOMEventListener");f.exports=g}),i("DOMWrapper",[],function(a,b,c,f,g){var h,i,j={setRoot:function(a){h=a},getRoot:function(){return h||e.body},setWindow:function(a){i=a},getWindow:function(){return i||d}};g.exports=j}),i("sdk.feature",["SDKConfig"],function(a,b,c,d,e){function f(a,b){if(g.features&&a in g.features){var c=g.features[a];return"object"==typeof c&&"number"==typeof c.rate?c.rate&&100*Math.random()<=c.rate?c.value||!0:c.value?null:!1:c}return"undefined"!=typeof b?b:null}var g=c("SDKConfig");e.exports=f}),i("UserAgent",[],function(a,b,c,d,f){function g(){if(!w){w=!0;var a=navigator.userAgent,b=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(a),c=/(Mac OS X)|(Windows)|(Linux)/.exec(a);if(s=/\b(iPhone|iP[ao]d)/.exec(a),t=/\b(iP[ao]d)/.exec(a),q=/Android/i.exec(a),u=/FBAN\/\w+;/i.exec(a),v=/Mobile/i.exec(a),r=!!/Win64/.exec(a),b){h=b[1]?parseFloat(b[1]):b[5]?parseFloat(b[5]):0/0,h&&e&&e.documentMode&&(h=e.documentMode);var d=/(?:Trident\/(\d+.\d+))/.exec(a);m=d?parseFloat(d[1])+4:h,i=b[2]?parseFloat(b[2]):0/0,j=b[3]?parseFloat(b[3]):0/0,k=b[4]?parseFloat(b[4]):0/0,k?(b=/(?:Chrome\/(\d+\.\d+))/.exec(a),l=b&&b[1]?parseFloat(b[1]):0/0):l=0/0}else h=i=j=l=k=0/0;if(c){if(c[1]){var f=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(a);n=f?parseFloat(f[1].replace("_",".")):!0}else n=!1;o=!!c[2],p=!!c[3]}else n=o=p=!1}}var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=!1,x={ie:function(){return g()||h},ieCompatibilityMode:function(){return g()||m>h},ie64:function(){return x.ie()&&r},firefox:function(){return g()||i},opera:function(){return g()||j},webkit:function(){return g()||k},safari:function(){return x.webkit()},chrome:function(){return g()||l},windows:function(){return g()||o},osx:function(){return g()||n},linux:function(){return g()||p},iphone:function(){return g()||s},mobile:function(){return g()||s||t||q||v},nativeApp:function(){return g()||u},android:function(){return g()||q},ipad:function(){return g()||t}};f.exports=x}),i("sdk.getContextType",["UserAgent","sdk.Runtime"],function(a,b,c,d,e){function f(){return g.nativeApp()?3:g.mobile()?2:h.isEnvironment(h.ENVIRONMENTS.CANVAS)?5:1}var g=b("UserAgent"),h=b("sdk.Runtime");e.exports=f}),i("UrlMap",["UrlMapConfig"],function(a,b,c,d,e){var f=b("UrlMapConfig"),g={resolve:function(a,b){var c="undefined"==typeof b?location.protocol.replace(":",""):b?"https":"http";return a in f?c+"://"+f[a]:"undefined"==typeof b&&a+"_"+c in f?c+"://"+f[a+"_"+c]:b!==!0&&a+"_http"in f?"http://"+f[a+"_http"]:b!==!1&&a+"_https"in f?"https://"+f[a+"_https"]:void 0}};e.exports=g}),i("sdk.Impressions",["guid","QueryString","sdk.Runtime","UrlMap"],function(a,b,c,d,e){function f(a){var b=i.getClientID();!a.api_key&&b&&(a.api_key=b),a.kid_directed_site=i.getKidDirectedSite();var c=new Image;c.src=h.appendToUrl(k.resolve("www",!0)+"/impression.php/"+g()+"/",a)}var g=b("guid"),h=b("QueryString"),i=b("sdk.Runtime"),k=b("UrlMap"),l={log:function(a,b){b.source||(b.source="jssdk"),f({lid:a,payload:j("JSON","stringify",!1,b)})},impression:f};e.exports=l}),i("Log",["sprintf"],function(b,c,d,e,f){function g(b,c){var d=Array.prototype.slice.call(arguments,2),e=h.apply(null,d),f=a.console;f&&k.level>=c&&f[b in f?b:"log"](e)}var h=c("sprintf"),i={DEBUG:3,INFO:2,WARNING:1,ERROR:0},k={level:-1,Level:i,debug:j(g,"bind",!0,null,"debug",i.DEBUG),info:j(g,"bind",!0,null,"info",i.INFO),warn:j(g,"bind",!0,null,"warn",i.WARNING),error:j(g,"bind",!0,null,"error",i.ERROR)};f.exports=k}),i("Base64",[],function(a,b,c,d,e){function f(a){return a=a.charCodeAt(0)<<16|a.charCodeAt(1)<<8|a.charCodeAt(2),String.fromCharCode(h.charCodeAt(a>>>18),h.charCodeAt(a>>>12&63),h.charCodeAt(a>>>6&63),h.charCodeAt(63&a))}function g(a){return a=i.charCodeAt(a.charCodeAt(0)-43)<<18|i.charCodeAt(a.charCodeAt(1)-43)<<12|i.charCodeAt(a.charCodeAt(2)-43)<<6|i.charCodeAt(a.charCodeAt(3)-43),String.fromCharCode(a>>>16,a>>>8&255,255&a)}var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=">___?456789:;<=_______\x00\b	\n\f\r______ !\"#$%&'()*+,-./0123",k={encode:function(a){a=unescape(encodeURI(a));var b=(a.length+2)%3;return a=(a+"\x00\x00".slice(b)).replace(/[\s\S]{3}/g,f),a.slice(0,a.length+b-2)+"==".slice(b)},decode:function(a){a=a.replace(/[^A-Za-z0-9+\/]/g,"");var b=a.length+3&3;a=(a+"AAA".slice(b)).replace(/..../g,g),a=a.slice(0,a.length+b-3);try{return decodeURIComponent(escape(a))}catch(c){throw new Error("Not valid UTF-8")}},encodeObject:function(a){return k.encode(j("JSON","stringify",!1,a))},decodeObject:function(a){return j("JSON","parse",!1,k.decode(a))},encodeNums:function(a){return String.fromCharCode.apply(String,j(a,"map",!0,function(a){return h.charCodeAt((a|-(a>63))&-(a>0)&63)}))}};e.exports=k}),i("sdk.SignedRequest",["Base64"],function(a,b,c,d,e){function f(a){if(!a)return null;var b=a.split(".",2)[1].replace(/\-/g,"+").replace(/\_/g,"/");return g.decodeObject(b)}var g=b("Base64"),h={parse:f};e.exports=h}),i("URL",["Assert","copyProperties","QueryString","Log"],function(a,b,c,d,f){function g(a){if(h.isString(a,"The passed argument was of invalid type."),m.test(a))throw new URIError("The passed argument could not be parsed as a url.");if(this instanceof g==!1)return new g(a);var b=a.replace(n,function(b){return k.warn('Escaping unescaped character \\x%s from "%s"',b.charCodeAt(0).toString(16),a),encodeURIComponent(b)}).match(l);if(!a||!b)throw new URIError("The passed argument could not be parsed as a url.");var c=!!location.hostname;if(this.setProtocol(b[4]||(c?location.protocol.replace(/:/,""):"")),this.setDomain(b[6]||location.hostname),this.setPort(b[8]||(c&&!b[6]?location.port:"")),this.setPath(b[9]||""),this.setSearch(b[11]||""),this.setFragment(b[13]||""),"/"!=this._path.substring(0,1)&&(this._path="/"+this._path),this._domain&&!o.test(decodeURIComponent(this._domain.toLowerCase())))throw k.error("Invalid characters found in domain name: %s",this._domain),new URIError("Domain contained invalid characters.")}var h=b("Assert"),i=b("copyProperties"),j=b("QueryString"),k=b("Log"),l=new RegExp("((((\\w+):)?//)(.*?@)?([^~/?#:]+)(:(\\d+))?)?([^\\?$#]+)?(\\?([^$#]+))?(#([^$]+))?"),m=/[\0\\]/,n=/[^\w\-\.,;\/?:@=&%#$~+!*'\[\]()]+/g,o=/^[a-z0-9.][a-z0-9\-\.]+[a-z0-9.]$/,p=/\.facebook\.com$/;i(g.prototype,{constructor:g,getProtocol:function(){return this._protocol},setProtocol:function(a){return this._protocol=a,this},getDomain:function(){return this._domain},setDomain:function(a){return this._domain=a,this},getPort:function(){return this._port},setPort:function(a){return this._port=a,this},getPath:function(){return this._path},setPath:function(a){return this._path=a,this},getSearch:function(){return this._search},setSearch:function(a){return this._search=a,this},getFragment:function(){return this._fragment},setFragment:function(a){return this._fragment=a,this},getParsedSearch:function(){return j.decode(this._search)},getParsedFragment:function(){return j.decode(this._fragment)},isFacebookURL:function(){return p.test(this._domain)},toString:function(){return(this._protocol?this._protocol+":":"")+(this._domain?"//"+this._domain:"")+(this._port?":"+this._port:"")+this._path+(this._search?"?"+this._search:"")+(this._fragment?"#"+this._fragment:"")},valueOf:function(){return this.toString()}}),i(g,{getCurrent:function(){return new g(location.href)},getReferrer:function(){return e.referrer?new g(e.referrer):null}}),f.exports=g}),i("sdk.domReady",[],function(b,c,d,g,h){function i(){if(k){for(var a;a=k.shift();)a();k=null}}function j(a){return k?void k.push(a):void a()
}var k,l="readyState"in e?/loaded|complete/.test(e.readyState):!!e.body;if(!l&&(k=[],e.addEventListener?(e.addEventListener("DOMContentLoaded",i,!1),a.addEventListener("load",i,!1)):e.attachEvent&&(e.attachEvent("onreadystatechange",i),a.attachEvent("onload",i)),e.documentElement.doScroll&&a==a.top)){var m=function(){try{e.documentElement.doScroll("left")}catch(a){return void f(m,0)}i()};m()}h.exports=j},3),i("sdk.Content",["sdk.domReady","Log","UserAgent"],function(a,b,c,d,f){var g,h=b("sdk.domReady"),i=b("Log"),j=b("UserAgent"),k={append:function(a,b){if(b||(g?b=g:(g=b=e.getElementById("fb-root"),b||(i.warn('The "fb-root" div has not been created, auto-creating'),g=b=e.createElement("div"),b.id="fb-root",j.ie()||!e.body?h(function(){e.body.appendChild(b)}):e.body.appendChild(b)),b.className+=" fb_reset")),"string"==typeof a){var c=e.createElement("div");return b.appendChild(c).innerHTML=a,c}return b.appendChild(a)},appendHidden:function(a){if(!b){var b=e.createElement("div"),c=b.style;c.position="absolute",c.top="-10000px",c.width=c.height=0,b=k.append(b)}return k.append(a,b)},submitToTarget:function(a,b){var c=e.createElement("form");c.action=a.url,c.target=a.target,c.method=b?"GET":"POST",k.appendHidden(c);for(var d in a.params)if(a.params.hasOwnProperty(d)){var f=a.params[d];if(null!==f&&void 0!==f){var g=e.createElement("input");g.name=d,g.value=f,c.appendChild(g)}}c.submit(),c.parentNode.removeChild(c)}};f.exports=k}),i("sdk.Event",[],function(a,b,c,d,e){var f={subscribers:function(){return this._subscribersMap||(this._subscribersMap={}),this._subscribersMap},subscribe:function(a,b){var c=this.subscribers();c[a]?c[a].push(b):c[a]=[b]},unsubscribe:function(a,b){var c=this.subscribers()[a];c&&j(c,"forEach",!0,function(a,d){a==b&&(c[d]=null)})},monitor:function(a,b){if(!b()){var c=this,d=function(){b.apply(b,arguments)&&c.unsubscribe(a,d)};this.subscribe(a,d)}},clear:function(a){delete this.subscribers()[a]},fire:function(a){var b=Array.prototype.slice.call(arguments,1),c=this.subscribers()[a];c&&j(c,"forEach",!0,function(a){a&&a.apply(this,b)})}};e.exports=f}),i("Queue",["copyProperties"],function(a,b,c,d,e){function g(a){"use strict";this._opts=h({interval:0,processor:null},a),this._queue=[],this._stopped=!0}var h=b("copyProperties"),i={};g.prototype._dispatch=function(){"use strict";if(!this._stopped&&0!==this._queue.length){if(!this._opts.processor)throw this._stopped=!0,new Error("No processor available");if(this._opts.interval)this._opts.processor.call(this,this._queue.shift()),this._timeout=f(j(this._dispatch,"bind",!0,this),this._opts.interval);else for(;this._queue.length;)this._opts.processor.call(this,this._queue.shift())}},g.prototype.enqueue=function(a){"use strict";return this._opts.processor&&!this._stopped?this._opts.processor.call(this,a):this._queue.push(a),this},g.prototype.start=function(a){"use strict";return a&&(this._opts.processor=a),this._stopped=!1,this._dispatch(),this},g.prototype.dispatch=function(){"use strict";this._dispatch(!0)},g.prototype.stop=function(a){"use strict";return this._stopped=!0,a&&clearTimeout(this._timeout),this},g.prototype.merge=function(a,b){"use strict";return this._queue[b?"unshift":"push"].apply(this._queue,a._queue),a._queue=[],this._dispatch(),this},g.prototype.getLength=function(){"use strict";return this._queue.length},g.get=function(a,b){"use strict";var c;return c=a in i?i[a]:i[a]=new g(b)},g.exists=function(a){"use strict";return a in i},g.remove=function(a){"use strict";return delete i[a]},e.exports=g}),i("JSONRPC",["copyProperties","Log"],function(a,b,c,d,e){function g(a){this._counter=0,this._callbacks={},this.remote=j(function(a){return this._context=a,this.remote},"bind",!0,this),this.local={},this._write=a}var h=b("copyProperties"),i=b("Log");h(g.prototype,{stub:function(a){this.remote[a]=j(function(){var b=Array.prototype.slice.call(arguments),c={jsonrpc:"2.0",method:a};"function"==typeof b[b.length-1]&&(c.id=++this._counter,this._callbacks[c.id]=b.pop()),c.params=b,this._write(j("JSON","stringify",!1,c),this._context||{method:a})},"bind",!0,this)},read:function(a,b){var c=j("JSON","parse",!1,a),d=c.id;if(!c.method){if(!this._callbacks[d])return void i.warn("Could not find callback %s",d);var e=this._callbacks[d];return delete this._callbacks[d],delete c.id,delete c.jsonrpc,void e(c)}var g,h=this,k=this.local[c.method];if(g=d?function(a,c){var e={jsonrpc:"2.0",id:d};e[a]=c,f(function(){h._write(j("JSON","stringify",!1,e),b)},0)}:function(){},!k)return i.error('Method "%s" has not been defined',c.method),void g("error",{code:-32601,message:"Method not found",data:c.method});c.params.push(j(g,"bind",!0,null,"result")),c.params.push(j(g,"bind",!0,null,"error"));try{var l=k.apply(b||null,c.params);"undefined"!=typeof l&&g("result",l)}catch(m){i.error("Invokation of RPC method %s resulted in the error: %s",c.method,m.message),g("error",{code:-32603,message:"Internal error",data:m.message})}}}),e.exports=g}),i("sdk.RPC",["Assert","JSONRPC","Queue"],function(a,b,c,d,e){var f=b("Assert"),g=b("JSONRPC"),h=b("Queue"),i=new h,k=new g(function(a){i.enqueue(a)}),l={local:k.local,remote:k.remote,stub:j(k.stub,"bind",!0,k),setInQueue:function(a){f.isInstanceOf(h,a),a.start(function(a){k.read(a)})},getOutQueue:function(){return i}};e.exports=l}),i("emptyFunction",["copyProperties"],function(a,b,c,d,e){function f(a){return function(){return a}}function g(){}var h=b("copyProperties");h(g,{thatReturns:f,thatReturnsFalse:f(!1),thatReturnsTrue:f(!0),thatReturnsNull:f(null),thatReturnsThis:function(){return this},thatReturnsArgument:function(a){return a}}),e.exports=g}),i("htmlSpecialChars",[],function(a,b,c,d,e){function f(a){return"undefined"!=typeof a&&null!==a&&a.toString?a===!1?"0":a===!0?"1":a.toString().replace(g,"&amp;").replace(j,"&quot;").replace(k,"&#039;").replace(h,"&lt;").replace(i,"&gt;"):""}var g=/&/g,h=/</g,i=/>/g,j=/"/g,k=/'/g;e.exports=f}),i("Flash",["DOMEventListener","DOMWrapper","QueryString","UserAgent","copyProperties","guid","htmlSpecialChars"],function(b,c,d,e,f){function g(a){var b=t.getElementById(a);b&&b.parentNode.removeChild(b),delete s[a]}function h(){for(var a in s)s.hasOwnProperty(a)&&g(a)}function i(a){return a.replace(/\d+/g,function(a){return"000".substring(a.length)+a})}function j(b){k||(o.ie()>=9&&l.add(a,"unload",h),k=!0),s[b]=b}var k,l=c("DOMEventListener"),m=c("DOMWrapper"),n=c("QueryString"),o=c("UserAgent"),p=c("copyProperties"),q=c("guid"),r=c("htmlSpecialChars"),s={},t=m.getWindow().document,u={embed:function(a,b,c,d){var e=q();a=r(a).replace(/&amp;/g,"&"),c=p({allowscriptaccess:"always",flashvars:d,movie:a},c||{}),"object"==typeof c.flashvars&&(c.flashvars=n.encode(c.flashvars));var f=[];for(var g in c)c.hasOwnProperty(g)&&c[g]&&f.push('<param name="'+r(g)+'" value="'+r(c[g])+'">');var h=b.appendChild(t.createElement("span")),i="<object "+(o.ie()?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ':'type="application/x-shockwave-flash"')+'data="'+a+'" '+(c.height?'height="'+c.height+'" ':"")+(c.width?'width="'+c.width+'" ':"")+'id="'+e+'">'+f.join("")+"</object>";h.innerHTML=i;var k=h.firstChild;return j(e),k},remove:g,getVersion:function(){var a,b="Shockwave Flash",c="application/x-shockwave-flash",d="ShockwaveFlash.ShockwaveFlash";if(navigator.plugins&&"object"==typeof navigator.plugins[b]){var e=navigator.plugins[b].description;e&&navigator.mimeTypes&&navigator.mimeTypes[c]&&navigator.mimeTypes[c].enabledPlugin&&(a=e.match(/\d+/g))}if(!a)try{a=new ActiveXObject(d).GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),a=Array.prototype.slice.call(a,1)}catch(f){}return a},checkMinVersion:function(a){var b=u.getVersion();return b?i(b.join("."))>=i(a):!1},isAvailable:function(){return!!u.getVersion()}};f.exports=u}),i("dotAccess",[],function(a,b,c,d,e){function f(a,b,c){var d=b.split(".");do{var e=d.shift();a=a[e]||c&&(a[e]={})}while(d.length&&a);return a}e.exports=f}),i("GlobalCallback",["DOMWrapper","dotAccess","guid","wrapFunction"],function(a,b,c,d,e){var f,g,h=b("DOMWrapper"),i=b("dotAccess"),j=b("guid"),k=b("wrapFunction"),l={setPrefix:function(a){f=i(h.getWindow(),a,!0),g=a},create:function(a,b){f||this.setPrefix("__globalCallbacks");var c=j();return f[c]=k(a,"entry",b||"GlobalCallback"),g+"."+c},remove:function(a){var b=a.substring(g.length+1);delete f[b]}};e.exports=l}),i("XDM",["DOMEventListener","DOMWrapper","emptyFunction","Flash","GlobalCallback","guid","Log","UserAgent","wrapFunction"],function(a,b,c,d,e){function g(a){for(var b={},c=a.length,d=r.transports;c--;)b[a[c]]=1;for(c=d.length;c--;){var e=d[c],f=q[e];if(!b[e]&&f.isAvailable())return e}}var h=b("DOMEventListener"),i=b("DOMWrapper"),j=b("emptyFunction"),k=b("Flash"),l=b("GlobalCallback"),m=b("guid"),n=b("Log"),o=b("UserAgent"),p=b("wrapFunction"),q={},r={transports:[]},s=i.getWindow(),t={register:function(a,b){n.debug("Registering %s as XDM provider",a),r.transports.push(a),q[a]=b},create:function(a){if(!a.whenReady&&!a.onMessage)throw n.error("An instance without whenReady or onMessage makes no sense"),new Error("An instance without whenReady or onMessage makes no sense");a.channel||(n.warn("Missing channel name, selecting at random"),a.channel=m()),a.whenReady||(a.whenReady=j),a.onMessage||(a.onMessage=j);var b=a.transport||g(a.blacklist||[]),c=q[b];return c&&c.isAvailable()?(n.debug("%s is available",b),c.init(a),b):void 0}};t.register("flash",function(){var a,b,c=!1,d=!1,e=15e3;return{isAvailable:function(){return k.checkMinVersion("8.0.24")},init:function(g){n.debug("init flash: "+g.channel);var h={send:function(b,c,d,e){n.debug("sending to: %s (%s)",c,e),a.postMessage(b,c,e)}};if(c)return void g.whenReady(h);var i=g.root.appendChild(s.document.createElement("div")),j=l.create(function(){l.remove(j),clearTimeout(b),n.info("xdm.swf called the callback");var c=l.create(function(a,b){a=decodeURIComponent(a),b=decodeURIComponent(b),n.debug("received message %s from %s",a,b),g.onMessage(a,b)},"xdm.swf:onMessage");a.init(g.channel,c),g.whenReady(h)},"xdm.swf:load");a=k.embed(g.flashUrl,i,null,{protocol:location.protocol.replace(":",""),host:location.host,callback:j,log:d}),b=f(function(){n.warn("The Flash component did not load within %s ms - verify that the container is not set to hidden or invisible using CSS as this will cause some browsers to not load the components",e)},e),c=!0}}}()),t.register("postmessage",function(){var a=!1;return{isAvailable:function(){return!!s.postMessage},init:function(b){n.debug("init postMessage: "+b.channel);var c="_FB_"+b.channel,d={send:function(a,b,c,d){if(s===c)throw n.error("Invalid windowref, equal to window (self)"),new Error;n.debug("sending to: %s (%s)",b,d);var e=function(){c.postMessage("_FB_"+d+a,b)};8==o.ie()||o.ieCompatibilityMode()?f(e,0):e()}};return a?void b.whenReady(d):(h.add(s,"message",p(function(a){var d=a.data,e=a.origin||"native";return"string"!=typeof d?void n.warn("Received message of type %s from %s, expected a string",typeof d,e):(n.debug("received message %s from %s",d,e),d.substring(0,c.length)==c&&(d=d.substring(c.length)),void b.onMessage(d,e))},"entry","onMessage")),b.whenReady(d),void(a=!0))}}}()),e.exports=t}),i("sdk.XD",["sdk.Content","sdk.createIframe","sdk.Event","guid","Log","QueryString","Queue","sdk.RPC","sdk.Runtime","UrlMap","URL","XDM","XDConfig"],function(a,b,c,d,f){function g(a){t.info("Remote XD can talk to facebook.com (%s)",a),x.setEnvironment("canvas"===a?x.ENVIRONMENTS.CANVAS:x.ENVIRONMENTS.PAGETAB)}function h(a,b){if(!b)throw t.error("No senderOrigin"),new Error;var c=/^https?/.exec(b)[0];switch(a.xd_action){case"proxy_ready":var d,e;"https"==c?(d=E,e=n):(d=D,e=m),a.registered&&(g(a.registered),C=d.merge(C)),t.info("Proxy ready, starting queue %s containing %s messages",c+"ProxyQueue",d.getLength()),d.start(function(a){o.send("string"==typeof a?a:u.encode(a),b,e.contentWindow,G+"_"+c)});break;case"plugin_ready":if(t.info("Plugin %s ready, protocol: %s",a.name,c),K[a.name]={protocol:c},v.exists(a.name)){var f=v.get(a.name);t.debug("Enqueuing %s messages for %s in %s",f.getLength(),a.name,c+"ProxyQueue"),("https"==c?E:D).merge(f)}}a.data&&i(a.data,b)}function i(a,b){if(!b||"native"===b||z(b).isFacebookURL()){if("string"==typeof a){if(/^FB_RPC:/.test(a))return void L.enqueue(a.substring(7));if("{"==a.substring(0,1))try{a=j("JSON","parse",!1,a)}catch(c){return void t.warn("Failed to decode %s as JSON",a)}else a=u.decode(a)}if(b||a.xd_sig==F&&(b=a.xd_origin),a.xd_action)return void h(a,b);if(a.access_token&&x.setSecure(/^https/.test(H)),a.cb){var d=M._callbacks[a.cb];M._forever[a.cb]||delete M._callbacks[a.cb],d&&d(a)}}}function k(a,b){if("facebook"==a)b.relation="parent.parent",C.enqueue(b);else{b.relation='parent.frames["'+a+'"]';var c=K[a];c?(t.debug("Enqueuing message for plugin %s in %s",a,c.protocol+"ProxyQueue"),("https"==c.protocol?E:D).enqueue(b)):(t.debug("Buffering message for plugin %s",a),v.get(a).enqueue(b))}}function l(a){if(!I){var b=p.appendHidden(e.createElement("div")),c=B.create({blacklist:null,root:b,channel:G,flashUrl:A.Flash.path,whenReady:function(d){o=d;var e={channel:G,origin:location.protocol+"//"+location.host,transport:c,xd_name:a},f="/"+A.XdUrl+"#"+u.encode(e),g=A.useCdn?y.resolve("cdn",!1):"http://www.facebook.com",h=A.useCdn?y.resolve("cdn",!0):"https://www.facebook.com";x.getSecure()!==!0&&(m=q({url:g+f,name:"fb_xdm_frame_http",id:"fb_xdm_frame_http",root:b,"aria-hidden":!0,title:J,"tab-index":-1})),n=q({url:h+f,name:"fb_xdm_frame_https",id:"fb_xdm_frame_https",root:b,"aria-hidden":!0,title:J,"tab-index":-1})},onMessage:i});I=!0}}var m,n,o,p=b("sdk.Content"),q=b("sdk.createIframe"),r=b("sdk.Event"),s=b("guid"),t=b("Log"),u=b("QueryString"),v=b("Queue"),w=b("sdk.RPC"),x=b("sdk.Runtime"),y=b("UrlMap"),z=b("URL"),A=c("XDConfig"),B=b("XDM"),C=new v,D=new v,E=new v,F=s(),G=s(),H=location.protocol+"//"+location.host,I=!1,J="Facebook Cross Domain Communication Frame",K={},L=new v;w.setInQueue(L),w.getOutQueue().start(function(a){k("facebook","FB_RPC:"+a)});var M={rpc:w,_callbacks:{},_forever:{},_channel:G,_origin:H,onMessage:i,recv:i,init:l,sendToFacebook:k,inform:function(a,b,c,d){k("facebook",{method:a,params:j("JSON","stringify",!1,b||{}),behavior:d||"p",relation:c})},handler:function(a,b,c,d){var e=A.useCdn?y.resolve("cdn","https:"==location.protocol):location.protocol+"//www.facebook.com";return e+"/"+A.XdUrl+"#"+u.encode({cb:this.registerCallback(a,c,d),origin:H+"/"+G,domain:location.hostname,relation:b||"opener"})},registerCallback:function(a,b,c){return c=c||s(),b&&(M._forever[c]=!0),M._callbacks[c]=a,c}};r.subscribe("init:post",function(a){l(a.xdProxyName)}),f.exports=M}),i("sdk.Auth",["sdk.Cookie","copyProperties","sdk.createIframe","DOMWrapper","sdk.feature","sdk.getContextType","guid","sdk.Impressions","Log","ObservableMixin","QueryString","sdk.Runtime","sdk.SignedRequest","UrlMap","URL","sdk.XD"],function(a,b,c,d,e){function g(a,b){var c=A.getUserID(),d="";if(a)if(a.userID)d=a.userID;else if(a.signedRequest){var e=B.parse(a.signedRequest);e&&e.user_id&&(d=e.user_id)}var f=A.getLoginStatus(),g="unknown"===f&&a||A.getUseCookie()&&A.getCookieUserID()!==d,h=c&&!a,i=a&&c&&c!=d,j=a!=m,k=b!=(f||"unknown");A.setLoginStatus(b),A.setAccessToken(a&&a.accessToken||null),A.setUserID(d),m=a;var l={authResponse:a,status:b};return(h||i)&&F.inform("logout",l),(g||i)&&F.inform("login",l),j&&F.inform("authresponse.change",l),k&&F.inform("status.change",l),l}function h(){return m}function i(a,b,c){return function(d){var e;if(d&&d.access_token){var f=B.parse(d.signed_request);if(b={accessToken:d.access_token,userID:f.user_id,expiresIn:parseInt(d.expires_in,10),signedRequest:d.signed_request},d.granted_scopes&&(b.grantedScopes=d.granted_scopes),A.getUseCookie()){var h=0===b.expiresIn?0:j("Date","now",!1)+1e3*b.expiresIn,i=p.getDomain();!i&&d.base_domain&&p.setDomain("."+d.base_domain),p.setSignedRequestCookie(d.signed_request,h)}e="connected",g(b,e)}else("logout"===c||"login_status"===c)&&(e=d.error&&"not_authorized"===d.error?"not_authorized":"unknown",g(null,e),A.getUseCookie()&&p.clearSignedRequestCookie());return d&&1==d.https&&A.setSecure(!0),a&&a({authResponse:b,status:A.getLoginStatus()}),b}}function k(a){var b,c=j("Date","now",!1);n&&(clearTimeout(n),n=null);var d=i(a,m,"login_status"),e=D(C.resolve("www",!0)+"/connect/ping").setSearch(z.encode({client_id:A.getClientID(),response_type:"token,signed_request,code",domain:location.hostname,origin:u(),redirect_uri:E.handler(function(a){if(t("e2e_ping_tracking",!0)){var e={init:c,close:j("Date","now",!1),method:"ping"};x.debug("e2e: %s",j("JSON","stringify",!1,e)),w.log(114,{payload:e})}b.parentNode.removeChild(b),d(a)&&(n=f(function(){k(function(){})},12e5))},"parent"),sdk:"joey",kid_directed_site:A.getKidDirectedSite()}));b=r({root:s.getRoot(),name:v(),url:e.toString(),style:{display:"none"}})}function l(a,b){if(!A.getClientID())return void x.warn("FB.getLoginStatus() called before calling FB.init().");if(a){if(!b&&"loaded"==o)return void a({status:A.getLoginStatus(),authResponse:h()});F.subscribe("FB.loginStatus",a)}if(b||"loading"!=o){o="loading";var c=function(a){o="loaded",F.inform("FB.loginStatus",a),F.clearSubscribers("FB.loginStatus")};k(c)}}var m,n,o,p=b("sdk.Cookie"),q=b("copyProperties"),r=b("sdk.createIframe"),s=b("DOMWrapper"),t=b("sdk.feature"),u=b("sdk.getContextType"),v=b("guid"),w=b("sdk.Impressions"),x=b("Log"),y=b("ObservableMixin"),z=b("QueryString"),A=b("sdk.Runtime"),B=b("sdk.SignedRequest"),C=b("UrlMap"),D=b("URL"),E=b("sdk.XD"),F=new y;q(F,{getLoginStatus:l,fetchLoginStatus:k,setAuthResponse:g,getAuthResponse:h,parseSignedRequest:B.parse,xdResponseWrapper:i}),e.exports=F}),i("invariant",[],function(a,b,c,d,e){function f(a){if(!a){var b=new Error("Minified exception occured, use the non-minified dev environment for the full error message and additional helpful warnings.");throw b.framesToPop=1,b}}e.exports=f}),i("toArray",["invariant"],function(a,b,c,d,e){function f(a){var b=a.length;if(g(!j("Array","isArray",!1,a)&&("object"==typeof a||"function"==typeof a)),g("number"==typeof b),g(0===b||b-1 in a),a.hasOwnProperty)try{return Array.prototype.slice.call(a)}catch(c){}for(var d=Array(b),e=0;b>e;e++)d[e]=a[e];return d}var g=b("invariant");e.exports=f}),i("createArrayFrom",["toArray"],function(a,b,c,d,e){function f(a){return!!a&&("object"==typeof a||"function"==typeof a)&&"length"in a&&!("setInterval"in a)&&"number"!=typeof a.nodeType&&(j("Array","isArray",!1,a)||"callee"in a||"item"in a)}function g(a){return f(a)?j("Array","isArray",!1,a)?a.slice():h(a):[a]}var h=b("toArray");e.exports=g}),i("sdk.DOM",["Assert","createArrayFrom","sdk.domReady","UserAgent"],function(b,c,d,f,g){function h(a,b){var c=a.getAttribute(b)||a.getAttribute(b.replace(/_/g,"-"))||a.getAttribute(b.replace(/-/g,"_"))||a.getAttribute(b.replace(/-/g,""))||a.getAttribute(b.replace(/_/g,""))||a.getAttribute("data-"+b)||a.getAttribute("data-"+b.replace(/_/g,"-"))||a.getAttribute("data-"+b.replace(/-/g,"_"))||a.getAttribute("data-"+b.replace(/-/g,""))||a.getAttribute("data-"+b.replace(/_/g,""));return c?String(c):null}function i(a,b){var c=h(a,b);return c?/^(true|1|yes|on)$/.test(c):null}function k(a,b){v.isTruthy(a,"element not specified"),v.isString(b);try{return String(a[b])}catch(c){throw new Error("Could not read property "+b+" : "+c.message)}}function l(a,b){v.isTruthy(a,"element not specified"),v.isString(b);try{a.innerHTML=b}catch(c){throw new Error("Could not set innerHTML : "+c.message)}}function m(a,b){v.isTruthy(a,"element not specified"),v.isString(b);var c=" "+k(a,"className")+" ";return j(c,"indexOf",!0," "+b+" ")>=0}function n(a,b){v.isTruthy(a,"element not specified"),v.isString(b),m(a,b)||(a.className=k(a,"className")+" "+b)}function o(a,b){v.isTruthy(a,"element not specified"),v.isString(b);var c=new RegExp("\\s*"+b,"g");a.className=j(k(a,"className").replace(c,""),"trim",!0)}function p(a,b,c){if(v.isString(a),b=b||e.body,c=c||"*",b.querySelectorAll)return w(b.querySelectorAll(c+"."+a));for(var d=b.getElementsByTagName(c),f=[],g=0,h=d.length;h>g;g++)m(d[g],a)&&(f[f.length]=d[g]);return f}function q(a,b){v.isTruthy(a,"element not specified"),v.isString(b),b=b.replace(/-(\w)/g,function(a,b){return b.toUpperCase()});var c=a.currentStyle||e.defaultView.getComputedStyle(a,null),d=c[b];return/backgroundPosition?/.test(b)&&/top|left/.test(d)&&(d="0%"),d}function r(a,b,c){v.isTruthy(a,"element not specified"),v.isString(b),b=b.replace(/-(\w)/g,function(a,b){return b.toUpperCase()}),a.style[b]=c}function s(a,b){for(var c,d=!0,f=0;c=b[f++];)c in z||(d=!1,z[c]=!0);if(!d)if(y.ie())try{e.createStyleSheet().cssText=a}catch(g){e.styleSheets[0]&&(e.styleSheets[0].cssText+=a)}else{var h=e.createElement("style");h.type="text/css",h.textContent=a,e.getElementsByTagName("head")[0].appendChild(h)}}function t(){var b=e.documentElement&&"CSS1Compat"==e.compatMode?e.documentElement:e.body;return{scrollTop:b.scrollTop||e.body.scrollTop,scrollLeft:b.scrollLeft||e.body.scrollLeft,width:a.innerWidth?a.innerWidth:b.clientWidth,height:a.innerHeight?a.innerHeight:b.clientHeight}}function u(a){v.isTruthy(a,"element not specified");var b=0,c=0;do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent);return{x:b,y:c}}var v=c("Assert"),w=c("createArrayFrom"),x=c("sdk.domReady"),y=c("UserAgent"),z={},A={containsCss:m,addCss:n,removeCss:o,getByClass:p,getStyle:q,setStyle:r,getAttr:h,getBoolAttr:i,getProp:k,html:l,addCssRules:s,getViewportInfo:t,getPosition:u,ready:x};g.exports=A}),i("sdk.Scribe",["UrlMap","QueryString"],function(a,b,c,d,e){function f(a,b){(new Image).src=h.appendToUrl(g.resolve("www",!0)+"/common/scribe_endpoint.php",{c:a,m:j("JSON","stringify",!1,b)})}var g=b("UrlMap"),h=b("QueryString"),i={log:f};e.exports=i}),i("sdk.ErrorHandling",["sdk.feature","ManagedError","sdk.Runtime","sdk.Scribe","UserAgent","wrapFunction"],function(b,c,d,e,h){function i(a){var b=a._originalError;throw delete a._originalError,r.log("jssdk_error",{appId:q.getClientID(),error:a.name||a.message,extra:a}),b}function k(a){var b={line:a.lineNumber||a.line,message:a.message,name:a.name,script:a.fileName||a.sourceURL||a.script,stack:a.stackTrace||a.stack};b._originalError=a,s.chrome()&&/([\w:\.\/]+\.js):(\d+)/.test(a.stack)&&(b.script=RegExp.$1,b.line=parseInt(RegExp.$2,10));for(var c in b)null==b[c]&&delete b[c];return b}function l(a,b){return function(){if(!u)return a.apply(this,arguments);try{return v=b,a.apply(this,arguments)}catch(c){if(c instanceof p)throw c;var d=k(c);d.entry=b;var e=j(Array.prototype.slice.call(arguments),"map",!0,function(a){var b=Object.prototype.toString.call(a);return/^\[object (String|Number|Boolean|Object|Date)\]$/.test(b)?a:a.toString()});d.args=j("JSON","stringify",!1,e).substring(0,200),i(d)}finally{v=""}}}function m(b){return b.__wrapper||(b.__wrapper=function(){try{return b.apply(this,arguments)}catch(c){return a.setTimeout(function(){throw c},0),!1}}),b.__wrapper}function n(a,b){return function(c,d){var e=b+":"+(v||"[global]")+":"+(c.name||"[anonymous]"+(arguments.callee.caller.name?"("+arguments.callee.caller.name+")":""));return a(t(c,"entry",e),d)}}var o=c("sdk.feature"),p=c("ManagedError"),q=c("sdk.Runtime"),r=c("sdk.Scribe"),s=c("UserAgent"),t=c("wrapFunction"),u=o("error_handling",!1),v="";u&&(f=n(f,"setTimeout"),g=n(g,"setInterval"),t.setWrapper(l,"entry"));var w={guard:l,unguard:m};h.exports=w}),i("sdk.Insights",["sdk.Impressions"],function(a,b,c,d,e){var f=b("sdk.Impressions"),g={TYPE:{NOTICE:"notice",WARNING:"warn",ERROR:"error"},CATEGORY:{DEPRECATED:"deprecated",APIERROR:"apierror"},log:function(a,b,c){var d={source:"jssdk",type:a,category:b,payload:c};f.log(113,d)},impression:f.impression};e.exports=g}),i("FB",["sdk.Auth","copyProperties","dotAccess","sdk.domReady","sdk.DOM","sdk.ErrorHandling","sdk.Content","DOMWrapper","GlobalCallback","sdk.Insights","Log","sdk.Runtime","sdk.Scribe","CssConfig","SDKConfig"],function(b,c,d,f,g){function h(a,b,c,d){var e;switch(/^_/.test(c)?e="hide":l&&!l[b]&&(e=B),e){case"hide":return;case"stub":return function(){x.warn("The method FB.%s has been removed from the JS SDK.",b)};default:return s.guard(function(){function c(a){return j("Array","isArray",!1,a)?j(a,"map",!0,c):a&&"object"==typeof a&&a.__wrapped?a.__wrapped:"function"==typeof a&&/^function/.test(a.toString())?s.unguard(a):a}"warn"===e&&(x.warn("The method FB.%s is not officially supported by Facebook and access to it will soon be removed.",b),C.hasOwnProperty(b)||(w.log(w.TYPE.WARNING,w.CATEGORY.DEPRECATED,"FB."+b),z.log("jssdk_error",{appId:y.getClientID(),error:"Private method used",extra:{args:b}}),C[b]=!0));var f,g=j(Array.prototype.slice.call(arguments),"map",!0,c),i=a.apply(d,g),k=!0;if(i&&"object"==typeof i){var l=Function();l.prototype=i,f=new l,f.__wrapped=i;for(var m in i){var n=i[m];"function"==typeof n&&"constructor"!==m&&(k=!1,f[m]=h(n,b+":"+m,m,i))}}return k?k?i:f:f},b)}}function i(a,b){var c=a?p(k,a,!0):k;j(j("Object","keys",!1,b),"forEach",!0,function(d){var e=b[d];if("function"==typeof e){var f=(a?a+".":"")+d,g=h(e,f,d,b);g&&(c[d]=g)}})}var k,l,m=c("sdk.Auth"),n=c("copyProperties"),o=d("CssConfig"),p=c("dotAccess"),q=c("sdk.domReady"),r=c("sdk.DOM"),s=c("sdk.ErrorHandling"),t=c("sdk.Content"),u=c("DOMWrapper"),v=c("GlobalCallback"),w=c("sdk.Insights"),x=c("Log"),y=c("sdk.Runtime"),z=c("sdk.Scribe"),A=d("SDKConfig"),B=p(A,"api.mode"),C={};k=a.FB={};var D={};x.level=1,v.setPrefix("FB.__globalCallbacks");var E=e.createElement("div");u.setRoot(E),q(function(){x.info("domReady"),t.appendHidden(E),o.rules&&r.addCssRules(o.rules,o.components)}),y.subscribe("AccessToken.change",function(a){a||"connected"!==y.getLoginStatus()||m.getLoginStatus(null,!0)}),p(A,"api.whitelist.length")&&(l={},j(A.api.whitelist,"forEach",!0,function(a){l[a]=1})),y.setSecure(function(){var b=/iframe_canvas|app_runner/.test(a.name),c=/dialog/.test(a.name);return"https:"!=location.protocol||a!=top&&(b||c)?/_fb_https?/.test(a.name)?-1!=j(a.name,"indexOf",!0,"_fb_https"):void 0:!0}()),n(D,{provide:i}),g.exports=D}),i("ArgumentError",["ManagedError"],function(a,b,c,d,e){function f(){g.prototype.constructor.apply(this,arguments)}var g=b("ManagedError");f.prototype=new g,f.prototype.constructor=f,e.exports=f}),i("CORSRequest",["wrapFunction","QueryString"],function(a,b,c,e,f){function g(a,b){if(!d.XMLHttpRequest)return null;var c=new XMLHttpRequest,e=function(){};if("withCredentials"in c)c.open(a,b,!0),c.setRequestHeader("Content-type","application/x-www-form-urlencoded");else{if(!d.XDomainRequest)return null;c=new XDomainRequest;try{c.open(a,b),c.onprogress=c.ontimeout=e}catch(f){return null}}var g={send:function(a){c.send(a)}},h=i(function(){h=e,"onload"in g&&g.onload(c)},"entry","XMLHttpRequest:load"),j=i(function(){j=e,"onerror"in g&&g.onerror(c)},"entry","XMLHttpRequest:error");return c.onload=function(){h()},c.onerror=function(){j()},c.onreadystatechange=function(){4==c.readyState&&(200==c.status?h():j())},g}function h(a,b,c,d){c.suppress_http_code=1;var e=k.encode(c);"post"!=b&&(a=k.appendToUrl(a,e),e="");var f=g(b,a);return f?(f.onload=function(a){d(j("JSON","parse",!1,a.responseText))},f.onerror=function(a){d(a.responseText?j("JSON","parse",!1,a.responseText):{error:{type:"http",message:"unknown error",status:a.status}})},f.send(e),!0):!1}var i=b("wrapFunction"),k=b("QueryString"),l={execute:h};f.exports=l}),i("FlashRequest",["DOMWrapper","Flash","GlobalCallback","QueryString","Queue"],function(a,b,c,d,e){function f(){if(!i)throw new Error("swfUrl has not been set");var a=n.create(function(){h.start(function(a){var b=k.execute(a.method,a.url,a.body);if(!b)throw new Error("Could create request");q[b]=a.callback})}),b=n.create(function(a,b,c){var d;try{d=j("JSON","parse",!1,decodeURIComponent(c))}catch(e){d={error:{type:"SyntaxError",message:e.message,status:b,raw:c}}}q[a](d),delete q[a]});k=m.embed(i,l.getRoot(),null,{log:!1,initCallback:a,requestCallback:b})}function g(a,b,c,d){c.suppress_http_code=1,c.method||(c.method=b);var e=o.encode(c);if("get"===b&&a.length+e.length<2e3?(a=o.appendToUrl(a,e),e=""):b="post",!h){if(!m.isAvailable())return!1;h=new p,f()}return h.enqueue({method:b,url:a,body:e,callback:d}),!0}var h,i,k,l=b("DOMWrapper"),m=b("Flash"),n=b("GlobalCallback"),o=b("QueryString"),p=b("Queue"),q={},r={setSwfUrl:function(a){i=a},execute:g};e.exports=r}),i("flattenObject",[],function(a,b,c,d,e){function f(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];if(null===d||void 0===d)continue;b[c]="string"==typeof d?d:j("JSON","stringify",!1,d)}return b}e.exports=f}),i("JSONPRequest",["DOMWrapper","GlobalCallback","QueryString"],function(a,b,c,d,g){function h(a,b,c,d){var g=e.createElement("script"),h=function(a){h=function(){},j.remove(c.callback),d(a),g.parentNode.removeChild(g)};if(c.callback=j.create(h),c.method||(c.method=b),a=k.appendToUrl(a,c),a.length>2e3)return j.remove(c.callback),!1;g.onerror=function(){h({error:{type:"http",message:"unknown error"}})};var l=function(){f(function(){h({error:{type:"http",message:"unknown error"}})},0)};return g.addEventListener?g.addEventListener("load",l,!1):g.onreadystatechange=function(){/loaded|complete/.test(this.readyState)&&l()},g.src=a,i.getRoot().appendChild(g),!0}var i=b("DOMWrapper"),j=b("GlobalCallback"),k=b("QueryString"),l={execute:h};g.exports=l}),i("keyMirror",["invariant"],function(a,b,c,d,e){"use strict";var f=b("invariant"),g=function(a){var b,c={};f(a instanceof Object&&!j("Array","isArray",!1,a));for(b in a)a.hasOwnProperty(b)&&(c[b]=b);return c};e.exports=g}),i("mergeHelpers",["invariant","keyMirror"],function(a,b,c,d,e){"use strict";var f=b("invariant"),g=b("keyMirror"),h=36,i=function(a){return"object"!=typeof a||null===a},k={MAX_MERGE_DEPTH:h,isTerminal:i,normalizeMergeArg:function(a){return void 0===a||null===a?{}:a},checkMergeArrayArgs:function(a,b){f(j("Array","isArray",!1,a)&&j("Array","isArray",!1,b))},checkMergeObjectArgs:function(a,b){k.checkMergeObjectArg(a),k.checkMergeObjectArg(b)},checkMergeObjectArg:function(a){f(!i(a)&&!j("Array","isArray",!1,a))},checkMergeLevel:function(a){f(h>a)},checkArrayStrategy:function(a){f(void 0===a||a in k.ArrayStrategies)},ArrayStrategies:g({Clobber:!0,IndexByIndex:!0})};e.exports=k}),i("mergeInto",["mergeHelpers"],function(a,b,c,d,e){"use strict";function f(a,b){if(h(a),null!=b){h(b);for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}}var g=b("mergeHelpers"),h=g.checkMergeObjectArg;e.exports=f}),i("merge",["mergeInto"],function(a,b,c,d,e){"use strict";var f=b("mergeInto"),g=function(a,b){var c={};return f(c,a),f(c,b),c};e.exports=g}),i("ApiClient",["ArgumentError","Assert","copyProperties","CORSRequest","FlashRequest","flattenObject","JSONPRequest","Log","merge","ObservableMixin","sprintf","URL","UrlMap","ApiClientConfig"],function(a,b,c,d,e){function f(a,b,c,d){m&&(c=p({},m,c)),c.access_token=c.access_token||k,c.pretty=c.pretty||0,c=s(c);var e,f={jsonp:t,cors:q,flash:r};c.transport?(e=[c.transport],delete c.transport):e=["jsonp","cors","flash"];for(var g=0;g<e.length;g++){var h=f[e[g]],i=p({},c);if(h.execute(a,b,i,d))return}d({error:{type:"no-transport",message:"Could not find a usable transport for request"}})}function g(a,b,c,d,e){D.inform("request.complete",b,c,d,e),a&&a(e)}function h(a){o.isString(a,"Invalid path");var b,c={};try{b=new y(a)}catch(d){throw new n(d.message,d)}j(Array.prototype.slice.call(arguments,1),"forEach",!0,function(a){c[typeof a]=a});var e=(c.string||"get").toLowerCase(),h=v(c.object||{},b.getParsedSearch()),i=c["function"];i||u.warn("No callback passed to the ApiClient");var k=j(g,"bind",!0,null,i,b.getPath(),e,h);o.isTrue(e in B,x("Invalid method passed to ApiClient: %s",e)),h.method=e,b=z.resolve("graph")+b.getPath(),f(b,"get"==e?"get":"post",h,k)}function i(a,b){o.isObject(a),o.isString(a.method,"method missing"),b||u.warn("No callback passed to the ApiClient");var c=a.method.toLowerCase().replace(".","_");a.format="json-strings",a.api_key=l;var d=c in C?"api_read":"api",e=z.resolve(d)+"/restserver.php",h=j(g,"bind",!0,null,b,"/restserver.php","get",a);
f(e,"get",a,h)}var k,l,m,n=b("ArgumentError"),o=b("Assert"),p=b("copyProperties"),q=b("CORSRequest"),r=b("FlashRequest"),s=b("flattenObject"),t=b("JSONPRequest"),u=b("Log"),v=b("merge"),w=b("ObservableMixin"),x=b("sprintf"),y=b("URL"),z=b("UrlMap"),A=b("ApiClientConfig"),B={get:!0,post:!0,"delete":!0,put:!0},C={fql_query:!0,fql_multiquery:!0,friends_get:!0,notifications_get:!0,stream_get:!0,users_getinfo:!0},D=p(new w,{setAccessToken:function(a){k=a},setClientID:function(a){l=a},setDefaultParams:function(a){m=a},rest:i,graph:h});r.setSwfUrl(A.FlashRequest.swfUrl),e.exports=D}),i("sdk.api",["ApiClient","sdk.Runtime"],function(a,b,c,d,e){function f(){"string"==typeof arguments[0]?h.graph.apply(h,arguments):h.rest.apply(h,arguments)}var g,h=b("ApiClient"),i=b("sdk.Runtime");i.subscribe("ClientID.change",function(a){h.setClientID(a)}),i.subscribe("AccessToken.change",function(a){g=a,h.setAccessToken(a)}),h.setDefaultParams({sdk:"joey"}),h.subscribe("request.complete",function(a,b,c,d){var e=!1;d&&"object"==typeof d&&(d.error?("invalid_token"==d.error||"OAuthException"==d.error.type&&190==d.error.code)&&(e=!0):d.error_code&&"190"==d.error_code&&(e=!0)),e&&g===i.getAccessToken()&&i.setAccessToken(null)}),h.subscribe("request.complete",function(a,b,c,d){("/me/permissions"==a&&"delete"===b||"/restserver.php"==a&&"Auth.revokeAuthorization"==c.method)&&d===!0&&i.setAccessToken(null)}),e.exports=f}),i("legacy:fb.api",["FB","sdk.api"],function(a,b){var c=b("FB"),d=b("sdk.api");c.provide("",{api:d})},3),i("sdk.Canvas.Environment",["sdk.RPC"],function(a,b,c,d,e){function f(a){h.remote.getPageInfo(function(b){a(b.result)})}function g(a,b){h.remote.scrollTo({x:a||0,y:b||0})}var h=b("sdk.RPC");h.stub("getPageInfo"),h.stub("scrollTo");var i={getPageInfo:f,scrollTo:g};e.exports=i}),i("sdk.Intl",["Log"],function(a,b,c,d,e){function f(a){return"string"!=typeof a?!1:!!a.match(new RegExp(j+"[)\"'»༻༽’”›〉》」』】〕〗〙〛〞〟﴿＇）］\\s]*$"))}function g(a,b){if(void 0!==b)if("object"!=typeof b)i.error("The second arg to FB.Intl.tx() must be an Object for FB.Intl.tx("+a+", ...)");else{var c;for(var d in b)b.hasOwnProperty(d)&&(c=f(b[d])?new RegExp("\\{"+d+"\\}"+j+"*","g"):new RegExp("\\{"+d+"\\}","g"),a=a.replace(c,b[d]))}return a}function h(){throw new Error("Placeholder function")}var i=b("Log"),j="[.!?。！？।…ຯ᠁ฯ．]";h._=g,e.exports={tx:h}}),i("sdk.Dialog",["sdk.Canvas.Environment","sdk.Content","sdk.DOM","DOMEventListener","sdk.Intl","ObservableMixin","sdk.Runtime","Type","UserAgent","sdk.feature"],function(b,c,d,g,h){function i(){if(t("dialog_resize_refactor")){var a=m.getViewportInfo();if(a.height&&a.width)return{width:Math.min(a.width,u),height:Math.min(a.height,v)}}return null}var k=c("sdk.Canvas.Environment"),l=c("sdk.Content"),m=c("sdk.DOM"),n=c("DOMEventListener"),o=c("sdk.Intl"),p=c("ObservableMixin"),q=c("sdk.Runtime"),r=c("Type"),s=c("UserAgent"),t=c("sdk.feature"),u=590,v=500,w=240,x=575,y=function(){var a;if(t("dialog_resize_refactor")){var b=i();a=b&&(b.height>=u||b.width>=v)}else a=s.ipad();return y=function(){return a},a},z=r.extend({constructor:function(a,b){this.parent(),this.id=a,this.display=b,this._e2e={},A._dialogs||(A._dialogs={},A._addOrientationHandler()),A._dialogs[a]=this,this.trackEvent("init")},trackEvent:function(a,b){return this._e2e[a]?this:(this._e2e[a]=b||j("Date","now",!1),"close"==a&&this.inform("e2e:end",this._e2e),this)},trackEvents:function(a){"string"==typeof a&&(a=j("JSON","parse",!1,a));for(var b in a)a.hasOwnProperty(b)&&this.trackEvent(b,a[b]);return this}},p),A={newInstance:function(a,b){return new z(a,b)},_dialogs:null,_lastYOffset:0,_loaderEl:null,_overlayEl:null,_stack:[],_active:null,get:function(a){return A._dialogs[a]},_findRoot:function(a){for(;a;){if(m.containsCss(a,"fb_dialog"))return a;a=a.parentNode}},_createWWWLoader:function(a){return a=a?a:460,A.create({content:'<div class="dialog_title">  <a id="fb_dialog_loader_close">    <div class="fb_dialog_close_icon"></div>  </a>  <span>Facebook</span>  <div style="clear:both;"></div></div><div class="dialog_content"></div><div class="dialog_footer"></div>',width:a})},_createMobileLoader:function(){var a=s.nativeApp()?"":'<table>  <tbody>    <tr>      <td class="header_left">        <label class="touchable_button">          <input type="submit" value="'+o.tx._("Cancel")+'"            id="fb_dialog_loader_close"/>        </label>      </td>      <td class="header_center">        <div>'+o.tx._("Loading...")+'</div>      </td>      <td class="header_right">      </td>    </tr>  </tbody></table>';return A.create({classes:"loading"+(y()?" centered":""),content:'<div class="dialog_header">'+a+"</div>"})},_restoreBodyPosition:function(){if(!y()){var a=e.getElementsByTagName("body")[0];m.removeCss(a,"fb_hidden")}},_showTabletOverlay:function(){y()&&(A._overlayEl||(A._overlayEl=e.createElement("div"),A._overlayEl.setAttribute("id","fb_dialog_ipad_overlay"),l.append(A._overlayEl,null)),A._overlayEl.className="")},_hideTabletOverlay:function(){y()&&(A._overlayEl.className="hidden")},showLoader:function(a,b){A._showTabletOverlay(),A._loaderEl||(A._loaderEl=A._findRoot(s.mobile()?A._createMobileLoader():A._createWWWLoader(b))),a||(a=function(){});var c=e.getElementById("fb_dialog_loader_close");m.removeCss(c,"fb_hidden"),c.onclick=function(){A._hideLoader(),A._restoreBodyPosition(),A._hideTabletOverlay(),a()};var d=e.getElementById("fb_dialog_ipad_overlay");d&&(d.ontouchstart=c.onclick),A._makeActive(A._loaderEl)},_hideLoader:function(){A._loaderEl&&A._loaderEl==A._active&&(A._loaderEl.style.top="-10000px")},_makeActive:function(a){A._setDialogSizes(),A._lowerActive(),A._active=a,q.isEnvironment(q.ENVIRONMENTS.CANVAS)&&k.getPageInfo(function(a){A._centerActive(a)}),A._centerActive()},_lowerActive:function(){A._active&&(A._active.style.top="-10000px",A._active=null)},_removeStacked:function(a){A._stack=j(A._stack,"filter",!0,function(b){return b!=a})},_centerActive:function(a){var b=A._active;if(b){var c=m.getViewportInfo(),d=parseInt(b.offsetWidth,10),f=parseInt(b.offsetHeight,10),g=c.scrollLeft+(c.width-d)/2,h=(c.height-f)/2.5;h>g&&(h=g);var i=c.height-f-h,j=(c.height-f)/2;if(a&&(j=a.scrollTop-a.offsetTop+(a.clientHeight-f)/2),h>j?j=h:j>i&&(j=i),j+=c.scrollTop,s.mobile()){var k=100;if(y())k+=(c.height-f)/2;else{var l=e.getElementsByTagName("body")[0];m.addCss(l,"fb_hidden"),t("dialog_resize_refactor")&&(l.style.width="auto"),j=1e4}var n=m.getByClass("fb_dialog_padding",b);n.length&&(n[0].style.height=k+"px")}b.style.left=(g>0?g:0)+"px",b.style.top=(j>0?j:0)+"px"}},_setDialogSizes:function(){if(s.mobile()&&!y())for(var a in A._dialogs)if(A._dialogs.hasOwnProperty(a)){var b=e.getElementById(a);b&&(b.style.width=A.getDefaultSize().width+"px",b.style.height=A.getDefaultSize().height+"px")}},getDefaultSize:function(){if(s.mobile()){var b=i();if(b)return b;if(s.ipad())return{width:v,height:u};if(s.android())return{width:screen.availWidth,height:screen.availHeight};var c=a.innerWidth,d=a.innerHeight,e=c/d>1.2;return{width:c,height:Math.max(d,e?screen.width:screen.height)}}return{width:x,height:w}},_handleOrientationChange:function(){var a=t("dialog_resize_refactor",!1)?m.getViewportInfo().width:screen.availWidth;if(s.android()&&a==A._availScreenWidth)return void f(A._handleOrientationChange,50);if(A._availScreenWidth=a,y())A._centerActive();else{var b=A.getDefaultSize().width;for(var c in A._dialogs)if(A._dialogs.hasOwnProperty(c)){var d=e.getElementById(c);d&&(d.style.width=b+"px")}}},_addOrientationHandler:function(){if(s.mobile()){var b="onorientationchange"in a?"orientationchange":"resize";A._availScreenWidth=t("dialog_resize_refactor",!1)?m.getViewportInfo().width:screen.availWidth,n.add(a,b,A._handleOrientationChange)}},create:function(a){a=a||{};var b=e.createElement("div"),c=e.createElement("div"),d="fb_dialog";if(a.closeIcon&&a.onClose){var f=e.createElement("a");f.className="fb_dialog_close_icon",f.onclick=a.onClose,b.appendChild(f)}d+=" "+(a.classes||""),s.ie()?(d+=" fb_dialog_legacy",j(["vert_left","vert_right","horiz_top","horiz_bottom","top_left","top_right","bottom_left","bottom_right"],"forEach",!0,function(a){var c=e.createElement("span");c.className="fb_dialog_"+a,b.appendChild(c)})):d+=s.mobile()?" fb_dialog_mobile":" fb_dialog_advanced",a.content&&l.append(a.content,c),b.className=d;var g=parseInt(a.width,10);if(isNaN(g)||(b.style.width=g+"px"),c.className="fb_dialog_content",b.appendChild(c),s.mobile()){var h=e.createElement("div");h.className="fb_dialog_padding",b.appendChild(h)}return l.append(b),a.visible&&A.show(b),c},show:function(a){var b=A._findRoot(a);b&&(A._removeStacked(b),A._hideLoader(),A._makeActive(b),A._stack.push(b),"fbCallID"in a&&A.get(a.fbCallID).inform("iframe_show").trackEvent("show"))},hide:function(a){var b=A._findRoot(a);A._hideLoader(),b==A._active&&(A._lowerActive(),A._restoreBodyPosition(),A._hideTabletOverlay(),"fbCallID"in a&&A.get(a.fbCallID).inform("iframe_hide").trackEvent("hide"))},remove:function(a){if(a=A._findRoot(a)){var b=A._active==a;A._removeStacked(a),b?(A._hideLoader(),A._stack.length>0?A.show(A._stack.pop()):(A._lowerActive(),A._restoreBodyPosition(),A._hideTabletOverlay())):null===A._active&&A._stack.length>0&&A.show(A._stack.pop()),f(function(){a.parentNode.removeChild(a)},3e3)}},isActive:function(a){var b=A._findRoot(a);return b&&b===A._active}};h.exports=A}),i("sdk.Frictionless",["sdk.Auth","sdk.api","sdk.Event","sdk.Dialog"],function(a,b,c,d,e){var f=b("sdk.Auth"),g=b("sdk.api"),h=b("sdk.Event"),i=b("sdk.Dialog"),k={_allowedRecipients:{},_useFrictionless:!1,_updateRecipients:function(){k._allowedRecipients={},g("/me/apprequestformerrecipients",function(a){a&&!a.error&&j(a.data,"forEach",!0,function(a){k._allowedRecipients[a.recipient_id]=!0})})},init:function(){k._useFrictionless=!0,f.getLoginStatus(function(a){"connected"==a.status&&k._updateRecipients()}),h.subscribe("auth.login",function(a){a.authResponse&&k._updateRecipients()})},_processRequestResponse:function(a,b){return function(c){var d=c&&c.updated_frictionless;k._useFrictionless&&d&&k._updateRecipients(),c&&(!b&&c.frictionless&&(i._hideLoader(),i._restoreBodyPosition(),i._hideIPadOverlay()),delete c.frictionless,delete c.updated_frictionless),a&&a(c)}},isAllowed:function(a){if(!a)return!1;if("number"==typeof a)return a in k._allowedRecipients;"string"==typeof a&&(a=a.split(",")),a=j(a,"map",!0,function(a){return j(String(a),"trim",!0)});var b=!0,c=!1;return j(a,"forEach",!0,function(a){b=b&&a in k._allowedRecipients,c=!0}),b&&c}};h.subscribe("init:post",function(a){a.frictionlessRequests&&k.init()}),e.exports=k}),i("insertIframe",["guid","GlobalCallback"],function(a,b,c,d,g){function h(a){a.id=a.id||i(),a.name=a.name||i();var b=!1,c=!1,d=function(){b&&!c&&(c=!0,a.onload&&a.onload(a.root.firstChild))},g=j.create(d);if(e.attachEvent){var h='<iframe id="'+a.id+'" name="'+a.name+'"'+(a.title?' title="'+a.title+'"':"")+(a.className?' class="'+a.className+'"':"")+' style="border:none;'+(a.width?"width:"+a.width+"px;":"")+(a.height?"height:"+a.height+"px;":"")+'" src="javascript:false;" frameborder="0" scrolling="no" allowtransparency="true" onload="'+g+'()"></iframe>';a.root.innerHTML='<iframe src="javascript:false" frameborder="0" scrolling="no" style="height:1px"></iframe>',b=!0,f(function(){a.root.innerHTML=h,a.root.firstChild.src=a.url,a.onInsert&&a.onInsert(a.root.firstChild)},0)}else{var k=e.createElement("iframe");k.id=a.id,k.name=a.name,k.onload=d,k.scrolling="no",k.style.border="none",k.style.overflow="hidden",a.title&&(k.title=a.title),a.className&&(k.className=a.className),void 0!==a.height&&(k.style.height=a.height+"px"),void 0!==a.width&&(k.style.width="100%"==a.width?a.width:a.width+"px"),a.root.appendChild(k),b=!0,k.src=a.url,a.onInsert&&a.onInsert(k)}}var i=b("guid"),j=b("GlobalCallback");g.exports=h}),i("sdk.Native",["copyProperties","Log","UserAgent"],function(b,c,d,e,f){var g=c("copyProperties"),h=c("Log"),i=c("UserAgent"),j="fbNativeReady",k={onready:function(b){if(!i.nativeApp())return void h.error("FB.Native.onready only works when the page is rendered in a WebView of the native Facebook app. Test if this is the case calling FB.UA.nativeApp()");if(a.__fbNative&&!this.nativeReady&&g(this,a.__fbNative),this.nativeReady)b();else{var c=function(){a.removeEventListener(j,c),this.onready(b)};a.addEventListener(j,c,!1)}}};f.exports=k}),i("resolveURI",[],function(b,c,d,f,g){function h(b){if(!b)return a.location.href;b=b.replace(/&/g,"&amp;").replace(/"/g,"&quot;");var c=e.createElement("div");return c.innerHTML='<a href="'+b+'"></a>',c.firstChild.href}g.exports=h}),i("sdk.UIServer",["sdk.Auth","sdk.Content","copyProperties","sdk.Dialog","sdk.DOM","sdk.Event","flattenObject","sdk.Frictionless","sdk.getContextType","guid","insertIframe","Log","sdk.Native","QueryString","resolveURI","sdk.RPC","sdk.Runtime","UrlMap","UserAgent","sdk.XD","SDKConfig"],function(b,c,d,h,i){var k=c("sdk.Auth"),l=c("sdk.Content"),m=c("copyProperties"),n=c("sdk.Dialog"),o=c("sdk.DOM"),p=c("sdk.Event"),q=c("flattenObject"),r=c("sdk.Frictionless"),s=c("sdk.getContextType"),t=c("guid"),u=c("insertIframe"),v=c("Log"),w=c("sdk.Native"),x=c("QueryString"),y=c("resolveURI"),z=c("sdk.RPC"),A=c("sdk.Runtime"),B=d("SDKConfig"),C=c("UrlMap"),D=c("UserAgent"),E=c("sdk.XD"),F={transform:function(b){return"touch"===b.params.display&&b.params.access_token&&a.postMessage?(b.params.channel=H._xdChannelHandler(b.id,"parent"),D.nativeApp()||(b.params.in_iframe=1),b):H.genericTransform(b)},getXdRelation:function(b){var c=b.display;return"touch"===c&&a.postMessage&&b.in_iframe?"parent":H.getXdRelation(b)}},G={"stream.share":{size:{width:670,height:340},url:"sharer.php",transform:function(b){return b.params.u||(b.params.u=a.location.toString()),b.params.display="popup",b}},apprequests:{transform:function(a){return a=F.transform(a),a.params.frictionless=r&&r._useFrictionless,a.params.frictionless&&(r.isAllowed(a.params.to)&&(a.params.display="iframe",a.params.in_iframe=!0,a.hideLoader=!0),a.cb=r._processRequestResponse(a.cb,a.hideLoader)),a.closeIcon=!1,a},getXdRelation:F.getXdRelation},feed:F,"permissions.oauth":{url:"dialog/oauth",size:{width:D.mobile()?null:475,height:D.mobile()?null:183},transform:function(a){if(!A.getClientID())return void v.error("FB.login() called before FB.init().");if(k.getAuthResponse()&&!a.params.scope&&!a.params.auth_type)return v.error("FB.login() called when user is already connected."),void(a.cb&&a.cb({status:A.getLoginStatus(),authResponse:k.getAuthResponse()}));var b=a.cb,c=a.id;return delete a.cb,"async"===a.params.display?(m(a.params,{client_id:A.getClientID(),origin:s(),response_type:"token,signed_request",domain:location.hostname}),a.cb=k.xdResponseWrapper(b,k.getAuthResponse(),"permissions.oauth")):m(a.params,{client_id:A.getClientID(),redirect_uri:y(H.xdHandler(b,c,"opener",k.getAuthResponse(),"permissions.oauth")),origin:s(),response_type:"token,signed_request",domain:location.hostname}),a}},"auth.logout":{url:"logout.php",transform:function(a){if(A.getClientID()){if(k.getAuthResponse())return a.params.next=H.xdHandler(a.cb,a.id,"parent",k.getAuthResponse(),"logout"),a;v.error("FB.logout() called without an access token.")}else v.error("FB.logout() called before calling FB.init().")}},"login.status":{url:"dialog/oauth",transform:function(a){var b=a.cb,c=a.id;return delete a.cb,m(a.params,{client_id:A.getClientID(),redirect_uri:H.xdHandler(b,c,"parent",k.getAuthResponse(),"login_status"),origin:s(),response_type:"token,signed_request,code",domain:location.hostname}),a}}},H={Methods:G,_loadedNodes:{},_defaultCb:{},_resultToken:'"xxRESULTTOKENxx"',genericTransform:function(a){return("dialog"==a.params.display||"iframe"==a.params.display)&&m(a.params,{display:"iframe",channel:H._xdChannelHandler(a.id,"parent.parent")},!0),a},checkOauthDisplay:function(a){var b=a.scope||a.perms||A.getScope();if(!b)return a.display;for(var c=b.split(/\s|,/g),d=0;d<c.length;d++)if(!B.initSitevars.iframePermissions[j(c[d],"trim",!0)])return"popup";return a.display},prepareCall:function(a,b){var c=a.method.toLowerCase(),d=m({},H.Methods[c]),e=t(),f=A.getSecure()||"auth.status"!==c&&"login.status"!=c;m(a,{app_id:A.getClientID(),locale:A.getLocale(),sdk:"joey",access_token:f&&A.getAccessToken()||void 0}),a.display=H.getDisplayMode(d,a),d.url||(d.url="dialog/"+c),"dialog/oauth"!=d.url&&"dialog/permissions.request"!=d.url||!("iframe"==a.display||"touch"==a.display&&a.in_iframe)||(a.display=H.checkOauthDisplay(a));var g={cb:b,id:e,size:d.size||H.getDefaultSize(),url:C.resolve("touch"==a.display?"m":"www",f)+"/"+d.url,params:a,name:c,dialog:n.newInstance(e,a.display)},h=d.transform?d.transform:H.genericTransform;if(!h||(g=h(g))){var i=d.getXdRelation||H.getXdRelation,j=i(g.params);return g.id in H._defaultCb||"next"in g.params||"redirect_uri"in g.params||(g.params.next=H._xdResult(g.cb,g.id,j,!0)),"parent"===j&&m(g.params,{channel_url:H._xdChannelHandler(e,"parent.parent")},!0),g=H.prepareParams(g)}},prepareParams:function(a){a.params.method;"async"!==a.params.display&&delete a.params.method,a.params=q(a.params);var b=x.encode(a.params);return!D.nativeApp()&&H.urlTooLongForIE(a.url+"?"+b)?a.post=!0:b&&(a.url+="?"+b),a},urlTooLongForIE:function(a){return a.length>2e3},getDisplayMode:function(a,b){if("hidden"===b.display||"none"===b.display)return b.display;var c=A.isEnvironment(A.ENVIRONMENTS.CANVAS)||A.isEnvironment(A.ENVIRONMENTS.PAGETAB);return c&&!b.display?"async":D.mobile()||"touch"===b.display?"touch":A.getAccessToken()||"dialog"!=b.display||a.loggedOutIframe?a.connectDisplay&&!c?a.connectDisplay:b.display||(A.getAccessToken()?"dialog":"popup"):(v.error('"dialog" mode can only be used when the user is connected.'),"popup")},getXdRelation:function(b){var c=b.display;return"popup"===c||"touch"===c?"opener":"dialog"===c||"iframe"===c||"hidden"===c||"none"===c?"parent":"async"===c?"parent.frames["+a.name+"]":void 0},popup:function(b){var c="undefined"!=typeof a.screenX?a.screenX:a.screenLeft,d="undefined"!=typeof a.screenY?a.screenY:a.screenTop,f="undefined"!=typeof a.outerWidth?a.outerWidth:e.documentElement.clientWidth,g="undefined"!=typeof a.outerHeight?a.outerHeight:e.documentElement.clientHeight-22,h=D.mobile()?null:b.size.width,i=D.mobile()?null:b.size.height,j=0>c?a.screen.width+c:c,k=parseInt(j+(f-h)/2,10),m=parseInt(d+(g-i)/2.5,10),n=[];null!==h&&n.push("width="+h),null!==i&&n.push("height="+i),n.push("left="+k),n.push("top="+m),n.push("scrollbars=1"),("permissions.request"==b.name||"permissions.oauth"==b.name)&&n.push("location=1,toolbar=0"),n=n.join(",");var o;b.post?(o=a.open("about:blank",b.id,n),o&&(H.setLoadedNode(b,o,"popup"),l.submitToTarget({url:b.url,target:b.id,params:b.params}))):(o=a.open(b.url,b.id,n),o&&H.setLoadedNode(b,o,"popup")),o&&b.id in H._defaultCb&&H._popupMonitor()},setLoadedNode:function(a,b,c){a.params&&"popup"!=a.params.display&&(b.fbCallID=a.id),b={node:b,type:c,fbCallID:a.id},H._loadedNodes[a.id]=b},getLoadedNode:function(a){var b="object"==typeof a?a.id:a,c=H._loadedNodes[b];return c?c.node:null},hidden:function(a){a.className="FB_UI_Hidden",a.root=l.appendHidden(""),H._insertIframe(a)},iframe:function(a){a.className="FB_UI_Dialog";var b=function(){H._triggerDefault(a.id)};a.root=n.create({onClose:b,closeIcon:void 0===a.closeIcon?!0:a.closeIcon,classes:D.ipad()?"centered":""}),a.hideLoader||n.showLoader(b,a.size.width),o.addCss(a.root,"fb_dialog_iframe"),H._insertIframe(a)},touch:function(a){a.params&&a.params.in_iframe?a.ui_created?n.showLoader(function(){H._triggerDefault(a.id)},0):H.iframe(a):D.nativeApp()&&!a.ui_created?(a.frame=a.id,w.onready(function(){H.setLoadedNode(a,w.open(a.url+"#cb="+a.frameName),"native")}),H._popupMonitor()):a.ui_created||H.popup(a)},async:function(a){a.params.redirect_uri=location.protocol+"//"+location.host+location.pathname,delete a.params.access_token,z.remote.showDialog(a.params,function(b){var c=b.result;if(c&&c.e2e){var d=n.get(a.id);d.trackEvents(c.e2e),d.trackEvent("close"),delete c.e2e}a.cb(c)})},getDefaultSize:function(){return n.getDefaultSize()},_insertIframe:function(a){H._loadedNodes[a.id]=!1;var b=function(b){a.id in H._loadedNodes&&H.setLoadedNode(a,b,"iframe")};u(a.post?{url:"about:blank",root:a.root,className:a.className,width:a.size.width,height:a.size.height,id:a.id,onInsert:b,onload:function(b){l.submitToTarget({url:a.url,target:b.name,params:a.params})}}:{url:a.url,root:a.root,className:a.className,width:a.size.width,height:a.size.height,id:a.id,name:a.frameName,onInsert:b})},_handleResizeMessage:function(a,b){var c=H.getLoadedNode(a);c&&(b.height&&(c.style.height=b.height+"px"),b.width&&(c.style.width=b.width+"px"),E.inform("resize.ack",b||{},"parent.frames["+c.name+"]"),n.isActive(c)||n.show(c))},_triggerDefault:function(a){H._xdRecv({frame:a},H._defaultCb[a]||function(){})},_popupMonitor:function(){var a;for(var b in H._loadedNodes)if(H._loadedNodes.hasOwnProperty(b)&&b in H._defaultCb){var c=H._loadedNodes[b];if("popup"!=c.type&&"native"!=c.type)continue;var d=c.node;try{d.closed?H._triggerDefault(b):a=!0}catch(e){}}a&&!H._popupInterval?H._popupInterval=g(H._popupMonitor,100):!a&&H._popupInterval&&(clearInterval(H._popupInterval),H._popupInterval=null)},_xdChannelHandler:function(a,b){return E.handler(function(b){var c=H.getLoadedNode(a);if(c)if("resize"==b.type)H._handleResizeMessage(a,b);else if("hide"==b.type)n.hide(c);else if("rendered"==b.type){var d=n._findRoot(c);n.show(d)}else"fireevent"==b.type&&p.fire(b.event)},b,!0,null)},_xdNextHandler:function(a,b,c,d){return d&&(H._defaultCb[b]=a),E.handler(function(b){H._xdRecv(b,a)},c)+"&frame="+b},_xdRecv:function(b,c){var d=H.getLoadedNode(b.frame);if(d)if(d.close)try{d.close(),/iPhone.*Version\/(5|6)/.test(navigator.userAgent)&&"5"!==RegExp.$1&&a.focus(),H._popupCount--}catch(e){}else o.containsCss(d,"FB_UI_Hidden")?f(function(){d.parentNode.parentNode.removeChild(d.parentNode)},3e3):o.containsCss(d,"FB_UI_Dialog")&&n.remove(d);if(delete H._loadedNodes[b.frame],delete H._defaultCb[b.frame],b.e2e){var g=n.get(b.frame);g.trackEvents(b.e2e),g.trackEvent("close"),delete b.e2e}c(b)},_xdResult:function(a,b,c,d){return H._xdNextHandler(function(b){a&&a(b.result&&b.result!=H._resultToken&&j("JSON","parse",!1,b.result))},b,c,d)+"&result="+encodeURIComponent(H._resultToken)},xdHandler:function(a,b,c,d,e){return H._xdNextHandler(k.xdResponseWrapper(a,d,e),b,c,!0)}};z.stub("showDialog"),i.exports=H}),i("sdk.ui",["Assert","copyProperties","sdk.feature","sdk.Impressions","Log","sdk.UIServer"],function(a,b,c,d,e){function f(a,b){if(g.isObject(a),g.maybeFunction(b),a=h({},a),!a.method)return l.error('"method" is a required parameter for FB.ui().'),null;var c=a.method;a.redirect_uri&&(l.warn("When using FB.ui, you should not specify a redirect_uri."),delete a.redirect_uri),"permissions.request"!=c&&"permissions.oauth"!=c||"iframe"!=a.display&&"dialog"!=a.display||(a.display=m.checkOauthDisplay(a));var d=i("e2e_tracking",!0);d&&(a.e2e={});var e=m.prepareCall(a,b||function(){});if(!e)return null;var f=e.params.display;"dialog"===f?f="iframe":"none"===f&&(f="hidden");var n=m[f];return n?(d&&e.dialog.subscribe("e2e:end",function(a){a.method=c,a.display=f,l.debug("e2e: %s",j("JSON","stringify",!1,a)),k.log(114,{payload:a})}),n(e),e.dialog):(l.error('"display" must be one of "popup", "dialog", "iframe", "touch", "async", "hidden", or "none"'),null)}var g=b("Assert"),h=b("copyProperties"),i=b("sdk.feature"),k=b("sdk.Impressions"),l=b("Log"),m=b("sdk.UIServer");e.exports=f}),i("legacy:fb.auth",["sdk.Auth","sdk.Cookie","copyProperties","sdk.Event","FB","Log","sdk.Runtime","sdk.SignedRequest","sdk.ui"],function(a,b){var c=b("sdk.Auth"),d=b("sdk.Cookie"),e=b("copyProperties"),f=b("sdk.Event"),g=b("FB"),h=b("Log"),i=b("sdk.Runtime"),k=b("sdk.SignedRequest"),l=b("sdk.ui");g.provide("",{getLoginStatus:function(){return c.getLoginStatus.apply(c,arguments)},getAuthResponse:function(){return c.getAuthResponse()},getAccessToken:function(){return i.getAccessToken()||null},getUserID:function(){return i.getUserID()||i.getCookieUserID()},login:function(a,b){b&&b.perms&&!b.scope&&(b.scope=b.perms,delete b.perms,h.warn("OAuth2 specification states that 'perms' should now be called 'scope'.  Please update."));var c=i.isEnvironment(i.ENVIRONMENTS.CANVAS)||i.isEnvironment(i.ENVIRONMENTS.PAGETAB);l(e({method:"permissions.oauth",display:c?"async":"popup",domain:location.hostname},b||{}),a)},logout:function(a){l({method:"auth.logout",display:"hidden"},a)}}),c.subscribe("logout",j(f.fire,"bind",!0,f,"auth.logout")),c.subscribe("login",j(f.fire,"bind",!0,f,"auth.login")),c.subscribe("authresponse.change",j(f.fire,"bind",!0,f,"auth.authResponseChange")),c.subscribe("status.change",j(f.fire,"bind",!0,f,"auth.statusChange")),f.subscribe("init:post",function(a){if(a.status&&c.getLoginStatus(),i.getClientID())if(a.authResponse)c.setAuthResponse(a.authResponse,"connected");else if(i.getUseCookie()){var b,e=d.loadSignedRequest();if(e){try{b=k.parse(e)}catch(f){d.clearSignedRequestCookie()}b&&b.user_id&&i.setCookieUserID(b.user_id)}d.loadMeta()}})},3),i("sdk.Canvas.Plugin",["sdk.api","sdk.RPC","Log","UserAgent","sdk.Runtime","createArrayFrom"],function(b,c,d,e,g){function h(a){a._hideunity_savedstyle={},a._hideunity_savedstyle.left=a.style.left,a._hideunity_savedstyle.position=a.style.position,a._hideunity_savedstyle.width=a.style.width,a._hideunity_savedstyle.height=a.style.height,a.style.left="-10000px",a.style.position="absolute",a.style.width="1px",a.style.height="1px"}function i(a){a._hideunity_savedstyle&&(a.style.left=a._hideunity_savedstyle.left,a.style.position=a._hideunity_savedstyle.position,a.style.width=a._hideunity_savedstyle.width,a.style.height=a._hideunity_savedstyle.height)}function k(a){a._old_visibility=a.style.visibility,a.style.visibility="hidden"}function l(a){a.style.visibility=a._old_visibility||"",delete a._old_visibility}function m(a){var b=a.type?a.type.toLowerCase():null,c="application/x-shockwave-flash"===b||a.classid&&a.classid.toUpperCase()==x;if(!c)return!1;var d=/opaque|transparent/i;if(d.test(a.getAttribute("wmode")))return!1;for(var e=0;e<a.childNodes.length;e++){var f=a.childNodes[e];if(/param/i.test(f.nodeName)&&/wmode/i.test(f.name)&&d.test(f.value))return!1}return!0}function n(a){var b=a.type?a.type.toLowerCase():null;return"application/vnd.unity"===b||a.classid&&a.classid.toUpperCase()==y}function o(b){var c=w(a.document.getElementsByTagName("object"));c=c.concat(w(a.document.getElementsByTagName("embed")));var d=!1,e=!1;if(j(c,"forEach",!0,function(a){var c=m(a),g=A&&n(a);if(c||g){d=d||c,e=e||g;var j=function(){"opened"===b.state?c?k(a):h(a):c?l(a):i(a)};if(z){t.info("Calling developer specified callback");var o={state:b.state,elem:a};z(o),f(j,200)}else j()}}),Math.random()<=.001){var g={unity:e,flash:d};r(v.getClientID()+"/occludespopups","post",g)}}function p(){k(),h()}function q(){l(),i()}var r=c("sdk.api"),s=c("sdk.RPC"),t=c("Log"),u=c("UserAgent"),v=c("sdk.Runtime"),w=c("createArrayFrom"),x="CLSID:D27CDB6E-AE6D-11CF-96B8-444553540000",y="CLSID:444785F1-DE89-4295-863A-D46C3A781394",z=null,A=!(u.osx()>=10.9&&(u.chrome()>=31||u.webkit()>=537.71||u.firefox()>=25));s.local.hidePluginObjects=function(){t.info("hidePluginObjects called"),o({state:"opened"})},s.local.showPluginObjects=function(){t.info("showPluginObjects called"),o({state:"closed"})},s.local.showFlashObjects=s.local.showPluginObjects,s.local.hideFlashObjects=s.local.hidePluginObjects;var B={_setHidePluginCallback:function(a){z=a},hidePluginElement:p,showPluginElement:q};g.exports=B}),i("sdk.Canvas.IframeHandling",["DOMWrapper","sdk.RPC"],function(b,c,d,e,f){function h(){var a=l.getWindow().document,b=a.body,c=a.documentElement,d=Math.max(b.offsetTop,0),e=Math.max(c.offsetTop,0),f=b.scrollHeight+d,g=b.offsetHeight+d,h=c.scrollHeight+e,i=c.offsetHeight+e;return Math.max(f,g,h,i)}function i(b){"object"!=typeof b&&(b={});var c=0,d=0;if(b.height||(b.height=h(),c=16,d=4),b.frame||(b.frame=a.name||"iframe_canvas"),k){var e=k.height,f=b.height-e;if(d>=f&&f>=-c)return!1}return k=b,m.remote.setSize(b),!0}function j(a,b){void 0===b&&"number"==typeof a&&(b=a,a=!0),a||void 0===a?(null===n&&(n=g(function(){i()},b||100)),i()):null!==n&&(clearInterval(n),n=null)}var k,l=c("DOMWrapper"),m=c("sdk.RPC"),n=null;m.stub("setSize");var o={setSize:i,setAutoGrow:j};f.exports=o}),i("sdk.Canvas.Navigation",["sdk.RPC"],function(a,b,c,d,e){function f(a){g.local.navigate=function(b){a({path:b})},g.remote.setNavigationEnabled(!0)}var g=b("sdk.RPC");g.stub("setNavigationEnabled");var h={setUrlHandler:f};e.exports=h}),i("sdk.Canvas.Tti",["sdk.RPC","sdk.Runtime"],function(a,b,c,d,e){function f(a,b){var c={appId:l.getClientID(),time:j("Date","now",!1),name:b},d=[c];a&&d.push(function(b){a(b.result)}),k.remote.logTtiMessage.apply(null,d)}function g(){f(null,"StartIframeAppTtiTimer")}function h(a){f(a,"StopIframeAppTtiTimer")}function i(a){f(a,"RecordIframeAppTti")}var k=b("sdk.RPC"),l=b("sdk.Runtime");k.stub("logTtiMessage");var m={setDoneLoading:i,startTimer:g,stopTimer:h};e.exports=m}),i("legacy:fb.canvas",["Assert","sdk.Canvas.Environment","sdk.Event","FB","sdk.Canvas.Plugin","sdk.Canvas.IframeHandling","Log","sdk.Canvas.Navigation","sdk.Runtime","sdk.Canvas.Tti"],function(a,b){var c=b("Assert"),d=b("sdk.Canvas.Environment"),e=b("sdk.Event"),f=b("FB"),g=b("sdk.Canvas.Plugin"),h=b("sdk.Canvas.IframeHandling"),i=b("Log"),j=b("sdk.Canvas.Navigation"),k=b("sdk.Runtime"),l=b("sdk.Canvas.Tti");f.provide("Canvas",{setSize:function(a){return c.maybeObject(a,"Invalid argument"),h.setSize.apply(null,arguments)},setAutoGrow:function(){return h.setAutoGrow.apply(null,arguments)},getPageInfo:function(a){return c.isFunction(a,"Invalid argument"),d.getPageInfo.apply(null,arguments)},scrollTo:function(a,b){return c.maybeNumber(a,"Invalid argument"),c.maybeNumber(b,"Invalid argument"),d.scrollTo.apply(null,arguments)},setDoneLoading:function(a){return c.maybeFunction(a,"Invalid argument"),l.setDoneLoading.apply(null,arguments)},startTimer:function(){return l.startTimer.apply(null,arguments)},stopTimer:function(a){return c.maybeFunction(a,"Invalid argument"),l.stopTimer.apply(null,arguments)},getHash:function(a){return c.isFunction(a,"Invalid argument"),j.getHash.apply(null,arguments)},setHash:function(a){return c.isString(a,"Invalid argument"),j.setHash.apply(null,arguments)},setUrlHandler:function(a){return c.isFunction(a,"Invalid argument"),j.setUrlHandler.apply(null,arguments)}}),f.provide("CanvasInsights",{setDoneLoading:function(a){return i.warn("Deprecated: use FB.Canvas.setDoneLoading"),c.maybeFunction(a,"Invalid argument"),l.setDoneLoading.apply(null,arguments)}}),e.subscribe("init:post",function(a){k.isEnvironment(k.ENVIRONMENTS.CANVAS)&&(c.isTrue(!a.hideFlashCallback||!a.hidePluginCallback,"cannot specify deprecated hideFlashCallback and new hidePluginCallback"),g._setHidePluginCallback(a.hidePluginCallback||a.hideFlashCallback))})},3),i("sdk.Canvas.Prefetcher",["sdk.api","createArrayFrom","sdk.Runtime","CanvasPrefetcherConfig"],function(a,b,c,d,g){function h(){var a={object:"data",link:"href",script:"src"};t==q.AUTOMATIC&&j(j("Object","keys",!1,a),"forEach",!0,function(b){var c=a[b];j(n(e.getElementsByTagName(b)),"forEach",!0,function(a){a[c]&&u.push(a[c])})}),0!==u.length&&(m(p.getClientID()+"/staticresources","post",{urls:j("JSON","stringify",!1,u),is_https:"https:"===location.protocol}),u=[])}function i(){p.isEnvironment(p.ENVIRONMENTS.CANVAS)&&p.getClientID()&&r&&(Math.random()>1/r||"*"==s||~j(s,"indexOf",!0,p.getClientID())||f(h,3e4))}function k(a){t=a}function l(a){u.push(a)}var m=b("sdk.api"),n=b("createArrayFrom"),o=c("CanvasPrefetcherConfig"),p=b("sdk.Runtime"),q={AUTOMATIC:0,MANUAL:1},r=o.sampleRate,s=o.blacklist,t=q.AUTOMATIC,u=[],v={COLLECT_AUTOMATIC:q.AUTOMATIC,COLLECT_MANUAL:q.MANUAL,addStaticResource:l,setCollectionMode:k,_maybeSample:i};g.exports=v}),i("legacy:fb.canvas.prefetcher",["FB","sdk.Canvas.Prefetcher","sdk.Event","sdk.Runtime"],function(a,b){var c=b("FB"),d=b("sdk.Canvas.Prefetcher"),e=b("sdk.Event"),f=b("sdk.Runtime");
c.provide("Canvas.Prefetcher",d),e.subscribe("init:post",function(){f.isEnvironment(f.ENVIRONMENTS.CANVAS)&&d._maybeSample()})},3),i("legacy:fb.compat.ui",["copyProperties","FB","Log","sdk.ui","sdk.UIServer"],function(a,b){var c=b("copyProperties"),d=b("FB"),e=b("Log"),f=b("sdk.ui"),g=b("sdk.UIServer");d.provide("",{share:function(a){e.error("share() has been deprecated. Please use FB.ui() instead."),f({display:"popup",method:"stream.share",u:a})},publish:function(a,b){e.error("publish() has been deprecated. Please use FB.ui() instead."),a=a||{},f(c({display:"popup",method:"stream.publish",preview:1},a||{}),b)},addFriend:function(a,b){e.error("addFriend() has been deprecated. Please use FB.ui() instead."),f({display:"popup",id:a,method:"friend.add"},b)}}),g.Methods["auth.login"]=g.Methods["permissions.request"]},3),i("mergeArrays",[],function(a,b,c,d,e){function f(a,b){for(var c=0;c<b.length;c++)j(a,"indexOf",!0,b[c])<0&&a.push(b[c]);return a}e.exports=f}),i("format",[],function(a,b,c,d,e){function f(a,b){return b=Array.prototype.slice.call(arguments,1),a.replace(/\{(\d+)\}/g,function(a,c){var d=b[Number(c)];return null===d||void 0===d?"":d.toString()})}e.exports=f}),i("safeEval",[],function(b,c,d,e,f){function g(b,c){return null!==b&&"undefined"!=typeof b?"string"!=typeof b?b:/^\w+$/.test(b)&&"function"==typeof a[b]?a[b].apply(null,c||[]):Function('return eval("'+b.replace(/"/g,'\\"')+'");').apply(null,c||[]):void 0}f.exports=g}),i("sdk.Waitable",["sdk.Model"],function(a,b,c,d,e){var f=b("sdk.Model"),g=f.extend({constructor:function(){this.parent({Value:void 0})},error:function(a){this.inform("error",a)},wait:function(a,b){b&&this.subscribe("error",b),this.monitor("Value.change",j(function(){var b=this.getValue();return void 0!==b?(this.value=b,a(b),!0):void 0},"bind",!0,this))}});e.exports=g}),i("sdk.Query",["format","safeEval","Type","sdk.Waitable"],function(a,b,c,d,e){function f(a){return j(a.split(","),"map",!0,function(a){return j(a,"trim",!0)})}function g(a){var b,c,d=/^\s*(\w+)\s*=\s*(.*)\s*$/i.exec(a),e="unknown";return d&&(c=d[2],/^(["'])(?:\\?.)*?\1$/.test(c)?(c=k(c),e="index"):/^\d+\.?\d*$/.test(c)&&(e="index")),b="index"==e?{type:"index",key:d[1],value:c}:{type:"unknown",value:a}}function h(a){return"string"==typeof a?j("JSON","stringify",!1,a):a}var i=b("format"),k=b("safeEval"),l=b("Type"),m=b("sdk.Waitable"),n=1,o=m.extend({constructor:function(){this.parent(),this.name="v_"+n++},hasDependency:function(a){return arguments.length&&(this._hasDependency=a),!!this._hasDependency},parse:function(a){var b=i.apply(null,a),c=/^select (.*?) from (\w+)\s+where (.*)$/i.exec(b);this.fields=f(c[1]),this.table=c[2],this.where=g(c[3]);for(var d=1;d<a.length;d++)l.instanceOf(o,a[d])&&a[d].hasDependency(!0);return this},toFql:function(){var a="select "+this.fields.join(",")+" from "+this.table+" where ";switch(this.where.type){case"unknown":a+=this.where.value;break;case"index":a+=this.where.key+"="+h(this.where.value);break;case"in":a+=1==this.where.value.length?this.where.key+"="+h(this.where.value[0]):this.where.key+" in ("+j(this.where.value,"map",!0,h).join(",")+")"}return a},toString:function(){return"#"+this.name}});e.exports=o}),i("sdk.Data",["sdk.api","sdk.ErrorHandling","mergeArrays","sdk.Query","safeEval","sdk.Waitable"],function(a,b,c,d,e){var g=b("sdk.api"),h=b("sdk.ErrorHandling"),i=b("mergeArrays"),k=b("sdk.Query"),l=b("safeEval"),m=b("sdk.Waitable"),n={query:function(){var a=(new k).parse(Array.prototype.slice.call(arguments));return n.queue.push(a),n._waitToProcess(),a},waitOn:function(a,b){var c=new m,d=a.length;if("string"==typeof b){var e=b;b=h.unguard(function(){return l(e)})}return j(a,"forEach",!0,function(e){e.monitor("Value.change",function(){var f=!1;if(void 0!==n._getValue(e)&&(e.value=e.getValue(),d--,f=!0),0===d){var g=b(j(a,"map",!0,n._getValue));c.setValue(void 0!==g?g:!0)}return f})}),c},process:function(a){n._process(a)},_getValue:function(a){return a instanceof m?a.getValue():a},_selectByIndex:function(a,b,c,d){var e=new k;return e.fields=a,e.table=b,e.where={type:"index",key:c,value:d},n.queue.push(e),n._waitToProcess(),e},_waitToProcess:function(){n.timer<0&&(n.timer=f(function(){n._process()},10))},_process:function(a){n.timer=-1;var b={},c=n.queue;if(c.length){n.queue=[];for(var d=0;d<c.length;d++){var e=c[d];"index"!=e.where.type||e.hasDependency()?b[e.name]=e:n._mergeIndexQuery(e,b)}var f={q:{}};for(var h in b)b.hasOwnProperty(h)&&(f.q[h]=b[h].toFql());a&&(f.access_token=a),g("/fql","GET",f,function(a){a.error?j(j("Object","keys",!1,b),"forEach",!0,function(c){b[c].error(new Error(a.error.message))}):j(a.data,"forEach",!0,function(a){b[a.name].setValue(a.fql_result_set)})})}},_mergeIndexQuery:function(a,b){var c=a.where.key,d=a.where.value,e="index_"+a.table+"_"+c,f=b[e];f||(f=b[e]=new k,f.fields=[c],f.table=a.table,f.where={type:"in",key:c,value:[]}),i(f.fields,a.fields),i(f.where.value,[d]),f.wait(function(b){a.setValue(j(b,"filter",!0,function(a){return a[c]==d}))})},timer:-1,queue:[]};e.exports=n}),i("legacy:fb.data",["FB","sdk.Data"],function(a,b){var c=b("FB"),d=b("sdk.Data");c.provide("Data",d)},3),i("legacy:fb.event",["FB","sdk.Event"],function(a,b){var c=b("FB"),d=b("sdk.Event");c.provide("Event",d),c.provide("EventProvider",d)},3),i("legacy:fb.frictionless",["FB","sdk.Frictionless"],function(a,b){var c=b("FB"),d=b("sdk.Frictionless");c.provide("Frictionless",d)},3),i("sdk.init",["sdk.Cookie","copyProperties","createArrayFrom","sdk.ErrorHandling","sdk.Event","Log","QueryString","sdk.Runtime"],function(b,c,d,g,h){function i(a){var b="number"==typeof a&&a>0||"string"==typeof a&&/^[0-9a-f]{21,}$|^[0-9]{1,21}$/.test(a);return b?a.toString():(q.warn("Invalid App Id: Must be a number or numeric string representing the application id."),null)}function k(a){s.getInitialized()&&q.warn("FB.init has already been called - this could indicate a problem"),/number|string/.test(typeof a)&&(q.warn("FB.init called with invalid parameters"),a={apiKey:a}),a=m({logging:!0,status:!0},a||{});var b=i(a.appId||a.apiKey);null!==b&&s.setClientID(b),"scope"in a&&s.setScope(a.scope),a.cookie&&(s.setUseCookie(!0),"string"==typeof a.cookie&&l.setDomain(a.cookie)),a.kidDirectedSite&&s.setKidDirectedSite(!0),s.setInitialized(!0),p.fire("init:post",a)}var l=c("sdk.Cookie"),m=c("copyProperties"),n=c("createArrayFrom"),o=c("sdk.ErrorHandling"),p=c("sdk.Event"),q=c("Log"),r=c("QueryString"),s=c("sdk.Runtime");f(function(){var b=/(connect\.facebook\.net|\.facebook\.com\/assets.php).*?#(.*)/;j(n(e.getElementsByTagName("script")),"forEach",!0,function(a){if(a.src){var c=b.exec(a.src);if(c){var d=r.decode(c[2]);for(var e in d)if(d.hasOwnProperty(e)){var f=d[e];"0"==f&&(d[e]=0)}k(d)}}}),a.fbAsyncInit&&!a.fbAsyncInit.hasRun&&(a.fbAsyncInit.hasRun=!0,o.unguard(a.fbAsyncInit)())},0),h.exports=k}),i("legacy:fb.init",["FB","sdk.init"],function(a,b){var c=b("FB"),d=b("sdk.init");c.provide("",{init:d})},3),i("legacy:fb.json",["FB","ManagedError"],function(a,b){var c=b("FB"),d=b("ManagedError");c.provide("JSON",{stringify:function(a){try{return j("JSON","stringify",!1,a)}catch(b){throw new d(b.message,b)}},parse:function(a){try{return j("JSON","parse",!1,a)}catch(b){throw new d(b.message,b)}}})},3),i("legacy:fb.pay",["FB","copyProperties","sdk.Runtime","sdk.UIServer","sdk.XD"],function(b,c){c("FB");var d=c("copyProperties"),e=c("sdk.Runtime"),f=c("sdk.UIServer"),g=c("sdk.XD"),h={error_code:1383001,error_message:"An unknown error caused the dialog to be closed"},i=function(a){return function(b){a(b&&b.response?j("JSON","parse",!1,b.response):h)}};d(f.Methods,{"pay.prompt":{transform:function(b){var c=g.handler(i(b.cb),"parent.frames["+(a.name||"iframe_canvas")+"]");b.params.channel=c,g.inform("Pay.Prompt",b.params)}},pay:{size:{width:555,height:120},connectDisplay:"popup",transform:function(b){if(b.cb=i(b.cb),!e.isEnvironment(e.ENVIRONMENTS.CANVAS))return b.params.order_info=j("JSON","stringify",!1,b.params.order_info),b;var c=g.handler(b.cb,"parent.frames["+(a.name||"iframe_canvas")+"]");b.params.channel=c,b.params.uiserver=!0,g.inform("Pay.Prompt",b.params)}}})},3),i("legacy:fb.ua",["FB","UserAgent"],function(a,b){var c=b("FB"),d=b("UserAgent");c.provide("UA",{nativeApp:d.nativeApp})},3),i("legacy:fb.ui",["FB","sdk.ui"],function(a,b){var c=b("FB"),d=b("sdk.ui");c.provide("",{ui:d})},3),i("Miny",[],function(a,b,c,d,e){function f(a){for(var b=k.encode.length;a>b;b++){var c=b.toString(32).split("");c[c.length-1]=l[parseInt(c[c.length-1],32)],c=c.join(""),k.encode[b]=c,k.decode[c]=b}return k}function g(a){for(var b=a.match(/\w+|\W+/g),c={},d=0;d<b.length;d++)c[b[d]]=(c[b[d]]||0)+1;var e=j("Object","keys",!1,c);e.sort(function(a,b){return c[a]<c[b]?1:c[b]<c[a]?-1:0});var g=f(e.length).encode;for(d=0;d<e.length;d++)c[e[d]]=g[d];var h=[];for(d=0;d<b.length;d++)h[d]=c[b[d]];for(d=0;d<e.length;d++)e[d]=e[d].replace(/'~'/g,"\\~");return[i,e.length].concat(e).concat(h.join("")).join("~")}function h(a){var b=a.split("~");if(b.shift()!=i)throw new Error("Not a Miny stream");var c=parseInt(b.shift(),10),d=b.pop();d=d.match(/[0-9a-v]*[\-w-zA-Z_]/g);for(var e=b,g=f(c).decode,h=[],j=0;j<d.length;j++)h[j]=e[g[d[j]]];return h.join("")}var i="Miny1",k={encode:[],decode:{}},l="wxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split(""),m={encode:g,decode:h};e.exports=m}),i("runOnce",[],function(a,b,c,d,e){function f(a){var b,c;return function(){return b||(b=!0,c=a()),c}}e.exports=f}),i("XFBML",["Assert","copyProperties","createArrayFrom","sdk.DOM","sdk.feature","sdk.Impressions","Log","ObservableMixin","runOnce","UserAgent"],function(a,b,c,d,g){function h(a,b){return a[b]+""}function i(a){return a.scopeName?a.scopeName+":"+a.nodeName:""}function k(a){return z[h(a,"nodeName").toLowerCase()]||z[i(a).toLowerCase()]}function l(a){var b=j(j(h(a,"className"),"trim",!0).split(/\s+/),"filter",!0,function(a){return A.hasOwnProperty(a)});return 0===b.length?void 0:a.getAttribute("fb-xfbml-state")||!a.childNodes||0===a.childNodes.length||1===a.childNodes.length&&3===a.childNodes[0].nodeType||1===a.children.length&&"fb-xfbml-parse-ignore"===h(a.children[0],"className")?A[b[0]]:void 0}function m(a){var b={};return j(r(a.attributes),"forEach",!0,function(a){b[h(a,"name")]=h(a,"value")}),b}function n(a,b,c){var d=e.createElement("div");return s.addCss(a,b+"-"+c),j(r(a.childNodes),"forEach",!0,function(a){d.appendChild(a)}),j(r(a.attributes),"forEach",!0,function(a){d.setAttribute(a.name,a.value)}),a.parentNode.replaceChild(d,a),d}function o(a,b,c){p.isTrue(a&&a.nodeType&&1===a.nodeType&&!!a.getElementsByTagName,"Invalid DOM node passed to FB.XFBML.parse()"),p.isFunction(b,"Invalid callback passed to FB.XFBML.parse()");var d=++B;v.info("XFBML Parsing Start %s",d);var e=1,g=0,h=function(){e--,0===e&&(v.info("XFBML Parsing Finish %s, %s tags found",d,g),b(),C.inform("render",d,g)),p.isTrue(e>=0,"onrender() has been called too many times")};j(r(a.getElementsByTagName("*")),"forEach",!0,function(a){if((c||!a.getAttribute("fb-xfbml-state"))&&1===a.nodeType){var b=k(a)||l(a);if(b){y.ie()<9&&a.scopeName&&(a=n(a,b.xmlns,b.localName)),e++,g++;var d=new b.ctor(a,b.xmlns,b.localName,m(a));d.subscribe("render",x(function(){a.setAttribute("fb-xfbml-state","rendered"),h()}));var f=function(){"parsed"==a.getAttribute("fb-xfbml-state")?C.subscribe("render.queue",f):(a.setAttribute("fb-xfbml-state","parsed"),d.process())};f()}}}),C.inform("parse",d,g);var i=3e4;f(function(){e>0&&v.warn("%s tags failed to render in %s ms",e,i)},i),h()}var p=b("Assert"),q=b("copyProperties"),r=b("createArrayFrom"),s=b("sdk.DOM"),t=b("sdk.feature"),u=b("sdk.Impressions"),v=b("Log"),w=b("ObservableMixin"),x=b("runOnce"),y=b("UserAgent"),z={},A={},B=0,C=new w;if(C.subscribe("render",function(){var a=C.getSubscribers("render.queue");C.clearSubscribers("render.queue"),j(a,"forEach",!0,function(a){a()})}),q(C,{registerTag:function(a){var b=a.xmlns+":"+a.localName;p.isUndefined(z[b],b+" already registered"),z[b]=a,A[a.xmlns+"-"+a.localName]=a},parse:function(a,b){o(a||e.body,b||function(){},!0)},parseNew:function(){o(e.body,function(){},!1)}}),t("log_tag_count")){var D=function(a,b){C.unsubscribe("parse",D),f(j(u.log,"bind",!0,null,102,{tag_count:b}),5e3)};C.subscribe("parse",D)}g.exports=C}),i("PluginPipe",["sdk.Content","copyProperties","sdk.feature","guid","insertIframe","Miny","ObservableMixin","sdk.Runtime","UrlMap","UserAgent","XFBML","PluginPipeConfig"],function(a,b,c,d,f){function g(){return!(!m("plugin_pipe")||void 0===s.getSecure()||!u.chrome()&&!u.firefox()||!r.enabledApps[s.getClientID()])}function h(){function a(){c--,0===c&&i(b)}var b=y;if(y=[],b.length<=x)return void j(b,"forEach",!0,function(a){o(a.config)});var c=b.length+1;j(b,"forEach",!0,function(b){var c={};for(var d in b.config)c[d]=b.config[d];c.url=t.resolve("www",s.getSecure())+"/plugins/plugin_pipe_shell.php",c.onload=a,o(c)}),a()}function i(a){var b=e.createElement("span");k.appendHidden(b);var c={};j(a,"forEach",!0,function(a){c[a.config.name]={plugin:a.tag,params:a.params}});var d=j("JSON","stringify",!1,c),f=p.encode(d);j(a,"forEach",!0,function(a){var b=e.getElementsByName(a.config.name)[0];b.onload=a.config.onload});var g=t.resolve("www",s.getSecure())+"/plugins/pipe.php",h=n();o({url:"about:blank",root:b,name:h,className:"fb_hidden fb_invisible",onload:function(){k.submitToTarget({url:g,target:h,params:{plugins:f.length<d.length?f:d}})}})}var k=b("sdk.Content"),l=b("copyProperties"),m=b("sdk.feature"),n=b("guid"),o=b("insertIframe"),p=b("Miny"),q=b("ObservableMixin"),r=c("PluginPipeConfig"),s=b("sdk.Runtime"),t=b("UrlMap"),u=b("UserAgent"),v=b("XFBML"),w=new q,x=r.threshold,y=[];v.subscribe("parse",h),l(w,{add:function(a){var b=g();return b&&y.push({config:a._config,tag:a._tag,params:a._params}),b}}),f.exports=w}),i("IframePlugin",["sdk.Auth","sdk.createIframe","copyProperties","sdk.DOM","sdk.Event","guid","Log","ObservableMixin","PluginPipe","QueryString","resolveURI","sdk.Runtime","Type","UrlMap","UserAgent","sdk.XD"],function(b,c,d,g,h){function i(a,b,c){(b||0===b)&&(a.style.width=b+"px"),(c||0===c)&&(a.style.height=c+"px")}function k(a){return function(b){var c={width:b.width,height:b.height,pluginID:a};s.fire("xfbml.resize",c)}}function l(a,b){var c=a[b]||a[b.replace(/_/g,"-")]||a[b.replace(/_/g,"")]||a["data-"+b]||a["data-"+b.replace(/_/g,"-")]||a["data-"+b.replace(/_/g,"")]||void 0;return c}function m(a,b,c,d){j(j("Object","keys",!1,a),"forEach",!0,function(e){"text"!=a[e]||c[e]||(c[e]=b.textContent||b.innerText||"",b.setAttribute(e,c[e])),d[e]=F[a[e]](l(c,e))})}function n(a){return a||"0"===a||0===a?parseInt(a,10):void 0}var o=c("sdk.Auth"),p=c("sdk.createIframe"),q=c("copyProperties"),r=c("sdk.DOM"),s=c("sdk.Event"),t=c("guid"),u=c("Log"),v=c("ObservableMixin"),w=c("PluginPipe"),x=c("QueryString"),y=c("resolveURI"),z=c("sdk.Runtime"),A=c("Type"),B=c("UrlMap"),C=c("UserAgent"),D=c("sdk.XD"),E={skin:"string",font:"string",width:"px",height:"px",ref:"string",color_scheme:"string"},F={string:function(a){return a},bool:function(a){return a?/^(?:true|1|yes|on)$/i.test(a):void 0},url:function(a){return y(a)},url_maybe:function(a){return a?y(a):a},hostname:function(b){return b||a.location.hostname},px:function(a){return/^(\d+)(?:px)?$/.test(a)?parseInt(RegExp.$1,10):void 0},text:function(a){return a}},G=A.extend({constructor:function(b,c,d,f){this.parent(),d=d.replace(/-/g,"_");var g=l(f,"plugin_id");this.subscribe("xd.resize",k(g)),this.subscribe("xd.resize.flow",k(g)),this.subscribe("xd.resize.flow",j(function(a){this._config.root.style.verticalAlign="bottom",i(this._config.root,n(a.width),n(a.height)),this.updateLift(),clearTimeout(this._timeoutID)},"bind",!0,this)),this.subscribe("xd.resize",j(function(a){this._config.root.style.verticalAlign="bottom",i(this._config.root,n(a.width),n(a.height)),i(this._iframe,n(a.width),n(a.height)),this.updateLift(),clearTimeout(this._timeoutID)},"bind",!0,this)),this.subscribe("xd.resize.iframe",j(function(a){i(this._iframe,n(a.width),n(a.height)),this.updateLift(),clearTimeout(this._timeoutID)},"bind",!0,this)),this.subscribe("xd.sdk_event",function(a){var c=j("JSON","parse",!1,a.data);c.pluginID=g,s.fire(a.event,c,b)});var h=z.getSecure()||"https:"==a.location.protocol,p=B.resolve("www",h)+"/plugins/"+d+".php?",q={};m(this.getParams(),b,f,q),m(E,b,f,q),q.app_id=z.getClientID(),q.locale=z.getLocale(),q.sdk="joey",q.kid_directed_site=z.getKidDirectedSite();var u=j(function(a){this.inform("xd."+a.type,a)},"bind",!0,this);q.channel=D.handler(u,"parent.parent",!0),r.addCss(b,"fb_iframe_widget");var v=t();this.subscribe("xd.verify",function(a){D.sendToFacebook(v,{method:"xd/verify",params:j("JSON","stringify",!1,a.token)})}),this.subscribe("xd.refreshLoginStatus",j(o.getLoginStatus,"bind",!0,o,j(this.inform,"bind",!0,this,"login.status"),!0));var w=e.createElement("span");w.style.verticalAlign="top",w.style.width="0px",w.style.height="0px",this._element=b,this._ns=c,this._tag=d,this._params=q,this._config={root:w,url:p+x.encode(q),name:v,width:C.mobile()?void 0:q.width||1e3,height:q.height||1e3,style:{border:"none",visibility:"hidden"},title:this._ns+":"+this._tag+" Facebook Social Plugin",onload:j(function(){this.inform("render")},"bind",!0,this)}},process:function(){var a=q({},this._params);delete a.channel;var b=x.encode(a);if(this._element.getAttribute("fb-iframe-plugin-query")==b)return u.info("Skipping render: %s:%s %s",this._ns,this._tag,b),void this.inform("render");for(this._element.setAttribute("fb-iframe-plugin-query",b),this.subscribe("render",function(){this._iframe.style.visibility="visible"});this._element.firstChild;)this._element.removeChild(this._element.firstChild);this._element.appendChild(this._config.root);var c=C.mobile()?120:45;this._timeoutID=f(j(function(){this._iframe&&i(this._iframe,0,0),u.warn("%s:%s failed to resize in %ss",this._ns,this._tag,c)},"bind",!0,this),1e3*c),w.add(this)||(this._iframe=p(this._config)),C.mobile()&&(r.addCss(this._element,"fb_iframe_widget_fluid"),this._element.style.display="block",this._element.style.width="100%",this._element.style.height="auto",this._config.root.style.width="100%",this._config.root.style.height="auto",this._iframe.style.width="100%",this._iframe.style.height="auto",this._iframe.style.position="static")},updateLift:function(){var a=this._iframe.style.width===this._config.root.style.width&&this._iframe.style.height===this._config.root.style.height;r[a?"removeCss":"addCss"](this._iframe,"fb_iframe_widget_lift")}},v);G.getVal=l,G.withParams=function(a){return G.extend({getParams:function(){return a}})},h.exports=G}),i("PluginTags",[],function(a,b,c,d,e){var f={activity:{filter:"string",action:"string",max_age:"string",linktarget:"string",header:"bool",recommendations:"bool",site:"hostname"},composer:{action_type:"string",action_properties:"string"},create_event_button:{},degrees:{href:"url"},facepile:{href:"string",action:"string",size:"string",max_rows:"string",show_count:"bool"},follow:{href:"url",layout:"string",show_faces:"bool"},like:{href:"url",layout:"string",show_faces:"bool",share:"bool",action:"string",send:"bool"},like_box:{href:"string",show_faces:"bool",header:"bool",stream:"bool",force_wall:"bool",show_border:"bool",id:"string",connections:"string",profile_id:"string",name:"string"},open_graph:{href:"url",layout:"string",show_faces:"bool",action_type:"string",action_properties:"string"},open_graph_preview:{action_type:"string",action_properties:"string"},page_events:{href:"url"},post:{href:"url",show_border:"bool"},privacy_selector:{},profile_pic:{uid:"string",linked:"bool",href:"string",size:"string",facebook_logo:"bool"},recommendations:{filter:"string",action:"string",max_age:"string",linktarget:"string",header:"bool",site:"hostname"},share_button:{href:"url",type:"string"},shared_activity:{header:"bool"},send:{href:"url"},send_to_mobile:{max_rows:"string",show_faces:"bool",size:"string"},story:{href:"url",show_border:"bool"},topic:{topic_name:"string",topic_id:"string"},want:{href:"url",layout:"string",show_faces:"bool"}},g={subscribe:"follow",fan:"like_box",likebox:"like_box",friendpile:"facepile"};j(j("Object","keys",!1,g),"forEach",!0,function(a){f[a]=f[g[a]]}),e.exports=f}),i("sdk.Arbiter",[],function(a,b,c,d,e){var f={BEHAVIOR_EVENT:"e",BEHAVIOR_PERSISTENT:"p",BEHAVIOR_STATE:"s"};e.exports=f}),i("sdk.XFBML.Element",["sdk.DOM","Type","ObservableMixin"],function(a,b,c,d,f){var g=b("sdk.DOM"),h=b("Type"),i=b("ObservableMixin"),k=h.extend({constructor:function(a){this.parent(),this.dom=a},fire:function(){this.inform.apply(this,arguments)},getAttribute:function(a,b,c){var d=g.getAttr(this.dom,a);return d?c?c(d):d:b},_getBoolAttribute:function(a,b){var c=g.getBoolAttr(this.dom,a);return null===c?b:c},_getPxAttribute:function(a,b){return this.getAttribute(a,b,function(a){var c=parseInt(a.replace("px",""),10);return isNaN(c)?b:c})},_getAttributeFromList:function(a,b,c){return this.getAttribute(a,b,function(a){return a=a.toLowerCase(),j(c,"indexOf",!0,a)>-1?a:b})},isValid:function(){for(var a=this.dom;a;a=a.parentNode)if(a==e.body)return!0},clear:function(){g.html(this.dom,"")}},i);f.exports=k}),i("sdk.XFBML.IframeWidget",["sdk.Arbiter","sdk.Auth","sdk.Content","copyProperties","sdk.DOM","sdk.Event","sdk.XFBML.Element","guid","insertIframe","QueryString","sdk.Runtime","sdk.ui","UrlMap","sdk.XD"],function(a,b,c,d,f){var g=b("sdk.Arbiter"),h=b("sdk.Auth"),i=b("sdk.Content"),k=b("copyProperties"),l=b("sdk.DOM"),m=b("sdk.Event"),n=b("sdk.XFBML.Element"),o=b("guid"),p=b("insertIframe"),q=b("QueryString"),r=b("sdk.Runtime"),s=b("sdk.ui"),t=b("UrlMap"),u=b("sdk.XD"),v=n.extend({_iframeName:null,_showLoader:!0,_refreshOnAuthChange:!1,_allowReProcess:!1,_fetchPreCachedLoader:!1,_visibleAfter:"load",_widgetPipeEnabled:!1,_borderReset:!1,_repositioned:!1,getUrlBits:function(){throw new Error("Inheriting class needs to implement getUrlBits().")},setupAndValidate:function(){return!0},oneTimeSetup:function(){},getSize:function(){},getIframeName:function(){return this._iframeName},getIframeTitle:function(){return"Facebook Social Plugin"},getChannelUrl:function(){if(!this._channelUrl){var a=this;this._channelUrl=u.handler(function(b){a.fire("xd."+b.type,b)},"parent.parent",!0)}return this._channelUrl},getIframeNode:function(){return this.dom.getElementsByTagName("iframe")[0]},arbiterInform:function(a,b,c){u.sendToFacebook(this.getIframeName(),{method:a,params:j("JSON","stringify",!1,b||{}),behavior:c||g.BEHAVIOR_PERSISTENT})},_arbiterInform:function(a,b,c){var d='parent.frames["'+this.getIframeNode().name+'"]';u.inform(a,b,d,c)},getDefaultWebDomain:function(){return t.resolve("www")},process:function(a){if(this._done){if(!this._allowReProcess&&!a)return;this.clear()}else this._oneTimeSetup();if(this._done=!0,this._iframeName=this.getIframeName()||this._iframeName||o(),!this.setupAndValidate())return void this.fire("render");this._showLoader&&this._addLoader(),l.addCss(this.dom,"fb_iframe_widget"),"immediate"!=this._visibleAfter?l.addCss(this.dom,"fb_hide_iframes"):this.subscribe("iframe.onload",j(this.fire,"bind",!0,this,"render"));var b=this.getSize()||{},c=this.getFullyQualifiedURL();"100%"==b.width&&l.addCss(this.dom,"fb_iframe_widget_fluid"),this.clear(),p({url:c,root:this.dom.appendChild(e.createElement("span")),name:this._iframeName,title:this.getIframeTitle(),className:r.getRtl()?"fb_rtl":"fb_ltr",height:b.height,width:b.width,onload:j(this.fire,"bind",!0,this,"iframe.onload")}),this._resizeFlow(b),this.loaded=!1,this.subscribe("iframe.onload",j(function(){this.loaded=!0},"bind",!0,this))},generateWidgetPipeIframeName:function(){return w++,"fb_iframe_"+w},getFullyQualifiedURL:function(){var a=this._getURL();if(a+="?"+q.encode(this._getQS()),a.length>2e3){a="about:blank";var b=j(function(){this._postRequest(),this.unsubscribe("iframe.onload",b)},"bind",!0,this);this.subscribe("iframe.onload",b)}return a},_getWidgetPipeShell:function(){return t.resolve("www")+"/common/widget_pipe_shell.php"},_oneTimeSetup:function(){this.subscribe("xd.resize",j(this._handleResizeMsg,"bind",!0,this)),this.subscribe("xd.resize",j(this._bubbleResizeEvent,"bind",!0,this)),this.subscribe("xd.resize.iframe",j(this._resizeIframe,"bind",!0,this)),this.subscribe("xd.resize.flow",j(this._resizeFlow,"bind",!0,this)),this.subscribe("xd.resize.flow",j(this._bubbleResizeEvent,"bind",!0,this)),this.subscribe("xd.refreshLoginStatus",function(){h.getLoginStatus(function(){},!0)}),this.subscribe("xd.logout",function(){s({method:"auth.logout",display:"hidden"},function(){})}),this._refreshOnAuthChange&&this._setupAuthRefresh(),"load"==this._visibleAfter&&this.subscribe("iframe.onload",j(this._makeVisible,"bind",!0,this)),this.subscribe("xd.verify",j(function(a){this.arbiterInform("xd/verify",a.token)},"bind",!0,this)),this.oneTimeSetup()},_makeVisible:function(){this._removeLoader(),l.removeCss(this.dom,"fb_hide_iframes"),this.fire("render")},_setupAuthRefresh:function(){h.getLoginStatus(j(function(a){var b=a.status;m.subscribe("auth.statusChange",j(function(a){this.isValid()&&(("unknown"==b||"unknown"==a.status)&&this.process(!0),b=a.status)},"bind",!0,this))},"bind",!0,this))},_handleResizeMsg:function(a){this.isValid()&&(this._resizeIframe(a),this._resizeFlow(a),this._borderReset||(this.getIframeNode().style.border="none",this._borderReset=!0),this._makeVisible())},_bubbleResizeEvent:function(a){var b={height:a.height,width:a.width,pluginID:this.getAttribute("plugin-id")};m.fire("xfbml.resize",b)},_resizeIframe:function(a){var b=this.getIframeNode();"true"===a.reposition&&this._repositionIframe(a),a.height&&(b.style.height=a.height+"px"),a.width&&(b.style.width=a.width+"px"),this._updateIframeZIndex()},_resizeFlow:function(a){var b=this.dom.getElementsByTagName("span")[0];a.height&&(b.style.height=a.height+"px"),a.width&&(b.style.width=a.width+"px"),this._updateIframeZIndex()},_updateIframeZIndex:function(){var a=this.dom.getElementsByTagName("span")[0],b=this.getIframeNode(),c=b.style.height===a.style.height&&b.style.width===a.style.width,d=c?"removeCss":"addCss";l[d](b,"fb_iframe_widget_lift")},_repositionIframe:function(a){var b=this.getIframeNode(),c=parseInt(l.getStyle(b,"width"),10),d=l.getPosition(b).x,e=l.getViewportInfo().width,f=parseInt(a.width,10);d+f>e&&d>f?(b.style.left=c-f+"px",this.arbiterInform("xd/reposition",{type:"horizontal"}),this._repositioned=!0):this._repositioned&&(b.style.left="0px",this.arbiterInform("xd/reposition",{type:"restore"}),this._repositioned=!1)},_addLoader:function(){this._loaderDiv||(l.addCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv=e.createElement("div"),this._loaderDiv.className="FB_Loader",this.dom.appendChild(this._loaderDiv))},_removeLoader:function(){this._loaderDiv&&(l.removeCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv.parentNode&&this._loaderDiv.parentNode.removeChild(this._loaderDiv),this._loaderDiv=null)},_getQS:function(){return k({api_key:r.getClientID(),locale:r.getLocale(),sdk:"joey",kid_directed_site:r.getKidDirectedSite(),ref:this.getAttribute("ref")},this.getUrlBits().params)},_getURL:function(){var a=this.getDefaultWebDomain(),b="";return a+"/plugins/"+b+this.getUrlBits().name+".php"},_postRequest:function(){i.submitToTarget({url:this._getURL(),target:this.getIframeNode().name,params:this._getQS()})}}),w=0;f.exports=v}),i("sdk.XFBML.Comments",["sdk.Event","sdk.XFBML.IframeWidget","QueryString","sdk.Runtime","UrlMap","UserAgent","SDKConfig"],function(b,c,d,f,g){var h=c("sdk.Event"),i=c("sdk.XFBML.IframeWidget"),k=c("QueryString"),l=c("sdk.Runtime"),m=d("SDKConfig"),n=c("UrlMap"),o=c("UserAgent"),p=i.extend({_visibleAfter:"immediate",_refreshOnAuthChange:!0,setupAndValidate:function(){var b={channel_url:this.getChannelUrl(),colorscheme:this.getAttribute("colorscheme"),skin:this.getAttribute("skin"),numposts:this.getAttribute("num-posts",10),width:this._getPxAttribute("width",550),href:this.getAttribute("href"),permalink:this.getAttribute("permalink"),publish_feed:this.getAttribute("publish_feed"),order_by:this.getAttribute("order_by"),mobile:this._getBoolAttribute("mobile")};if(m.initSitevars.enableMobileComments&&o.mobile()&&b.mobile!==!1&&(b.mobile=!0,delete b.width),b.skin||(b.skin=b.colorscheme),b.href){var c=this.getAttribute("fb_comment_id");c||(c=k.decode(e.URL.substring(j(e.URL,"indexOf",!0,"?")+1)).fb_comment_id,c&&j(c,"indexOf",!0,"#")>0&&(c=c.substring(0,j(c,"indexOf",!0,"#")))),c&&(b.fb_comment_id=c,this.subscribe("render",j(function(){a.location.hash||(a.location.hash=this.getIframeNode().id)},"bind",!0,this)))}else{if(b.migrated=this.getAttribute("migrated"),b.xid=this.getAttribute("xid"),b.title=this.getAttribute("title",e.title),b.url=this.getAttribute("url",e.URL),b.quiet=this.getAttribute("quiet"),b.reverse=this.getAttribute("reverse"),b.simple=this.getAttribute("simple"),b.css=this.getAttribute("css"),b.notify=this.getAttribute("notify"),!b.xid){var d=j(e.URL,"indexOf",!0,"#");b.xid=encodeURIComponent(d>0?e.URL.substring(0,d):e.URL)}b.migrated&&(b.href=n.resolve("www")+"/plugins/comments_v1.php?app_id="+l.getClientID()+"&xid="+encodeURIComponent(b.xid)+"&url="+encodeURIComponent(b.url))}return this._attr=b,!0},oneTimeSetup:function(){this.subscribe("xd.addComment",j(this._handleCommentMsg,"bind",!0,this)),this.subscribe("xd.commentCreated",j(this._handleCommentCreatedMsg,"bind",!0,this)),this.subscribe("xd.commentRemoved",j(this._handleCommentRemovedMsg,"bind",!0,this))},getSize:function(){return this._attr.mobile?{width:"100%",height:160}:{width:this._attr.width,height:160}},getUrlBits:function(){return{name:"comments",params:this._attr}},getDefaultWebDomain:function(){return n.resolve(this._attr.mobile?"m":"www",!0)},_handleCommentMsg:function(a){this.isValid()&&h.fire("comments.add",{post:a.post,user:a.user,widget:this})},_handleCommentCreatedMsg:function(a){if(this.isValid()){var b={href:a.href,commentID:a.commentID,parentCommentID:a.parentCommentID};h.fire("comment.create",b)}},_handleCommentRemovedMsg:function(a){if(this.isValid()){var b={href:a.href,commentID:a.commentID};h.fire("comment.remove",b)}}});g.exports=p}),i("sdk.XFBML.CommentsCount",["sdk.Data","sdk.DOM","sdk.XFBML.Element","sprintf"],function(b,c,d,e,f){var g=c("sdk.Data"),h=c("sdk.DOM"),i=c("sdk.XFBML.Element"),k=c("sprintf"),l=i.extend({process:function(){h.addCss(this.dom,"fb_comments_count_zero");var b=this.getAttribute("href",a.location.href);g._selectByIndex(["commentsbox_count"],"link_stat","url",b).wait(j(function(a){var b=a[0].commentsbox_count;h.html(this.dom,k('<span class="fb_comments_count">%s</span>',b)),b>0&&h.removeCss(this.dom,"fb_comments_count_zero"),this.fire("render")},"bind",!0,this))}});f.exports=l}),i("sdk.Anim",["sdk.DOM"],function(a,b,c,d,e){var f=b("sdk.DOM"),h={ate:function(a,b,c,d){c=!isNaN(parseFloat(c))&&c>=0?c:750;var e=40,h={},i={},k=null,l=g(j(function(){k||(k=j("Date","now",!1));var e=1;0!=c&&(e=Math.min((j("Date","now",!1)-k)/c,1));for(var g in b)if(b.hasOwnProperty(g)){var m=b[g];if(!h[g]){var n=f.getStyle(a,g);if(n===!1)return;h[g]=this._parseCSS(n+"")}i[g]||(i[g]=this._parseCSS(m.toString()));var o="";j(h[g],"forEach",!0,function(a,b){isNaN(i[g][b].numPart)&&"?"==i[g][b].textPart?o=a.numPart+a.textPart:isNaN(a.numPart)?o=a.textPart:o+=a.numPart+Math.ceil((i[g][b].numPart-a.numPart)*Math.sin(Math.PI/2*e))+i[g][b].textPart+" "}),f.setStyle(a,g,o)}1==e&&(clearInterval(l),d&&d(a))},"bind",!0,this),e)},_parseCSS:function(a){var b=[];return j(a.split(" "),"forEach",!0,function(a){var c=parseInt(a,10);b.push({numPart:c,textPart:a.replace(c,"")})}),b}};e.exports=h}),i("escapeHTML",[],function(a,b,c,d,e){function f(a){return a.replace(g,function(a){return h[a]})}var g=/[&<>"'\/]/g,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","/":"&#x2F;"};e.exports=f}),i("sdk.Helper",["sdk.ErrorHandling","sdk.Event","UrlMap","safeEval","sprintf"],function(b,c,d,e,f){var g=c("sdk.ErrorHandling"),h=c("sdk.Event"),i=c("UrlMap"),j=c("safeEval"),k=c("sprintf"),l={isUser:function(a){return 22e8>a||a>=1e14&&0x5b0a58f100ef>=a||a>=89e12&&89999999999999>=a
},upperCaseFirstChar:function(a){return a.length>0?a.substr(0,1).toUpperCase()+a.substr(1):a},getProfileLink:function(a,b,c){return!c&&a&&(c=k("%s/profile.php?id=%s",i.resolve("www"),a.uid||a.id)),c&&(b=k('<a class="fb_link" href="%s">%s</a>',c,b)),b},invokeHandler:function(a,b,c){a&&("string"==typeof a?g.unguard(j)(a,c):a.apply&&g.unguard(a).apply(b,c||[]))},fireEvent:function(a,b){var c=b._attr.href;b.fire(a,c),h.fire(a,c,b)},executeFunctionByName:function(b){for(var c=Array.prototype.slice.call(arguments,1),d=b.split("."),e=d.pop(),f=a,g=0;g<d.length;g++)f=f[d[g]];return f[e].apply(this,c)}};f.exports=l}),i("sdk.XFBML.ConnectBar",["sdk.Anim","sdk.api","sdk.Auth","createArrayFrom","sdk.Data","sdk.DOM","sdk.XFBML.Element","escapeHTML","sdk.Event","format","sdk.Helper","sdk.Insights","sdk.Intl","sdk.Runtime","UrlMap","UserAgent","ConnectBarConfig"],function(b,c,d,f,g){var h=c("sdk.Anim"),i=c("sdk.api"),k=c("sdk.Auth"),l=c("createArrayFrom"),m=d("ConnectBarConfig"),n=c("sdk.Data"),o=c("sdk.DOM"),p=c("sdk.XFBML.Element"),q=c("escapeHTML"),r=c("sdk.Event"),s=c("format"),t=c("sdk.Helper"),u=c("sdk.Insights"),v=c("sdk.Intl"),w=c("sdk.Runtime"),x=c("UrlMap"),y=c("UserAgent"),z=p.extend({_initialHeight:null,_initTopMargin:0,_picFieldName:"pic_square",_page:null,_displayed:!1,_notDisplayed:!1,_container:null,_animationSpeed:0,process:function(){k.getLoginStatus(j(function(){r.monitor("auth.statusChange",j(function(){return this.isValid()&&"connected"==w.getLoginStatus()?(this._uid=w.getUserID(),i({method:"Connect.shouldShowConnectBar"},j(function(a){2!=a?(this._animationSpeed=0==a?750:0,this._showBar()):this._noRender()},"bind",!0,this))):this._noRender(),!1},"bind",!0,this))},"bind",!0,this))},_showBar:function(){var a=n._selectByIndex(["first_name","profile_url",this._picFieldName],"user","uid",this._uid),b=n._selectByIndex(["display_name"],"application","api_key",w.getClientID());n.waitOn([a,b],j(function(a){a[0][0].site_name=a[1][0].display_name,this._displayed||(this._displayed=!0,this._notDisplayed=!1,this._renderConnectBar(a[0][0]),this.fire("render"),u.impression({lid:104,name:"widget_load"}),this.fire("connectbar.ondisplay"),r.fire("connectbar.ondisplay",this),t.invokeHandler(this.getAttribute("on-display"),this))},"bind",!0,this))},_noRender:function(){this._displayed&&(this._displayed=!1,this._closeConnectBar()),this._notDisplayed||(this._notDisplayed=!0,this.fire("render"),this.fire("connectbar.onnotdisplay"),r.fire("connectbar.onnotdisplay",this),t.invokeHandler(this.getAttribute("on-not-display"),this))},_renderConnectBar:function(b){var c=e.createElement("div"),d=e.createElement("div");c.className="fb_connect_bar",d.className="fb_reset fb_connect_bar_container",d.appendChild(c),e.body.appendChild(d),this._container=d,this._initialHeight=Math.round(parseFloat(o.getStyle(d,"height"))+parseFloat(o.getStyle(d,"borderBottomWidth"))),o.html(c,s('<div class="fb_buttons"><a href="#" class="fb_bar_close"><img src="{1}" alt="{2}" title="{2}"/></a></div><a href="{7}" class="fb_profile" target="_blank"><img src="{3}" alt="{4}" title="{4}"/></a>{5} <span><a href="{8}" class="fb_learn_more" target="_blank">{6}</a> &ndash; <a href="#" class="fb_no_thanks">{0}</a></span>',v.tx._("No Thanks"),x.resolve("fbcdn")+"/"+m.imgs.buttonUrl,v.tx._("Close"),b[this._picFieldName]||x.resolve("fbcdn")+"/"+m.imgs.missingProfileUrl,q(b.first_name),v.tx._("Hi {firstName}. <strong>{siteName}</strong> is using Facebook to personalize your experience.",{firstName:q(b.first_name),siteName:q(b.site_name)}),v.tx._("Learn More"),b.profile_url,x.resolve("www")+"/sitetour/connect.php")),j(l(c.getElementsByTagName("a")),"forEach",!0,function(a){a.onclick=j(this._clickHandler,"bind",!0,this)},this),this._page=e.body;var f=0;f=this._page.parentNode?Math.round((parseFloat(o.getStyle(this._page.parentNode,"height"))-parseFloat(o.getStyle(this._page,"height")))/2):parseInt(o.getStyle(this._page,"marginTop"),10),f=isNaN(f)?0:f,this._initTopMargin=f,a.XMLHttpRequest?(d.style.top=-1*this._initialHeight+"px",h.ate(d,{top:"0px"},this._animationSpeed)):d.className+=" fb_connect_bar_container_ie6";var g={marginTop:this._initTopMargin+this._initialHeight+"px"};y.ie()?g.backgroundPositionY=this._initialHeight+"px":g.backgroundPosition="? "+this._initialHeight+"px",h.ate(this._page,g,this._animationSpeed)},_clickHandler:function(b){b=b||a.event;for(var c=b.target||b.srcElement;"A"!=c.nodeName;)c=c.parentNode;switch(c.className){case"fb_bar_close":i({method:"Connect.connectBarMarkAcknowledged"}),u.impression({lid:104,name:"widget_user_closed"}),this._closeConnectBar();break;case"fb_learn_more":case"fb_profile":a.open(c.href);break;case"fb_no_thanks":this._closeConnectBar(),i({method:"Connect.connectBarMarkAcknowledged"}),u.impression({lid:104,name:"widget_user_no_thanks"}),i({method:"auth.revokeAuthorization",block:!0},j(function(){this.fire("connectbar.ondeauth"),r.fire("connectbar.ondeauth",this),t.invokeHandler(this.getAttribute("on-deauth"),this),this._getBoolAttribute("auto-refresh",!0)&&a.location.reload()},"bind",!0,this))}return!1},_closeConnectBar:function(){this._notDisplayed=!0;var a={marginTop:this._initTopMargin+"px"};y.ie()?a.backgroundPositionY="0px":a.backgroundPosition="? 0px";var b=0==this._animationSpeed?0:300;h.ate(this._page,a,b),h.ate(this._container,{top:-1*this._initialHeight+"px"},b,function(a){a.parentNode.removeChild(a)}),this.fire("connectbar.onclose"),r.fire("connectbar.onclose",this),t.invokeHandler(this.getAttribute("on-close"),this)}});g.exports=z}),i("sdk.XFBML.LoginButton",["sdk.Helper","IframePlugin"],function(a,b,c,d,e){var f=b("sdk.Helper"),g=b("IframePlugin"),h=g.extend({constructor:function(a,b,c,d){this.parent(a,b,c,d);var e=g.getVal(d,"on_login");e&&this.subscribe("login.status",function(a){f.invokeHandler(e,null,[a])})},getParams:function(){return{scope:"string",perms:"string",size:"string",login_text:"text",show_faces:"bool",max_rows:"string",show_login_face:"bool",registration_url:"url_maybe",auto_logout_link:"bool",one_click:"bool",show_banner:"bool"}}});e.exports=h}),i("sdk.XFBML.Name",["copyProperties","sdk.Data","escapeHTML","sdk.Event","sdk.XFBML.Element","sdk.Helper","Log","sdk.Runtime"],function(a,b,c,d,e){var f=b("copyProperties"),g=b("sdk.Data"),h=b("escapeHTML"),i=b("sdk.Event"),k=b("sdk.XFBML.Element"),l=b("sdk.Helper"),m=b("Log"),n=b("sdk.Runtime"),o=k.extend({process:function(){if(f(this,{_uid:this.getAttribute("uid"),_firstnameonly:this._getBoolAttribute("first-name-only"),_lastnameonly:this._getBoolAttribute("last-name-only"),_possessive:this._getBoolAttribute("possessive"),_reflexive:this._getBoolAttribute("reflexive"),_objective:this._getBoolAttribute("objective"),_linked:this._getBoolAttribute("linked",!0),_subjectId:this.getAttribute("subject-id")}),!this._uid)return m.error('"uid" is a required attribute for <fb:name>'),void this.fire("render");var a=[];a.push(this._firstnameonly?"first_name":this._lastnameonly?"last_name":"name"),this._subjectId&&(a.push("sex"),this._subjectId==n.getUserID()&&(this._reflexive=!0));var b;i.monitor("auth.statusChange",j(function(){return this.isValid()?(this._uid&&"loggedinuser"!=this._uid||(this._uid=n.getUserID()),void(this._uid&&(b=l.isUser(this._uid)?g._selectByIndex(a,"user","uid",this._uid):g._selectByIndex(["name","id"],"profile","id",this._uid),b.wait(j(function(a){this._subjectId==this._uid?this._renderPronoun(a[0]):this._renderOther(a[0]),this.fire("render")},"bind",!0,this))))):(this.fire("render"),!0)},"bind",!0,this))},_renderPronoun:function(a){var b="",c=this._objective;if(this._subjectId&&(c=!0,this._subjectId===this._uid&&(this._reflexive=!0)),this._uid==n.getUserID()&&this._getBoolAttribute("use-you",!0))b=this._possessive?this._reflexive?"your own":"your":this._reflexive?"yourself":"you";else switch(a.sex){case"male":b=this._possessive?this._reflexive?"his own":"his":this._reflexive?"himself":c?"him":"he";break;case"female":b=this._possessive?this._reflexive?"her own":"her":this._reflexive?"herself":c?"her":"she";break;default:b=this._getBoolAttribute("use-they",!0)?this._possessive?this._reflexive?"their own":"their":this._reflexive?"themselves":c?"them":"they":this._possessive?this._reflexive?"his/her own":"his/her":this._reflexive?"himself/herself":c?"him/her":"he/she"}this._getBoolAttribute("capitalize",!1)&&(b=l.upperCaseFirstChar(b)),this.dom.innerHTML=b},_renderOther:function(a){var b="",c="";this._uid==n.getUserID()&&this._getBoolAttribute("use-you",!0)?b=this._reflexive?this._possessive?"your own":"yourself":this._possessive?"your":"you":a&&(null===a.first_name&&(a.first_name=""),null===a.last_name&&(a.last_name=""),this._firstnameonly&&void 0!==a.first_name?b=h(a.first_name):this._lastnameonly&&void 0!==a.last_name&&(b=h(a.last_name)),b||(b=h(a.name)),""!==b&&this._possessive&&(b+="'s")),b||(b=h(this.getAttribute("if-cant-see","Facebook User"))),b&&(this._getBoolAttribute("capitalize",!1)&&(b=l.upperCaseFirstChar(b)),c=a&&this._linked?l.getProfileLink(a,b,this.getAttribute("href",null)):b),this.dom.innerHTML=c}});e.exports=o}),i("sdk.XFBML.RecommendationsBar",["sdk.Arbiter","DOMEventListener","sdk.Event","sdk.XFBML.IframeWidget","resolveURI","sdk.Runtime"],function(b,c,d,g,h){var i=c("sdk.Arbiter"),k=c("DOMEventListener"),l=c("sdk.Event"),m=c("sdk.XFBML.IframeWidget"),n=c("resolveURI"),o=c("sdk.Runtime"),p=m.extend({getUrlBits:function(){return{name:"recommendations_bar",params:this._attr}},setupAndValidate:function(){function b(a,b){function c(){b(),e=null,d=j("Date","now",!1)}var d=0,e=null;return function(){if(!e){var b=j("Date","now",!1);a>b-d?e=f(c,a-(b-d)):c()}return!0}}function c(a){if(a.match(/^\d+(?:\.\d+)?%$/)){var b=Math.min(Math.max(parseInt(a,10),0),100);a=b/100}else"manual"!=a&&"onvisible"!=a&&(a="onvisible");return a}function d(a){return Math.max(parseInt(a,10)||30,10)}function g(a){return"left"==a||"right"==a?a:o.getRtl()?"left":"right"}this._attr={channel:this.getChannelUrl(),api_key:o.getClientID(),font:this.getAttribute("font"),colorscheme:this.getAttribute("colorscheme"),href:n(this.getAttribute("href")),side:g(this.getAttribute("side")),site:this.getAttribute("site"),action:this.getAttribute("action"),ref:this.getAttribute("ref"),max_age:this.getAttribute("max_age"),trigger:c(this.getAttribute("trigger","")),read_time:d(this.getAttribute("read_time")),num_recommendations:parseInt(this.getAttribute("num_recommendations"),10)||2},this._showLoader=!1,this.subscribe("iframe.onload",j(function(){var a=this.dom.children[0];a.className="fbpluginrecommendationsbar"+this._attr.side},"bind",!0,this));var h=j(function(){return k.remove(a,"scroll",h),k.remove(e.documentElement,"click",h),k.remove(e.documentElement,"mousemove",h),f(j(this.arbiterInform,"bind",!0,this,"platform/plugins/recommendations_bar/action",null,i.BEHAVIOR_STATE),1e3*this._attr.read_time),!0},"bind",!0,this);if(k.add(a,"scroll",h),k.add(e.documentElement,"click",h),k.add(e.documentElement,"mousemove",h),"manual"==this._attr.trigger){var m=j(function(a){return a==this._attr.href&&(l.unsubscribe("xfbml.recommendationsbar.read",m),this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,i.BEHAVIOR_STATE)),!0},"bind",!0,this);l.subscribe("xfbml.recommendationsbar.read",m)}else{var p=b(500,j(function(){return this.calculateVisibility()&&(k.remove(a,"scroll",p),k.remove(a,"resize",p),this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,i.BEHAVIOR_STATE)),!0},"bind",!0,this));k.add(a,"scroll",p),k.add(a,"resize",p),p()}this.visible=!1;var q=b(500,j(function(){return!this.visible&&this.calculateVisibility()?(this.visible=!0,this.arbiterInform("platform/plugins/recommendations_bar/visible")):this.visible&&!this.calculateVisibility()&&(this.visible=!1,this.arbiterInform("platform/plugins/recommendations_bar/invisible")),!0},"bind",!0,this));k.add(a,"scroll",q),k.add(a,"resize",q),q(),this.focused=!0;var r=j(function(){return this.focused=!this.focused,!0},"bind",!0,this);return k.add(a,"blur",r),k.add(a,"focus",r),this.resize_running=!1,this.animate=!1,this.subscribe("xd.signal_animation",j(function(){this.animate=!0},"bind",!0,this)),!0},getSize:function(){return{height:25,width:"recommend"==this._attr.action?140:96}},calculateVisibility:function(){var b=e.documentElement.clientHeight;if(!this.focused&&a.console&&a.console.firebug)return this.visible;switch(this._attr.trigger){case"manual":return!1;case"onvisible":var c=this.dom.getBoundingClientRect().top;return b>=c;default:var d=a.pageYOffset||e.body.scrollTop,f=e.documentElement.scrollHeight;return(d+b)/f>=this._attr.trigger}}});h.exports=p}),i("sdk.XFBML.Registration",["sdk.Auth","sdk.Helper","sdk.XFBML.IframeWidget","sdk.Runtime","UrlMap"],function(b,c,d,e,f){var g=c("sdk.Auth"),h=c("sdk.Helper"),i=c("sdk.XFBML.IframeWidget"),k=c("sdk.Runtime"),l=c("UrlMap"),m=i.extend({_visibleAfter:"immediate",_baseHeight:167,_fieldHeight:28,_skinnyWidth:520,_skinnyBaseHeight:173,_skinnyFieldHeight:52,setupAndValidate:function(){return this._attr={action:this.getAttribute("action"),border_color:this.getAttribute("border-color"),channel_url:this.getChannelUrl(),client_id:k.getClientID(),fb_only:this._getBoolAttribute("fb-only",!1),fb_register:this._getBoolAttribute("fb-register",!1),fields:this.getAttribute("fields"),height:this._getPxAttribute("height"),redirect_uri:this.getAttribute("redirect-uri",a.location.href),no_footer:this._getBoolAttribute("no-footer"),no_header:this._getBoolAttribute("no-header"),onvalidate:this.getAttribute("onvalidate"),width:this._getPxAttribute("width",600),target:this.getAttribute("target")},this._attr.onvalidate&&this.subscribe("xd.validate",j(function(a){var b=j("JSON","parse",!1,a.value),c=j(function(b){this.arbiterInform("Registration.Validation",{errors:b,id:a.id})},"bind",!0,this),d=h.executeFunctionByName(this._attr.onvalidate,b,c);d&&c(d)},"bind",!0,this)),this.subscribe("xd.authLogin",j(this._onAuthLogin,"bind",!0,this)),this.subscribe("xd.authLogout",j(this._onAuthLogout,"bind",!0,this)),!0},getSize:function(){return{width:this._attr.width,height:this._getHeight()}},_getHeight:function(){if(this._attr.height)return this._attr.height;var a;if(this._attr.fields)try{a=j("JSON","parse",!1,this._attr.fields)}catch(b){a=this._attr.fields.split(/,/)}else a=["name"];return this._attr.width<this._skinnyWidth?this._skinnyBaseHeight+a.length*this._skinnyFieldHeight:this._baseHeight+a.length*this._fieldHeight},getUrlBits:function(){return{name:"registration",params:this._attr}},getDefaultWebDomain:function(){return l.resolve("www",!0)},_onAuthLogin:function(){g.getAuthResponse()||g.getLoginStatus(),h.fireEvent("auth.login",this)},_onAuthLogout:function(){g.getAuthResponse()||g.getLoginStatus(),h.fireEvent("auth.logout",this)}});f.exports=m}),i("sdk.XFBML.SocialContext",["sdk.Event","sdk.XFBML.IframeWidget"],function(a,b,c,d,e){var f=b("sdk.Event"),g=b("sdk.XFBML.IframeWidget"),h=g.extend({setupAndValidate:function(){this.getAttribute("size","small");return this._attr={channel:this.getChannelUrl(),width:this._getPxAttribute("width",400),height:this._getPxAttribute("height",100),ref:this.getAttribute("ref"),size:this.getAttribute("size"),keywords:this.getAttribute("keywords"),urls:this.getAttribute("urls"),object_id:this.getAttribute("object_id")},this.subscribe("xd.social_context_stats",j(this._bubbleSocialContextStats,"bind",!0,this)),!0},_bubbleSocialContextStats:function(a){var b={pluginID:this.getAttribute("plugin-id"),socialContextPageIDs:j("JSON","parse",!1,a.social_context_page_ids)};f.fire("xfbml.social_context_stats",b)},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"social_context",params:this._attr}}});e.exports=h}),i("legacy:fb.xfbml",["Assert","sdk.domReady","sdk.Event","FB","IframePlugin","PluginTags","wrapFunction","XFBML","sdk.XFBML.Comments","sdk.XFBML.CommentsCount","sdk.XFBML.ConnectBar","sdk.XFBML.LoginButton","sdk.XFBML.Name","sdk.XFBML.RecommendationsBar","sdk.XFBML.Registration","sdk.XFBML.SocialContext"],function(b,c){var d=c("Assert"),g=c("sdk.domReady"),h=c("sdk.Event"),i=c("FB"),k=c("IframePlugin"),l=c("PluginTags"),m=c("wrapFunction"),n=c("XFBML"),o={comments:c("sdk.XFBML.Comments"),comments_count:c("sdk.XFBML.CommentsCount"),connect_bar:c("sdk.XFBML.ConnectBar"),login_button:c("sdk.XFBML.LoginButton"),name:c("sdk.XFBML.Name"),recommendations_bar:c("sdk.XFBML.RecommendationsBar"),registration:c("sdk.XFBML.Registration"),social_context:c("sdk.XFBML.SocialContext")};j(j("Object","keys",!1,l),"forEach",!0,function(a){n.registerTag({xmlns:"fb",localName:a.replace(/_/g,"-"),ctor:k.withParams(l[a])})}),j(j("Object","keys",!1,o),"forEach",!0,function(a){n.registerTag({xmlns:"fb",localName:a.replace(/_/g,"-"),ctor:o[a]})}),i.provide("XFBML",{parse:function(a){return d.maybeXfbml(a,"Invalid argument"),a&&9===a.nodeType&&(a=a.body),n.parse.apply(null,arguments)}}),i.provide("XFBML.RecommendationsBar",{markRead:function(b){h.fire("xfbml.recommendationsbar.read",b||a.location.href)}}),n.subscribe("parse",j(h.fire,"bind",!0,h,"xfbml.parse")),n.subscribe("render",j(h.fire,"bind",!0,h,"xfbml.render")),h.subscribe("init:post",function(a){a.xfbml&&f(m(j(g,"bind",!0,null,n.parse),"entry","init:post:xfbml.parse"),0)}),d.define("Xfbml",function(a){return(1===a.nodeType||9===a.nodeType)&&"string"==typeof a.nodeName});try{e.namespaces&&!e.namespaces.item.fb&&e.namespaces.add("fb")}catch(p){}},3)}.call({},window.inDapIF?parent.window:window)}catch(e){(new Image).src="http://www.facebook.com/common/scribe_endpoint.php?c=jssdk_error&m="+encodeURIComponent('{"error":"LOAD", "extra": {"name":"'+e.name+'","line":"'+(e.lineNumber||e.line)+'","script":"'+(e.fileName||e.sourceURL||e.script)+'","stack":"'+(e.stackTrace||e.stack)+'","message":"'+e.message+'"}}')}FB.Event.subscribe("auth.login",function(){}),FB.Event.subscribe("auth.logout",function(){}),FB.Event.subscribe("auth.sessionChange",function(){}),FB.Event.subscribe("auth.statusChange",function(){});var friendIDs=[],fdata;document.addEventListener("deviceready",function(){try{FB.init({appId:"595730207182331",nativeInterface:CDV.FB,useCachedDialogs:!1})}catch(a){alert(a)}},!1),function(a,b){function c(){H||(H={verbose:!1,queryLimit:{attempt:5,delay:250,random:250},classes:{Map:google.maps.Map,Marker:google.maps.Marker,InfoWindow:google.maps.InfoWindow,Circle:google.maps.Circle,Rectangle:google.maps.Rectangle,OverlayView:google.maps.OverlayView,StreetViewPanorama:google.maps.StreetViewPanorama,KmlLayer:google.maps.KmlLayer,TrafficLayer:google.maps.TrafficLayer,BicyclingLayer:google.maps.BicyclingLayer,GroundOverlay:google.maps.GroundOverlay,StyledMapType:google.maps.StyledMapType,ImageMapType:google.maps.ImageMapType},map:{mapTypeId:google.maps.MapTypeId.ROADMAP,center:[46.578498,2.457275],zoom:2},overlay:{pane:"floatPane",content:"",offset:{x:0,y:0}},geoloc:{getCurrentPosition:{maximumAge:6e4,timeout:5e3}}})}function d(a,c){return a!==b?a:"gmap3_"+(c?I+1:++I)}function e(a){var b,c=function(a){return parseInt(a,10)},d=google.maps.version.split(".").map(c);for(a=a.split(".").map(c),b=0;b<a.length;b++){if(!d.hasOwnProperty(b))return!1;if(d[b]<a[b])return!1}return!0}function f(b,c,d,e,f){if(c.todo.events||c.todo.onces){var g={id:e,data:c.todo.data,tag:c.todo.tag};c.todo.events&&a.each(c.todo.events,function(c,e){var h=b,i=e;a.isArray(e)&&(h=e[0],i=e[1]),google.maps.event.addListener(d,c,function(a){i.apply(h,[f?f:d,a,g])})}),c.todo.onces&&a.each(c.todo.onces,function(c,e){var h=b,i=e;a.isArray(e)&&(h=e[0],i=e[1]),google.maps.event.addListenerOnce(d,c,function(a){i.apply(h,[f?f:d,a,g])})})}}function g(){var a=[];this.empty=function(){return!a.length},this.add=function(b){a.push(b)},this.get=function(){return a.length?a[0]:!1},this.ack=function(){a.shift()}}function h(b,c,d){function e(a){var b={};return b[a]={},b}function f(){var a;for(a in d)if(!(a in h))return a}var g,h={},i=this,j={latLng:{map:!1,marker:!1,infowindow:!1,circle:!1,overlay:!1,getlatlng:!1,getmaxzoom:!1,getelevation:!1,streetviewpanorama:!1,getaddress:!0},geoloc:{getgeoloc:!0}};"string"==typeof d&&(d=e(d)),this.run=function(){for(var e,i;e=f();){if("function"==typeof b[e])return g=e,i=a.extend(!0,{},H[e]||{},d[e].options||{}),void(e in j.latLng?d[e].values?D(d[e].values,b,b[e],{todo:d[e],opts:i,session:h}):C(b,b[e],j.latLng[e],{todo:d[e],opts:i,session:h}):e in j.geoloc?E(b,b[e],{todo:d[e],opts:i,session:h}):b[e].apply(b,[{todo:d[e],opts:i,session:h}]));h[e]=null}c.apply(b,[d,h])},this.ack=function(a){h[g]=a,i.run.apply(i,[])}}function i(a){var b,c=[];for(b in a)c.push(b);return c}function j(b,c){var d={};if(b.todo)for(var e in b.todo)"options"!==e&&"values"!==e&&(d[e]=b.todo[e]);var f,g=["data","tag","id","events","onces"];for(f=0;f<g.length;f++)k(d,g[f],c,b.todo);return d.options=a.extend({},b.opts||{},c.options||{}),d}function k(a,b){for(var c=2;c<arguments.length;c++)if(b in arguments[c])return void(a[b]=arguments[c][b])}function l(){var a=[];this.get=function(b){if(a.length){var c,d,e,f,g,h=i(b);for(c=0;c<a.length;c++){for(f=a[c],g=h.length==f.keys.length,d=0;d<h.length&&g;d++)e=h[d],g=e in f.request,g&&(g="object"==typeof b[e]&&"equals"in b[e]&&"function"==typeof b[e]?b[e].equals(f.request[e]):b[e]===f.request[e]);if(g)return f.results}}},this.store=function(b,c){a.push({request:b,keys:i(b),results:c})}}function m(b,c,d,e){var f=this,g=[];H.classes.OverlayView.call(this),this.setMap(b),this.onAdd=function(){var b=this.getPanes();c.pane in b&&a(b[c.pane]).append(e),a.each("dblclick click mouseover mousemove mouseout mouseup mousedown".split(" "),function(b,c){g.push(google.maps.event.addDomListener(e[0],c,function(b){a.Event(b).stopPropagation(),google.maps.event.trigger(f,c,[b]),f.draw()}))}),g.push(google.maps.event.addDomListener(e[0],"contextmenu",function(b){a.Event(b).stopPropagation(),google.maps.event.trigger(f,"rightclick",[b]),f.draw()}))},this.getPosition=function(){return d},this.draw=function(){var a=this.getProjection().fromLatLngToDivPixel(d);e.css("left",a.x+c.offset.x+"px").css("top",a.y+c.offset.y+"px")},this.onRemove=function(){for(var a=0;a<g.length;a++)google.maps.event.removeListener(g[a]);e.remove()},this.hide=function(){e.hide()},this.show=function(){e.show()},this.toggle=function(){e&&(e.is(":visible")?this.show():this.hide())},this.toggleDOM=function(){this.setMap(this.getMap()?null:b)},this.getDOMElement=function(){return e[0]}}function n(a){function b(){return this.onAdd=function(){},this.onRemove=function(){},this.draw=function(){},H.classes.OverlayView.apply(this,[])}b.prototype=H.classes.OverlayView.prototype;var c=new b;return c.setMap(a),c}function o(b,c,e){function g(a){G[a]||(delete I[a].options.map,G[a]=new H.classes.Marker(I[a].options),f(b,{todo:I[a]},G[a],I[a].id))}function h(){return(r=K.getProjection())?(y=!0,C.push(google.maps.event.addListener(c,"zoom_changed",function(){m()})),C.push(google.maps.event.addListener(c,"bounds_changed",function(){m()})),void p()):void setTimeout(function(){h.apply(B,[])},25)}function i(a){"object"==typeof D[a]?("function"==typeof D[a].obj.setMap&&D[a].obj.setMap(null),"function"==typeof D[a].obj.remove&&D[a].obj.remove(),"function"==typeof D[a].shadow.remove&&D[a].obj.remove(),"function"==typeof D[a].shadow.setMap&&D[a].shadow.setMap(null),delete D[a].obj,delete D[a].shadow):G[a]&&G[a].setMap(null),delete D[a]}function j(){var a,b,c,d,e,f,g,h;return arguments[0]instanceof google.maps.LatLng?(a=arguments[0].lat(),c=arguments[0].lng(),arguments[1]instanceof google.maps.LatLng?(b=arguments[1].lat(),d=arguments[1].lng()):(b=arguments[1],d=arguments[2])):(a=arguments[0],c=arguments[1],arguments[2]instanceof google.maps.LatLng?(b=arguments[2].lat(),d=arguments[2].lng()):(b=arguments[2],d=arguments[3])),e=Math.PI*a/180,f=Math.PI*c/180,g=Math.PI*b/180,h=Math.PI*d/180,6371e3*Math.acos(Math.min(Math.cos(e)*Math.cos(g)*Math.cos(f)*Math.cos(h)+Math.cos(e)*Math.sin(f)*Math.cos(g)*Math.sin(h)+Math.sin(e)*Math.sin(g),1))}function k(){var a=j(c.getCenter(),c.getBounds().getNorthEast()),b=new google.maps.Circle({center:c.getCenter(),radius:1.25*a});return b.getBounds()}function l(){var a,b={};for(a in D)b[a]=!0;return b}function m(){clearTimeout(q),q=setTimeout(function(){p()},25)}function o(a){var b=r.fromLatLngToDivPixel(a),c=r.fromDivPixelToLatLng(new google.maps.Point(b.x+e.radius,b.y-e.radius)),d=r.fromDivPixelToLatLng(new google.maps.Point(b.x-e.radius,b.y+e.radius));return new google.maps.LatLngBounds(d,c)}function p(){if(!v&&!x&&y){var b,d,f,g,h,j,m,n,p,q,r,u=[],z={},B=c.getZoom(),C="maxZoom"in e&&B>e.maxZoom,E=l(),F=!1;for(w=!1,B>3&&(h=k(),F=h.getSouthWest().lng()<h.getNorthEast().lng()),b=0;b<I.length;b++)!I[b]||F&&!h.contains(I[b].options.position)||s&&!s(J[b])||u.push(b);for(;;){for(b=0;z[b]&&b<u.length;)b++;if(b==u.length)break;if(g=[],A&&!C){r=10;do for(n=g,g=[],r--,m=n.length?h.getCenter():I[u[b]].options.position,h=o(m),d=b;d<u.length;d++)z[d]||h.contains(I[u[d]].options.position)&&g.push(d);while(n.length<g.length&&g.length>1&&r)}else for(d=b;d<u.length;d++)if(!z[d]){g.push(d);break}for(j={indexes:[],ref:[]},p=q=0,f=0;f<g.length;f++)z[g[f]]=!0,j.indexes.push(u[g[f]]),j.ref.push(u[g[f]]),p+=I[u[g[f]]].options.position.lat(),q+=I[u[g[f]]].options.position.lng();p/=g.length,q/=g.length,j.latLng=new google.maps.LatLng(p,q),j.ref=j.ref.join("-"),j.ref in E?delete E[j.ref]:(1===g.length&&(D[j.ref]=!0),t(j))}a.each(E,function(a){i(a)}),x=!1}}var q,r,s,t,u,v=!1,w=!1,x=!1,y=!1,A=!0,B=this,C=[],D={},E={},F={},G=[],I=[],J=[],K=n(c,e.radius);h(),this.getById=function(a){return a in E?(g(E[a]),G[E[a]]):!1},this.rm=function(a){var b=E[a];G[b]&&G[b].setMap(null),delete G[b],G[b]=!1,delete I[b],I[b]=!1,delete J[b],J[b]=!1,delete E[a],delete F[b],w=!0},this.clearById=function(a){return a in E?(this.rm(a),!0):void 0},this.clear=function(a,b,c){var d,e,f,g,h,i=[],j=z(c);for(a?(d=I.length-1,e=-1,f=-1):(d=0,e=I.length,f=1),g=d;g!=e&&(!I[g]||j&&!j(I[g].tag)||(i.push(F[g]),!b&&!a));g+=f);for(h=0;h<i.length;h++)this.rm(i[h])},this.add=function(a,b){a.id=d(a.id),this.clearById(a.id),E[a.id]=G.length,F[G.length]=a.id,G.push(null),I.push(a),J.push(b),w=!0},this.addMarker=function(a,c){c=c||{},c.id=d(c.id),this.clearById(c.id),c.options||(c.options={}),c.options.position=a.getPosition(),f(b,{todo:c},a,c.id),E[c.id]=G.length,F[G.length]=c.id,G.push(a),I.push(c),J.push(c.data||{}),w=!0},this.todo=function(a){return I[a]},this.value=function(a){return J[a]},this.marker=function(a){return a in G?(g(a),G[a]):!1},this.markerIsSet=function(a){return Boolean(G[a])},this.setMarker=function(a,b){G[a]=b},this.store=function(a,b,c){D[a.ref]={obj:b,shadow:c}},this.free=function(){for(var b=0;b<C.length;b++)google.maps.event.removeListener(C[b]);C=[],a.each(D,function(a){i(a)}),D={},a.each(I,function(a){I[a]=null}),I=[],a.each(G,function(a){G[a]&&(G[a].setMap(null),delete G[a])}),G=[],a.each(J,function(a){delete J[a]}),J=[],E={},F={}},this.filter=function(a){s=a,p()},this.enable=function(a){A!=a&&(A=a,p())},this.display=function(a){t=a},this.error=function(a){u=a},this.beginUpdate=function(){v=!0},this.endUpdate=function(){v=!1,w&&p()},this.autofit=function(a){for(var b=0;b<I.length;b++)I[b]&&a.extend(I[b].options.position)}}function p(a,b){this.id=function(){return a},this.filter=function(a){b.filter(a)},this.enable=function(){b.enable(!0)},this.disable=function(){b.enable(!1)},this.add=function(a,c,d){d||b.beginUpdate(),b.addMarker(a,c),d||b.endUpdate()},this.getById=function(a){return b.getById(a)},this.clearById=function(a,c){var d;return c||b.beginUpdate(),d=b.clearById(a),c||b.endUpdate(),d},this.clear=function(a,c,d,e){e||b.beginUpdate(),b.clear(a,c,d),e||b.endUpdate()}}function q(){function c(a){return{id:a.id,name:a.name,object:a.obj,tag:a.tag,data:a.data}}function e(a){"function"==typeof a.setMap&&a.setMap(null),"function"==typeof a.remove&&a.remove(),"function"==typeof a.free&&a.free(),a=null}var f={},g={};this.add=function(a,b,c,e){var h=a.todo||{},i=d(h.id);return f[b]||(f[b]=[]),i in g&&this.clearById(i),g[i]={obj:c,sub:e,name:b,id:i,tag:h.tag,data:h.data},f[b].push(i),i},this.getById=function(a,b,d){return a in g?b?g[a].sub:d?c(g[a]):g[a].obj:!1},this.get=function(a,b,d,e){var h,i,j=z(d);if(!f[a]||!f[a].length)return null;for(h=f[a].length;h;)if(h--,i=f[a][b?h:f[a].length-h-1],i&&g[i]){if(j&&!j(g[i].tag))continue;return e?c(g[i]):g[i].obj}return null},this.all=function(a,d,e){var h=[],i=z(d),j=function(a){var b,d;for(b=0;b<f[a].length;b++)if(d=f[a][b],d&&g[d]){if(i&&!i(g[d].tag))continue;h.push(e?c(g[d]):g[d].obj)}};if(a in f)j(a);else if(a===b)for(a in f)j(a);return h},this.rm=function(a,b,c){var d,e;if(!f[a])return!1;if(b)if(c)for(d=f[a].length-1;d>=0&&(e=f[a][d],!b(g[e].tag));d--);else for(d=0;d<f[a].length&&(e=f[a][d],!b(g[e].tag));d++);else d=c?f[a].length-1:0;return d in f[a]?this.clearById(f[a][d],d):!1},this.clearById=function(a,c){if(a in g){var d,h=g[a].name;for(d=0;c===b&&d<f[h].length;d++)a===f[h][d]&&(c=d);return e(g[a].obj),g[a].sub&&e(g[a].sub),delete g[a],f[h].splice(c,1),!0}return!1},this.objGetById=function(a){var b;if(f.clusterer)for(var c in f.clusterer)if((b=g[f.clusterer[c]].obj.getById(a))!==!1)return b;return!1},this.objClearById=function(a){if(f.clusterer)for(var b in f.clusterer)if(g[f.clusterer[b]].obj.clearById(a))return!0;return null},this.clear=function(a,b,c,d){var e,g,h,i=z(d);if(a&&a.length)a=y(a);else{a=[];for(e in f)a.push(e)}for(g=0;g<a.length;g++)if(h=a[g],b)this.rm(h,i,!0);else if(c)this.rm(h,i,!1);else for(;this.rm(h,i,!1););},this.objClear=function(b,c,d,e){if(f.clusterer&&(a.inArray("marker",b)>=0||!b.length))for(var h in f.clusterer)g[f.clusterer[h]].obj.clear(c,d,e)}}function r(){return J.geocoder||(J.geocoder=new google.maps.Geocoder),J.geocoder}function s(){return J.directionsService||(J.directionsService=new google.maps.DirectionsService),J.directionsService}function t(){return J.elevationService||(J.elevationService=new google.maps.ElevationService),J.elevationService}function u(){return J.maxZoomService||(J.maxZoomService=new google.maps.MaxZoomService),J.maxZoomService}function v(){return J.distanceMatrixService||(J.distanceMatrixService=new google.maps.DistanceMatrixService),J.distanceMatrixService}function w(){if(H.verbose){var a,b=[];if(window.console&&"function"==typeof console.error){for(a=0;a<arguments.length;a++)b.push(arguments[a]);console.error.apply(console,b)}else{for(b="",a=0;a<arguments.length;a++)b+=arguments[a].toString()+" ";alert(b)}}}function x(a){return("number"==typeof a||"string"==typeof a)&&""!==a&&!isNaN(a)}function y(a){var c,d=[];if(a!==b)if("object"==typeof a)if("number"==typeof a.length)d=a;else for(c in a)d.push(a[c]);else d.push(a);return d}function z(c){return c?"function"==typeof c?c:(c=y(c),function(d){if(d===b)return!1;if("object"==typeof d){for(var e=0;e<d.length;e++)if(a.inArray(d[e],c)>=0)return!0;return!1}return a.inArray(d,c)>=0}):void 0}function A(b,c,d){var e=c?b:null;return b&&"string"!=typeof b?b.latLng?A(b.latLng):b instanceof google.maps.LatLng?b:x(b.lat)?new google.maps.LatLng(b.lat,b.lng):!d&&a.isArray(b)?x(b[0])&&x(b[1])?new google.maps.LatLng(b[0],b[1]):e:e:e}function B(b){var c,d;return!b||b instanceof google.maps.LatLngBounds?b||null:(a.isArray(b)?2==b.length?(c=A(b[0]),d=A(b[1])):4==b.length&&(c=A([b[0],b[1]]),d=A([b[2],b[3]])):"ne"in b&&"sw"in b?(c=A(b.ne),d=A(b.sw)):"n"in b&&"e"in b&&"s"in b&&"w"in b&&(c=A([b.n,b.e]),d=A([b.s,b.w])),c&&d?new google.maps.LatLngBounds(d,c):null)}function C(a,b,c,d,e){var f=c?A(d.todo,!1,!0):!1,g=f?{latLng:f}:d.todo.address?"string"==typeof d.todo.address?{address:d.todo.address}:d.todo.address:!1,h=g?K.get(g):!1,i=this;g?(e=e||0,h?(d.latLng=h.results[0].geometry.location,d.results=h.results,d.status=h.status,b.apply(a,[d])):(g.location&&(g.location=A(g.location)),g.bounds&&(g.bounds=B(g.bounds)),r().geocode(g,function(f,h){h===google.maps.GeocoderStatus.OK?(K.store(g,{results:f,status:h}),d.latLng=f[0].geometry.location,d.results=f,d.status=h,b.apply(a,[d])):h===google.maps.GeocoderStatus.OVER_QUERY_LIMIT&&e<H.queryLimit.attempt?setTimeout(function(){C.apply(i,[a,b,c,d,e+1])
},H.queryLimit.delay+Math.floor(Math.random()*H.queryLimit.random)):(w("geocode failed",h,g),d.latLng=d.results=!1,d.status=h,b.apply(a,[d]))}))):(d.latLng=A(d.todo,!1,!0),b.apply(a,[d]))}function D(b,c,d,e){function f(){do h++;while(h<b.length&&!("address"in b[h]));return h>=b.length?void d.apply(c,[e]):void C(g,function(c){delete c.todo,a.extend(b[h],c),f.apply(g,[])},!0,{todo:b[h]})}var g=this,h=-1;f()}function E(a,b,c){var d=!1;navigator&&navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){d||(d=!0,c.latLng=new google.maps.LatLng(e.coords.latitude,e.coords.longitude),b.apply(a,[c]))},function(){d||(d=!0,c.latLng=!1,b.apply(a,[c]))},c.opts.getCurrentPosition):(c.latLng=!1,b.apply(a,[c]))}function F(c){function i(){!C&&(C=E.get())&&C.run()}function k(){C=null,E.ack(),i.call(D)}function l(b){if(b.todo.callback){var d=Array.prototype.slice.call(arguments,1);"function"==typeof b.todo.callback?b.todo.callback.apply(c,d):a.isArray(b.todo.callback)&&"function"==typeof b.todo.callback[1]&&b.todo.callback[1].apply(b.todo.callback[0],d)}}function n(a,b,d){d&&f(c,a,b,d),l(a,b),C.ack(b)}function r(b,d){if(d=d||{},G)d.todo&&d.todo.options&&(d.todo.options.center&&(d.todo.options.center=A(d.todo.options.center)),G.setOptions(d.todo.options));else{var e=d.opts||a.extend(!0,{},H.map,d.todo&&d.todo.options?d.todo.options:{});e.center=b||A(e.center),G=new H.classes.Map(c.get(0),e)}}function x(b,d,e){var g=[],h="values"in b.todo;return h||(b.todo.values=[{options:b.opts}]),b.todo.values.length?(r(),a.each(b.todo.values,function(h,i){var k,l,m,n,o=j(b,i);if(o.options[e])if(o.options[e][0][0]&&a.isArray(o.options[e][0][0]))for(l=0;l<o.options[e].length;l++)for(m=0;m<o.options[e][l].length;m++)o.options[e][l][m]=A(o.options[e][l][m]);else for(l=0;l<o.options[e].length;l++)o.options[e][l]=A(o.options[e][l]);o.options.map=G,n=new google.maps[d](o.options),g.push(n),k=F.add({todo:o},d.toLowerCase(),n),f(c,{todo:o},n,k)}),void n(b,h?g:g[0])):void n(b,!1)}function z(d){var e,g,h=new o(c,G,d),i={},j={},k=[],l=/^[0-9]+$/;for(g in d)l.test(g)?(k.push(1*g),j[g]=d[g],j[g].width=j[g].width||0,j[g].height=j[g].height||0):i[g]=d[g];return k.sort(function(a,b){return a>b}),e=i.calculator?function(b){var d=[];return a.each(b,function(a,b){d.push(h.value(b))}),i.calculator.apply(c,[d])}:function(a){return a.length},h.error(function(){w.apply(D,arguments)}),h.display(function(g){var l,m,n,o,p,q=e(g.indexes);if(d.force||q>1)for(l=0;l<k.length;l++)k[l]<=q&&(m=j[k[l]]);m?(p=m.offset||[-m.width/2,-m.height/2],n=a.extend({},i),n.options=a.extend({pane:"overlayLayer",content:m.content?m.content.replace("CLUSTER_COUNT",q):"",offset:{x:("x"in p?p.x:p[0])||0,y:("y"in p?p.y:p[1])||0}},i.options||{}),o=D.overlay({todo:n,opts:n.options,latLng:A(g)},!0),n.options.pane="floatShadow",n.options.content=a(document.createElement("div")).width(m.width+"px").height(m.height+"px").css({cursor:"pointer"}),shadow=D.overlay({todo:n,opts:n.options,latLng:A(g)},!0),i.data={latLng:A(g),markers:[]},a.each(g.indexes,function(a,b){i.data.markers.push(h.value(b)),h.markerIsSet(b)&&h.marker(b).setMap(null)}),f(c,{todo:i},shadow,b,{main:o,shadow:shadow}),h.store(g,o,shadow)):a.each(g.indexes,function(a,b){h.marker(b).setMap(G)})}),h}var C,D=this,E=new g,F=new q,G=null;this._plan=function(a){for(var b=0;b<a.length;b++)E.add(new h(D,k,a[b]));i()},this.map=function(a){r(a.latLng,a),f(c,a,G),n(a,G)},this.destroy=function(a){F.clear(),c.empty(),G&&(G=null),n(a,!0)},this.infowindow=function(d){var e=[],g="values"in d.todo;g||(d.latLng&&(d.opts.position=d.latLng),d.todo.values=[{options:d.opts}]),a.each(d.todo.values,function(a,h){var i,k,l=j(d,h);l.options.position=A(l.options.position?l.options.position:h.latLng),G||r(l.options.position),k=new H.classes.InfoWindow(l.options),k&&(l.open===b||l.open)&&(g?k.open(G,l.anchor?l.anchor:b):k.open(G,l.anchor?l.anchor:d.latLng?b:d.session.marker?d.session.marker:b)),e.push(k),i=F.add({todo:l},"infowindow",k),f(c,{todo:l},k,i)}),n(d,g?e:e[0])},this.circle=function(b){var d=[],e="values"in b.todo;return e||(b.opts.center=b.latLng||A(b.opts.center),b.todo.values=[{options:b.opts}]),b.todo.values.length?(a.each(b.todo.values,function(a,e){var g,h,i=j(b,e);i.options.center=A(i.options.center?i.options.center:e),G||r(i.options.center),i.options.map=G,h=new H.classes.Circle(i.options),d.push(h),g=F.add({todo:i},"circle",h),f(c,{todo:i},h,g)}),void n(b,e?d:d[0])):void n(b,!1)},this.overlay=function(b,d){var e=[],g="values"in b.todo;return g||(b.todo.values=[{latLng:b.latLng,options:b.opts}]),b.todo.values.length?(m.__initialised||(m.prototype=new H.classes.OverlayView,m.__initialised=!0),a.each(b.todo.values,function(g,h){var i,k,l=j(b,h),n=a(document.createElement("div")).css({border:"none",borderWidth:"0px",position:"absolute"});n.append(l.options.content),k=new m(G,l.options,A(l)||A(h),n),e.push(k),n=null,d||(i=F.add(b,"overlay",k),f(c,{todo:l},k,i))}),d?e[0]:void n(b,g?e:e[0])):void n(b,!1)},this.getaddress=function(a){l(a,a.results,a.status),C.ack()},this.getlatlng=function(a){l(a,a.results,a.status),C.ack()},this.getmaxzoom=function(a){u().getMaxZoomAtLatLng(a.latLng,function(b){l(a,b.status===google.maps.MaxZoomStatus.OK?b.zoom:!1,status),C.ack()})},this.getelevation=function(a){var b,c=[],d=function(b,c){l(a,c===google.maps.ElevationStatus.OK?b:!1,c),C.ack()};if(a.latLng)c.push(a.latLng);else for(c=y(a.todo.locations||[]),b=0;b<c.length;b++)c[b]=A(c[b]);if(c.length)t().getElevationForLocations({locations:c},d);else{if(a.todo.path&&a.todo.path.length)for(b=0;b<a.todo.path.length;b++)c.push(A(a.todo.path[b]));c.length?t().getElevationAlongPath({path:c,samples:a.todo.samples},d):C.ack()}},this.defaults=function(b){a.each(b.todo,function(b,c){H[b]="object"==typeof H[b]?a.extend({},H[b],c):c}),C.ack(!0)},this.rectangle=function(b){var d=[],e="values"in b.todo;return e||(b.todo.values=[{options:b.opts}]),b.todo.values.length?(a.each(b.todo.values,function(a,e){var g,h,i=j(b,e);i.options.bounds=B(i.options.bounds?i.options.bounds:e),G||r(i.options.bounds.getCenter()),i.options.map=G,h=new H.classes.Rectangle(i.options),d.push(h),g=F.add({todo:i},"rectangle",h),f(c,{todo:i},h,g)}),void n(b,e?d:d[0])):void n(b,!1)},this.polyline=function(a){x(a,"Polyline","path")},this.polygon=function(a){x(a,"Polygon","paths")},this.trafficlayer=function(a){r();var b=F.get("trafficlayer");b||(b=new H.classes.TrafficLayer,b.setMap(G),F.add(a,"trafficlayer",b)),n(a,b)},this.bicyclinglayer=function(a){r();var b=F.get("bicyclinglayer");b||(b=new H.classes.BicyclingLayer,b.setMap(G),F.add(a,"bicyclinglayer",b)),n(a,b)},this.groundoverlay=function(a){a.opts.bounds=B(a.opts.bounds),a.opts.bounds&&r(a.opts.bounds.getCenter());var b,c=new H.classes.GroundOverlay(a.opts.url,a.opts.bounds,a.opts.opts);c.setMap(G),b=F.add(a,"groundoverlay",c),n(a,c,b)},this.streetviewpanorama=function(b){b.opts.opts||(b.opts.opts={}),b.latLng?b.opts.opts.position=b.latLng:b.opts.opts.position&&(b.opts.opts.position=A(b.opts.opts.position)),b.todo.divId?b.opts.container=document.getElementById(b.todo.divId):b.opts.container&&(b.opts.container=a(b.opts.container).get(0));var c,d=new H.classes.StreetViewPanorama(b.opts.container,b.opts.opts);d&&G.setStreetView(d),c=F.add(b,"streetviewpanorama",d),n(b,d,c)},this.kmllayer=function(b){var d=[],g="values"in b.todo;return g||(b.todo.values=[{options:b.opts}]),b.todo.values.length?(a.each(b.todo.values,function(a,g){var h,i,k,l=j(b,g);G||r(),k=l.options,l.options.opts&&(k=l.options.opts,l.options.url&&(k.url=l.options.url)),k.map=G,i=e("3.10")?new H.classes.KmlLayer(k):new H.classes.KmlLayer(k.url,k),d.push(i),h=F.add({todo:l},"kmllayer",i),f(c,{todo:l},i,h)}),void n(b,g?d:d[0])):void n(b,!1)},this.panel=function(d){r();var e,f,g=0,h=0,i=a(document.createElement("div"));i.css({position:"absolute",zIndex:1e3,visibility:"hidden"}),d.opts.content&&(f=a(d.opts.content),i.append(f),c.first().prepend(i),d.opts.left!==b?g=d.opts.left:d.opts.right!==b?g=c.width()-f.width()-d.opts.right:d.opts.center&&(g=(c.width()-f.width())/2),d.opts.top!==b?h=d.opts.top:d.opts.bottom!==b?h=c.height()-f.height()-d.opts.bottom:d.opts.middle&&(h=(c.height()-f.height())/2),i.css({top:h,left:g,visibility:"visible"})),e=F.add(d,"panel",i),n(d,i,e),i=null},this.marker=function(b){var e="values"in b.todo,g=!G;if(e||(b.opts.position=b.latLng||A(b.opts.position),b.todo.values=[{options:b.opts}]),!b.todo.values.length)return void n(b,!1);if(g&&r(),b.todo.cluster&&!G.getBounds())return void google.maps.event.addListenerOnce(G,"bounds_changed",function(){D.marker.apply(D,[b])});if(b.todo.cluster){var h,i;b.todo.cluster instanceof p?(h=b.todo.cluster,i=F.getById(h.id(),!0)):(i=z(b.todo.cluster),h=new p(d(b.todo.id,!0),i),F.add(b,"clusterer",h,i)),i.beginUpdate(),a.each(b.todo.values,function(a,c){var d=j(b,c);d.options.position=A(d.options.position?d.options.position:c),d.options.map=G,g&&(G.setCenter(d.options.position),g=!1),i.add(d,c)}),i.endUpdate(),n(b,h)}else{var k=[];a.each(b.todo.values,function(a,d){var e,h,i=j(b,d);i.options.position=A(i.options.position?i.options.position:d),i.options.map=G,g&&(G.setCenter(i.options.position),g=!1),h=new H.classes.Marker(i.options),k.push(h),e=F.add({todo:i},"marker",h),f(c,{todo:i},h,e)}),n(b,e?k:k[0])}},this.getroute=function(a){a.opts.origin=A(a.opts.origin,!0),a.opts.destination=A(a.opts.destination,!0),s().route(a.opts,function(b,c){l(a,c==google.maps.DirectionsStatus.OK?b:!1,c),C.ack()})},this.directionsrenderer=function(b){b.opts.map=G;var c,d=new google.maps.DirectionsRenderer(b.opts);b.todo.divId?d.setPanel(document.getElementById(b.todo.divId)):b.todo.container&&d.setPanel(a(b.todo.container).get(0)),c=F.add(b,"directionsrenderer",d),n(b,d,c)},this.getgeoloc=function(a){n(a,a.latLng)},this.styledmaptype=function(a){r();var b=new H.classes.StyledMapType(a.todo.styles,a.opts);G.mapTypes.set(a.todo.id,b),n(a,b)},this.imagemaptype=function(a){r();var b=new H.classes.ImageMapType(a.opts);G.mapTypes.set(a.todo.id,b),n(a,b)},this.autofit=function(b){var c=new google.maps.LatLngBounds;a.each(F.all(),function(a,b){b.getPosition?c.extend(b.getPosition()):b.getBounds?(c.extend(b.getBounds().getNorthEast()),c.extend(b.getBounds().getSouthWest())):b.getPaths?b.getPaths().forEach(function(a){a.forEach(function(a){c.extend(a)})}):b.getPath?b.getPath().forEach(function(a){c.extend(a)}):b.getCenter?c.extend(b.getCenter()):b instanceof p&&(b=F.getById(b.id(),!0),b&&b.autofit(c))}),c.isEmpty()||G.getBounds()&&G.getBounds().equals(c)||("maxZoom"in b.todo&&google.maps.event.addListenerOnce(G,"bounds_changed",function(){this.getZoom()>b.todo.maxZoom&&this.setZoom(b.todo.maxZoom)}),G.fitBounds(c)),n(b,!0)},this.clear=function(b){if("string"==typeof b.todo){if(F.clearById(b.todo)||F.objClearById(b.todo))return void n(b,!0);b.todo={name:b.todo}}b.todo.id?a.each(y(b.todo.id),function(a,b){F.clearById(b)||F.objClearById(b)}):(F.clear(y(b.todo.name),b.todo.last,b.todo.first,b.todo.tag),F.objClear(y(b.todo.name),b.todo.last,b.todo.first,b.todo.tag)),n(b,!0)},this.exec=function(b){var d=this;a.each(y(b.todo.func),function(e,f){a.each(d.get(b.todo,!0,b.todo.hasOwnProperty("full")?b.todo.full:!0),function(a,b){f.call(c,b)})}),n(b,!0)},this.get=function(c,d,e){var f,g,h=d?c:c.todo;return d||(e=h.full),"string"==typeof h?(g=F.getById(h,!1,e)||F.objGetById(h),g===!1&&(f=h,h={})):f=h.name,"map"===f&&(g=G),g||(g=[],h.id?(a.each(y(h.id),function(a,b){g.push(F.getById(b,!1,e)||F.objGetById(b))}),a.isArray(h.id)||(g=g[0])):(a.each(f?y(f):[b],function(b,c){var d;h.first?(d=F.get(c,!1,h.tag,e),d&&g.push(d)):h.all?a.each(F.all(c,h.tag,e),function(a,b){g.push(b)}):(d=F.get(c,!0,h.tag,e),d&&g.push(d))}),h.all||a.isArray(f)||(g=g[0]))),g=a.isArray(g)||!h.all?g:[g],d?g:void n(c,g)},this.getdistance=function(a){var b;for(a.opts.origins=y(a.opts.origins),b=0;b<a.opts.origins.length;b++)a.opts.origins[b]=A(a.opts.origins[b],!0);for(a.opts.destinations=y(a.opts.destinations),b=0;b<a.opts.destinations.length;b++)a.opts.destinations[b]=A(a.opts.destinations[b],!0);v().getDistanceMatrix(a.opts,function(b,c){l(a,c===google.maps.DistanceMatrixStatus.OK?b:!1,c),C.ack()})},this.trigger=function(b){if("string"==typeof b.todo)google.maps.event.trigger(G,b.todo);else{var c=[G,b.todo.eventName];b.todo.var_args&&a.each(b.todo.var_args,function(a,b){c.push(b)}),google.maps.event.trigger.apply(google.maps.event,c)}l(b),C.ack()}}function G(a){var b;if(!a.hasOwnProperty("get"))return!1;for(b in a)if("get"!==b)return!1;return!a.get.hasOwnProperty("callback")}var H,I=0,J={},K=new l;a.fn.gmap3=function(){var b,d=[],e=!0,f=[];for(c(),b=0;b<arguments.length;b++)arguments[b]&&d.push(arguments[b]);return d.length||d.push("map"),a.each(this,function(){var b=a(this),c=b.data("gmap3");e=!1,c||(c=new F(b),b.data("gmap3",c)),1!==d.length||"get"!==d[0]&&!G(d[0])?c._plan(d):f.push("get"===d[0]?c.get("map",!0):c.get(d[0].get,!0,d[0].get.full))}),f.length?1===f.length?f[0]:f:this}}(jQuery),this.Handlebars={},function(a){a.VERSION="1.0.rc.1",a.helpers={},a.partials={},a.registerHelper=function(a,b,c){c&&(b.not=c),this.helpers[a]=b},a.registerPartial=function(a,b){this.partials[a]=b},a.registerHelper("helperMissing",function(a){if(2===arguments.length)return void 0;throw new Error("Could not find property '"+a+"'")});var b=Object.prototype.toString,c="[object Function]";a.registerHelper("blockHelperMissing",function(d,e){var f=e.inverse||function(){},g=e.fn,h=b.call(d);return h===c&&(d=d.call(this)),d===!0?g(this):d===!1||null==d?f(this):"[object Array]"===h?d.length>0?a.helpers.each(d,e):f(this):g(d)}),a.K=function(){},a.createFrame=Object.create||function(b){a.K.prototype=b;var c=new a.K;return a.K.prototype=null,c},a.registerHelper("each",function(b,c){var d,e=c.fn,f=c.inverse,g=0,h="";if(c.data&&(d=a.createFrame(c.data)),b&&"object"==typeof b)if(b instanceof Array)for(var i=b.length;i>g;g++)d&&(d.index=g),h+=e(b[g],{data:d});else for(var j in b)b.hasOwnProperty(j)&&(d&&(d.key=j),h+=e(b[j],{data:d}),g++);return 0===g&&(h=f(this)),h}),a.registerHelper("if",function(d,e){var f=b.call(d);return f===c&&(d=d.call(this)),!d||a.Utils.isEmpty(d)?e.inverse(this):e.fn(this)}),a.registerHelper("unless",function(b,c){var d=c.fn,e=c.inverse;return c.fn=e,c.inverse=d,a.helpers["if"].call(this,b,c)}),a.registerHelper("with",function(a,b){return b.fn(a)}),a.registerHelper("log",function(b){a.log(b)})}(this.Handlebars);var errorProps=["description","fileName","lineNumber","message","name","number","stack"];Handlebars.Exception=function(){for(var a=Error.prototype.constructor.apply(this,arguments),b=0;b<errorProps.length;b++)this[errorProps[b]]=a[errorProps[b]]},Handlebars.Exception.prototype=new Error,Handlebars.SafeString=function(a){this.string=a},Handlebars.SafeString.prototype.toString=function(){return this.string.toString()},function(){var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},b=/[&<>"'`]/g,c=/[&<>"'`]/,d=function(b){return a[b]||"&amp;"};Handlebars.Utils={escapeExpression:function(a){return a instanceof Handlebars.SafeString?a.toString():null==a||a===!1?"":c.test(a)?a.replace(b,d):a},isEmpty:function(a){return"undefined"==typeof a?!0:null===a?!0:a===!1?!0:"[object Array]"===Object.prototype.toString.call(a)&&0===a.length?!0:!1}}}(),Handlebars.VM={template:function(a){var b={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(a,b,c){var d=this.programs[a];return c?Handlebars.VM.program(b,c):d?d:d=this.programs[a]=Handlebars.VM.program(b)},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop};return function(c,d){return d=d||{},a.call(b,Handlebars,c,d.helpers,d.partials,d.data)}},programWithDepth:function(a,b){var c=Array.prototype.slice.call(arguments,2);return function(d,e){return e=e||{},a.apply(this,[d,e.data||b].concat(c))}},program:function(a,b){return function(c,d){return d=d||{},a(c,d.data||b)}},noop:function(){return""},invokePartial:function(a,b,c,d,e,f){var g={helpers:d,partials:e,data:f};if(void 0===a)throw new Handlebars.Exception("The partial "+b+" could not be found");if(a instanceof Function)return a(c,g);if(!Handlebars.compile)throw new Handlebars.Exception("The partial "+b+" could not be compiled when running in runtime-only mode");return e[b]=Handlebars.compile(a,{data:void 0!==f}),e[b](c,g)}},Handlebars.template=Handlebars.VM.template,function(a,b){function c(a){var b=a.length,c=kb.type(a);return kb.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)}function d(a){var b=zb[a]={};return kb.each(a.match(mb)||[],function(a,c){b[c]=!0}),b}function e(a,c,d,e){if(kb.acceptData(a)){var f,g,h=kb.expando,i=a.nodeType,j=i?kb.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||d!==b||"string"!=typeof c)return k||(k=i?a[h]=bb.pop()||kb.guid++:h),j[k]||(j[k]=i?{}:{toJSON:kb.noop}),("object"==typeof c||"function"==typeof c)&&(e?j[k]=kb.extend(j[k],c):j[k].data=kb.extend(j[k].data,c)),g=j[k],e||(g.data||(g.data={}),g=g.data),d!==b&&(g[kb.camelCase(c)]=d),"string"==typeof c?(f=g[c],null==f&&(f=g[kb.camelCase(c)])):f=g,f}}function f(a,b,c){if(kb.acceptData(a)){var d,e,f=a.nodeType,g=f?kb.cache:a,i=f?a[kb.expando]:kb.expando;if(g[i]){if(b&&(d=c?g[i]:g[i].data)){kb.isArray(b)?b=b.concat(kb.map(b,kb.camelCase)):b in d?b=[b]:(b=kb.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!h(d):!kb.isEmptyObject(d))return}(c||(delete g[i].data,h(g[i])))&&(f?kb.cleanData([a],!0):kb.support.deleteExpando||g!=g.window?delete g[i]:g[i]=null)}}}function g(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(Bb,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:Ab.test(d)?kb.parseJSON(d):d}catch(f){}kb.data(a,c,d)}else d=b}return d}function h(a){var b;for(b in a)if(("data"!==b||!kb.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function i(){return!0}function j(){return!1}function k(){try{return Y.activeElement}catch(a){}}function l(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function m(a,b,c){if(kb.isFunction(b))return kb.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return kb.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(Qb.test(b))return kb.filter(b,a,c);b=kb.filter(b,a)}return kb.grep(a,function(a){return kb.inArray(a,b)>=0!==c})}function n(a){var b=Ub.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function o(a,b){return kb.nodeName(a,"table")&&kb.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function p(a){return a.type=(null!==kb.find.attr(a,"type"))+"/"+a.type,a}function q(a){var b=ec.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function r(a,b){for(var c,d=0;null!=(c=a[d]);d++)kb._data(c,"globalEval",!b||kb._data(b[d],"globalEval"))}function s(a,b){if(1===b.nodeType&&kb.hasData(a)){var c,d,e,f=kb._data(a),g=kb._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)kb.event.add(b,c,h[c][d])}g.data&&(g.data=kb.extend({},g.data))}}function t(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!kb.support.noCloneEvent&&b[kb.expando]){e=kb._data(b);for(d in e.events)kb.removeEvent(b,d,e.handle);b.removeAttribute(kb.expando)}"script"===c&&b.text!==a.text?(p(b).text=a.text,q(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),kb.support.html5Clone&&a.innerHTML&&!kb.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&bc.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function u(a,c){var d,e,f=0,g=typeof a.getElementsByTagName!==W?a.getElementsByTagName(c||"*"):typeof a.querySelectorAll!==W?a.querySelectorAll(c||"*"):b;if(!g)for(g=[],d=a.childNodes||a;null!=(e=d[f]);f++)!c||kb.nodeName(e,c)?g.push(e):kb.merge(g,u(e,c));return c===b||c&&kb.nodeName(a,c)?kb.merge([a],g):g}function v(a){bc.test(a.type)&&(a.defaultChecked=a.checked)}function w(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=yc.length;e--;)if(b=yc[e]+c,b in a)return b;return d}function x(a,b){return a=b||a,"none"===kb.css(a,"display")||!kb.contains(a.ownerDocument,a)}function y(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=kb._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&x(d)&&(f[g]=kb._data(d,"olddisplay",C(d.nodeName)))):f[g]||(e=x(d),(c&&"none"!==c||!e)&&kb._data(d,"olddisplay",e?c:kb.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function z(a,b,c){var d=rc.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function A(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=kb.css(a,c+xc[f],!0,e)),d?("content"===c&&(g-=kb.css(a,"padding"+xc[f],!0,e)),"margin"!==c&&(g-=kb.css(a,"border"+xc[f]+"Width",!0,e))):(g+=kb.css(a,"padding"+xc[f],!0,e),"padding"!==c&&(g+=kb.css(a,"border"+xc[f]+"Width",!0,e)));return g}function B(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=kc(a),g=kb.support.boxSizing&&"border-box"===kb.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=lc(a,b,f),(0>e||null==e)&&(e=a.style[b]),sc.test(e))return e;d=g&&(kb.support.boxSizingReliable||e===a.style[b]),e=parseFloat(e)||0}return e+A(a,b,c||(g?"border":"content"),d,f)+"px"}function C(a){var b=Y,c=uc[a];return c||(c=D(a,b),"none"!==c&&c||(jc=(jc||kb("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(jc[0].contentWindow||jc[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=D(a,b),jc.detach()),uc[a]=c),c}function D(a,b){var c=kb(b.createElement(a)).appendTo(b.body),d=kb.css(c[0],"display");return c.remove(),d}function E(a,b,c,d){var e;if(kb.isArray(b))kb.each(b,function(b,e){c||Ac.test(a)?d(a,e):E(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==kb.type(b))d(a,b);else for(e in b)E(a+"["+e+"]",b[e],c,d)}function F(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(mb)||[];if(kb.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function G(a,b,c,d){function e(h){var i;return f[h]=!0,kb.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Rc;return e(b.dataTypes[0])||!f["*"]&&e("*")}function H(a,c){var d,e,f=kb.ajaxSettings.flatOptions||{};for(e in c)c[e]!==b&&((f[e]?a:d||(d={}))[e]=c[e]);return d&&kb.extend(!0,a,d),a}function I(a,c,d){for(var e,f,g,h,i=a.contents,j=a.dataTypes;"*"===j[0];)j.shift(),f===b&&(f=a.mimeType||c.getResponseHeader("Content-Type"));if(f)for(h in i)if(i[h]&&i[h].test(f)){j.unshift(h);break}if(j[0]in d)g=j[0];else{for(h in d){if(!j[0]||a.converters[h+" "+j[0]]){g=h;break}e||(e=h)}g=g||e}return g?(g!==j[0]&&j.unshift(g),d[g]):void 0}function J(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function K(){try{return new a.XMLHttpRequest}catch(b){}}function L(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function M(){return setTimeout(function(){$c=b}),$c=kb.now()}function N(a,b,c){for(var d,e=(ed[b]||[]).concat(ed["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function O(a,b,c){var d,e,f=0,g=dd.length,h=kb.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$c||M(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:kb.extend({},b),opts:kb.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$c||M(),duration:c.duration,tweens:[],createTween:function(b,c){var d=kb.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(P(k,j.opts.specialEasing);g>f;f++)if(d=dd[f].call(j,a,k,j.opts))return d;return kb.map(k,N,j),kb.isFunction(j.opts.start)&&j.opts.start.call(a,j),kb.fx.timer(kb.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function P(a,b){var c,d,e,f,g;for(c in a)if(d=kb.camelCase(c),e=b[d],f=a[c],kb.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=kb.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Q(a,b,c){var d,e,f,g,h,i,j=this,k={},l=a.style,m=a.nodeType&&x(a),n=kb._data(a,"fxshow");c.queue||(h=kb._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,j.always(function(){j.always(function(){h.unqueued--,kb.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[l.overflow,l.overflowX,l.overflowY],"inline"===kb.css(a,"display")&&"none"===kb.css(a,"float")&&(kb.support.inlineBlockNeedsLayout&&"inline"!==C(a.nodeName)?l.zoom=1:l.display="inline-block")),c.overflow&&(l.overflow="hidden",kb.support.shrinkWrapBlocks||j.always(function(){l.overflow=c.overflow[0],l.overflowX=c.overflow[1],l.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ad.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(m?"hide":"show"))continue;k[d]=n&&n[d]||kb.style(a,d)}if(!kb.isEmptyObject(k)){n?"hidden"in n&&(m=n.hidden):n=kb._data(a,"fxshow",{}),f&&(n.hidden=!m),m?kb(a).show():j.done(function(){kb(a).hide()}),j.done(function(){var b;kb._removeData(a,"fxshow");for(b in k)kb.style(a,b,k[b])});for(d in k)g=N(m?n[d]:0,d,j),d in n||(n[d]=g.start,m&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function R(a,b,c,d,e){return new R.prototype.init(a,b,c,d,e)}function S(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=xc[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function T(a){return kb.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var U,V,W=typeof b,X=a.location,Y=a.document,Z=Y.documentElement,$=a.jQuery,_=a.$,ab={},bb=[],cb="1.10.2",db=bb.concat,eb=bb.push,fb=bb.slice,gb=bb.indexOf,hb=ab.toString,ib=ab.hasOwnProperty,jb=cb.trim,kb=function(a,b){return new kb.fn.init(a,b,V)},lb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,mb=/\S+/g,nb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ob=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,pb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,qb=/^[\],:{}\s]*$/,rb=/(?:^|:|,)(?:\s*\[)+/g,sb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,tb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,ub=/^-ms-/,vb=/-([\da-z])/gi,wb=function(a,b){return b.toUpperCase()},xb=function(a){(Y.addEventListener||"load"===a.type||"complete"===Y.readyState)&&(yb(),kb.ready())},yb=function(){Y.addEventListener?(Y.removeEventListener("DOMContentLoaded",xb,!1),a.removeEventListener("load",xb,!1)):(Y.detachEvent("onreadystatechange",xb),a.detachEvent("onload",xb))};kb.fn=kb.prototype={jquery:cb,constructor:kb,init:function(a,c,d){var e,f;if(!a)return this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:ob.exec(a),!e||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1]){if(c=c instanceof kb?c[0]:c,kb.merge(this,kb.parseHTML(e[1],c&&c.nodeType?c.ownerDocument||c:Y,!0)),pb.test(e[1])&&kb.isPlainObject(c))for(e in c)kb.isFunction(this[e])?this[e](c[e]):this.attr(e,c[e]);return this}if(f=Y.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=Y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):kb.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),kb.makeArray(a,this))},selector:"",length:0,toArray:function(){return fb.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){var b=kb.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return kb.each(this,a,b)},ready:function(a){return kb.ready.promise().done(a),this},slice:function(){return this.pushStack(fb.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},map:function(a){return this.pushStack(kb.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:eb,sort:[].sort,splice:[].splice},kb.fn.init.prototype=kb.fn,kb.extend=kb.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||kb.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(f=arguments[i]))for(e in f)a=h[e],d=f[e],h!==d&&(k&&d&&(kb.isPlainObject(d)||(c=kb.isArray(d)))?(c?(c=!1,g=a&&kb.isArray(a)?a:[]):g=a&&kb.isPlainObject(a)?a:{},h[e]=kb.extend(k,g,d)):d!==b&&(h[e]=d));return h},kb.extend({expando:"jQuery"+(cb+Math.random()).replace(/\D/g,""),noConflict:function(b){return a.$===kb&&(a.$=_),b&&a.jQuery===kb&&(a.jQuery=$),kb},isReady:!1,readyWait:1,holdReady:function(a){a?kb.readyWait++:kb.ready(!0)},ready:function(a){if(a===!0?!--kb.readyWait:!kb.isReady){if(!Y.body)return setTimeout(kb.ready);kb.isReady=!0,a!==!0&&--kb.readyWait>0||(U.resolveWith(Y,[kb]),kb.fn.trigger&&kb(Y).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===kb.type(a)},isArray:Array.isArray||function(a){return"array"===kb.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):"object"==typeof a||"function"==typeof a?ab[hb.call(a)]||"object":typeof a},isPlainObject:function(a){var c;if(!a||"object"!==kb.type(a)||a.nodeType||kb.isWindow(a))return!1;try{if(a.constructor&&!ib.call(a,"constructor")&&!ib.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}if(kb.support.ownLast)for(c in a)return ib.call(a,c);for(c in a);return c===b||ib.call(a,c)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Y;var d=pb.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=kb.buildFragment([a],b,e),e&&kb(e).remove(),kb.merge([],d.childNodes))},parseJSON:function(b){return a.JSON&&a.JSON.parse?a.JSON.parse(b):null===b?b:"string"==typeof b&&(b=kb.trim(b),b&&qb.test(b.replace(sb,"@").replace(tb,"]").replace(rb,"")))?new Function("return "+b)():void kb.error("Invalid JSON: "+b)},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||kb.error("Invalid XML: "+c),d
},noop:function(){},globalEval:function(b){b&&kb.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(ub,"ms-").replace(vb,wb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:jb&&!jb.call("﻿ ")?function(a){return null==a?"":jb.call(a)}:function(a){return null==a?"":(a+"").replace(nb,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?kb.merge(d,"string"==typeof a?[a]:a):eb.call(d,a)),d},inArray:function(a,b,c){var d;if(b){if(gb)return gb.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&(i[i.length]=e);else for(f in a)e=b(a[f],f,d),null!=e&&(i[i.length]=e);return db.apply([],i)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(f=a[c],c=a,a=f),kb.isFunction(a)?(d=fb.call(arguments,2),e=function(){return a.apply(c||this,d.concat(fb.call(arguments)))},e.guid=a.guid=a.guid||kb.guid++,e):b},access:function(a,c,d,e,f,g,h){var i=0,j=a.length,k=null==d;if("object"===kb.type(d)){f=!0;for(i in d)kb.access(a,c,i,d[i],!0,g,h)}else if(e!==b&&(f=!0,kb.isFunction(e)||(h=!0),k&&(h?(c.call(a,e),c=null):(k=c,c=function(a,b,c){return k.call(kb(a),c)})),c))for(;j>i;i++)c(a[i],d,h?e:e.call(a[i],i,c(a[i],d)));return f?a:k?c.call(a):j?c(a[0],d):g},now:function(){return(new Date).getTime()},swap:function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e}}),kb.ready.promise=function(b){if(!U)if(U=kb.Deferred(),"complete"===Y.readyState)setTimeout(kb.ready);else if(Y.addEventListener)Y.addEventListener("DOMContentLoaded",xb,!1),a.addEventListener("load",xb,!1);else{Y.attachEvent("onreadystatechange",xb),a.attachEvent("onload",xb);var c=!1;try{c=null==a.frameElement&&Y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!kb.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}yb(),kb.ready()}}()}return U.promise(b)},kb.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){ab["[object "+b+"]"]=b.toLowerCase()}),V=kb(Y),function(a,b){function c(a,b,c,d){var e,f,g,h,i,j,k,l,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=tb.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return ab.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&x.getElementsByClassName&&b.getElementsByClassName)return ab.apply(c,b.getElementsByClassName(g)),c}if(x.qsa&&(!J||!J.test(a))){if(l=k=N,o=b,p=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=m(a),(k=b.getAttribute("id"))?l=k.replace(wb,"\\$&"):b.setAttribute("id",l),l="[id='"+l+"'] ",i=j.length;i--;)j[i]=l+n(j[i]);o=nb.test(a)&&b.parentNode||b,p=j.join(",")}if(p)try{return ab.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{k||b.removeAttribute("id")}}}return v(a.replace(jb,"$1"),b,c,d)}function d(){function a(c,d){return b.push(c+=" ")>z.cacheLength&&delete a[b.shift()],a[c]=d}var b=[];return a}function e(a){return a[N]=!0,a}function f(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function g(a,b){for(var c=a.split("|"),d=a.length;d--;)z.attrHandle[c[d]]=b}function h(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||X)-(~a.sourceIndex||X);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function i(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function j(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function k(a){return e(function(b){return b=+b,e(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function l(){}function m(a,b){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=z.preFilter;h;){(!d||(e=lb.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=mb.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(jb," ")}),h=h.slice(d.length));for(g in z.filter)!(e=rb[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return b?h.length:h?c.error(a):S(a,i).slice(0)}function n(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=P+" "+f;if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e)if(j=b[N]||(b[N]={}),(i=j[d])&&i[0]===k){if((h=i[1])===!0||h===y)return h===!0}else if(i=j[d]=[k],i[1]=a(b,c,g)||y,i[1]===!0)return!0}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,d,f,g){return d&&!d[N]&&(d=r(d)),f&&!f[N]&&(f=r(f,g)),e(function(e,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=e||u(b||"*",h.nodeType?[h]:h,[]),r=!a||!e&&b?p:q(p,m,a,h,i),s=c?f||(e?a:o||d)?[]:g:r;if(c&&c(r,s,h,i),d)for(j=q(s,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l));if(e){if(f||a){if(f){for(j=[],k=s.length;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}for(k=s.length;k--;)(l=s[k])&&(j=f?cb.call(e,l):m[k])>-1&&(e[j]=!(g[j]=l))}}else s=q(s===g?s.splice(o,s.length):s),f?f(null,g,s,i):ab.apply(g,s)})}function s(a){for(var b,c,d,e=a.length,f=z.relative[a[0].type],g=f||z.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return cb.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==D)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=z.relative[a[h].type])k=[o(p(k),c)];else{if(c=z.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!z.relative[a[d].type];d++);return r(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(jb,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&n(a))}k.push(c)}return p(k)}function t(a,b){var d=0,f=b.length>0,g=a.length>0,h=function(e,h,i,j,k){var l,m,n,o=[],p=0,r="0",s=e&&[],t=null!=k,u=D,v=e||g&&z.find.TAG("*",k&&h.parentNode||h),w=P+=null==u?1:Math.random()||.1;for(t&&(D=h!==G&&h,y=d);null!=(l=v[r]);r++){if(g&&l){for(m=0;n=a[m++];)if(n(l,h,i)){j.push(l);break}t&&(P=w,y=++d)}f&&((l=!n&&l)&&p--,e&&s.push(l))}if(p+=r,f&&r!==p){for(m=0;n=b[m++];)n(s,o,h,i);if(e){if(p>0)for(;r--;)s[r]||o[r]||(o[r]=$.call(j));o=q(o)}ab.apply(j,o),t&&!e&&o.length>0&&p+b.length>1&&c.uniqueSort(j)}return t&&(P=w,D=u),s};return f?e(h):h}function u(a,b,d){for(var e=0,f=b.length;f>e;e++)c(a,b[e],d);return d}function v(a,b,c,d){var e,f,g,h,i,j=m(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&x.getById&&9===b.nodeType&&I&&z.relative[f[1].type]){if(b=(z.find.ID(g.matches[0].replace(xb,yb),b)||[])[0],!b)return c;a=a.slice(f.shift().value.length)}for(e=rb.needsContext.test(a)?0:f.length;e--&&(g=f[e],!z.relative[h=g.type]);)if((i=z.find[h])&&(d=i(g.matches[0].replace(xb,yb),nb.test(f[0].type)&&b.parentNode||b))){if(f.splice(e,1),a=d.length&&n(f),!a)return ab.apply(c,d),c;break}}return C(a,j)(d,b,!I,c,nb.test(a)),c}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=d(),S=d(),T=d(),U=!1,V=function(a,b){return a===b?(U=!0,0):0},W=typeof b,X=1<<31,Y={}.hasOwnProperty,Z=[],$=Z.pop,_=Z.push,ab=Z.push,bb=Z.slice,cb=Z.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},db="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",eb="[\\x20\\t\\r\\n\\f]",fb="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",gb=fb.replace("w","w#"),hb="\\["+eb+"*("+fb+")"+eb+"*(?:([*^$|!~]?=)"+eb+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+gb+")|)|)"+eb+"*\\]",ib=":("+fb+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+hb.replace(3,8)+")*)|.*)\\)|)",jb=new RegExp("^"+eb+"+|((?:^|[^\\\\])(?:\\\\.)*)"+eb+"+$","g"),lb=new RegExp("^"+eb+"*,"+eb+"*"),mb=new RegExp("^"+eb+"*([>+~]|"+eb+")"+eb+"*"),nb=new RegExp(eb+"*[+~]"),ob=new RegExp("="+eb+"*([^\\]'\"]*)"+eb+"*\\]","g"),pb=new RegExp(ib),qb=new RegExp("^"+gb+"$"),rb={ID:new RegExp("^#("+fb+")"),CLASS:new RegExp("^\\.("+fb+")"),TAG:new RegExp("^("+fb.replace("w","w*")+")"),ATTR:new RegExp("^"+hb),PSEUDO:new RegExp("^"+ib),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+eb+"*(even|odd|(([+-]|)(\\d*)n|)"+eb+"*(?:([+-]|)"+eb+"*(\\d+)|))"+eb+"*\\)|)","i"),bool:new RegExp("^(?:"+db+")$","i"),needsContext:new RegExp("^"+eb+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+eb+"*((?:-\\d)?\\d*)"+eb+"*\\)|)(?=[^-]|$)","i")},sb=/^[^{]+\{\s*\[native \w/,tb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ub=/^(?:input|select|textarea|button)$/i,vb=/^h\d$/i,wb=/'|\\/g,xb=new RegExp("\\\\([\\da-f]{1,6}"+eb+"?|("+eb+")|.)","ig"),yb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{ab.apply(Z=bb.call(O.childNodes),O.childNodes),Z[O.childNodes.length].nodeType}catch(zb){ab={apply:Z.length?function(a,b){_.apply(a,bb.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}B=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},x=c.support={},F=c.setDocument=function(a){var b=a?a.ownerDocument||a:O,c=b.defaultView;return b!==G&&9===b.nodeType&&b.documentElement?(G=b,H=b.documentElement,I=!B(b),c&&c.attachEvent&&c!==c.top&&c.attachEvent("onbeforeunload",function(){F()}),x.attributes=f(function(a){return a.className="i",!a.getAttribute("className")}),x.getElementsByTagName=f(function(a){return a.appendChild(b.createComment("")),!a.getElementsByTagName("*").length}),x.getElementsByClassName=f(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),x.getById=f(function(a){return H.appendChild(a).id=N,!b.getElementsByName||!b.getElementsByName(N).length}),x.getById?(z.find.ID=function(a,b){if(typeof b.getElementById!==W&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},z.filter.ID=function(a){var b=a.replace(xb,yb);return function(a){return a.getAttribute("id")===b}}):(delete z.find.ID,z.filter.ID=function(a){var b=a.replace(xb,yb);return function(a){var c=typeof a.getAttributeNode!==W&&a.getAttributeNode("id");return c&&c.value===b}}),z.find.TAG=x.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==W?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},z.find.CLASS=x.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==W&&I?b.getElementsByClassName(a):void 0},K=[],J=[],(x.qsa=sb.test(b.querySelectorAll))&&(f(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||J.push("\\["+eb+"*(?:value|"+db+")"),a.querySelectorAll(":checked").length||J.push(":checked")}),f(function(a){var c=b.createElement("input");c.setAttribute("type","hidden"),a.appendChild(c).setAttribute("t",""),a.querySelectorAll("[t^='']").length&&J.push("[*^$]="+eb+"*(?:''|\"\")"),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(x.matchesSelector=sb.test(L=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&f(function(a){x.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ib)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),M=sb.test(H.contains)||H.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},V=H.compareDocumentPosition?function(a,c){if(a===c)return U=!0,0;var d=c.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(c);return d?1&d||!x.sortDetached&&c.compareDocumentPosition(a)===d?a===b||M(O,a)?-1:c===b||M(O,c)?1:E?cb.call(E,a)-cb.call(E,c):0:4&d?-1:1:a.compareDocumentPosition?-1:1}:function(a,c){var d,e=0,f=a.parentNode,g=c.parentNode,i=[a],j=[c];if(a===c)return U=!0,0;if(!f||!g)return a===b?-1:c===b?1:f?-1:g?1:E?cb.call(E,a)-cb.call(E,c):0;if(f===g)return h(a,c);for(d=a;d=d.parentNode;)i.unshift(d);for(d=c;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?h(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},b):G},c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){if((a.ownerDocument||a)!==G&&F(a),b=b.replace(ob,"='$1']"),!(!x.matchesSelector||!I||K&&K.test(b)||J&&J.test(b)))try{var d=L.call(a,b);if(d||x.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return c(b,G,null,[a]).length>0},c.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},c.attr=function(a,c){(a.ownerDocument||a)!==G&&F(a);var d=z.attrHandle[c.toLowerCase()],e=d&&Y.call(z.attrHandle,c.toLowerCase())?d(a,c,!I):b;return e===b?x.attributes||!I?a.getAttribute(c):(e=a.getAttributeNode(c))&&e.specified?e.value:null:e},c.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},c.uniqueSort=function(a){var b,c=[],d=0,e=0;if(U=!x.detectDuplicates,E=!x.sortStable&&a.slice(0),a.sort(V),U){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return a},A=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=A(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=A(b);return c},z=c.selectors={cacheLength:50,createPseudo:e,match:rb,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(xb,yb),a[3]=(a[4]||a[5]||"").replace(xb,yb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||c.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&c.error(a[0]),a},PSEUDO:function(a){var c,d=!a[5]&&a[2];return rb.CHILD.test(a[0])?null:(a[3]&&a[4]!==b?a[2]=a[4]:d&&pb.test(d)&&(c=m(d,!0))&&(c=d.indexOf(")",d.length-c)-d.length)&&(a[0]=a[0].slice(0,c),a[2]=d.slice(0,c)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(xb,yb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+eb+")"+a+"("+eb+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==W&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(e){var f=c.attr(e,a);return null==f?"!="===b:b?(f+="","="===b?f===d:"!="===b?f!==d:"^="===b?d&&0===f.indexOf(d):"*="===b?d&&f.indexOf(d)>-1:"$="===b?d&&f.slice(-d.length)===d:"~="===b?(" "+f+" ").indexOf(d)>-1:"|="===b?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var d,f=z.pseudos[a]||z.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return f[N]?f(b):f.length>1?(d=[a,a,"",b],z.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,c){for(var d,e=f(a,b),g=e.length;g--;)d=cb.call(a,e[g]),a[d]=!(c[d]=e[g])}):function(a){return f(a,0,d)}):f}},pseudos:{not:e(function(a){var b=[],c=[],d=C(a.replace(jb,"$1"));return d[N]?e(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:e(function(a){return function(b){return c(a,b).length>0}}),contains:e(function(a){return function(b){return(b.textContent||b.innerText||A(b)).indexOf(a)>-1}}),lang:e(function(a){return qb.test(a||"")||c.error("unsupported lang: "+a),a=a.replace(xb,yb).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!z.pseudos.empty(a)},header:function(a){return vb.test(a.nodeName)},input:function(a){return ub.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[0>c?c+b:c]}),even:k(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:k(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},z.pseudos.nth=z.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})z.pseudos[w]=i(w);for(w in{submit:!0,reset:!0})z.pseudos[w]=j(w);l.prototype=z.filters=z.pseudos,z.setFilters=new l,C=c.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=m(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d))}return f},x.sortStable=N.split("").sort(V).join("")===N,x.detectDuplicates=U,F(),x.sortDetached=f(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),f(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||g("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),x.attributes&&f(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||g("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),f(function(a){return null==a.getAttribute("disabled")})||g(db,function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&d.specified?d.value:a[b]===!0?b.toLowerCase():null}),kb.find=c,kb.expr=c.selectors,kb.expr[":"]=kb.expr.pseudos,kb.unique=c.uniqueSort,kb.text=c.getText,kb.isXMLDoc=c.isXML,kb.contains=c.contains}(a);var zb={};kb.Callbacks=function(a){a="string"==typeof a?zb[a]||d(a):kb.extend({},a);var c,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(e=a.memory&&b,f=!0,h=i||0,i=0,g=j.length,c=!0;j&&g>h;h++)if(j[h].apply(b[0],b[1])===!1&&a.stopOnFalse){e=!1;break}c=!1,j&&(k?k.length&&l(k.shift()):e?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function d(b){kb.each(b,function(b,c){var e=kb.type(c);"function"===e?a.unique&&m.has(c)||j.push(c):c&&c.length&&"string"!==e&&d(c)})}(arguments),c?g=j.length:e&&(i=b,l(e))}return this},remove:function(){return j&&kb.each(arguments,function(a,b){for(var d;(d=kb.inArray(b,j,d))>-1;)j.splice(d,1),c&&(g>=d&&g--,h>=d&&h--)}),this},has:function(a){return a?kb.inArray(a,j)>-1:!(!j||!j.length)},empty:function(){return j=[],g=0,this},disable:function(){return j=k=e=b,this},disabled:function(){return!j},lock:function(){return k=b,e||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return!j||f&&!k||(b=b||[],b=[a,b.slice?b.slice():b],c?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!f}};return m},kb.extend({Deferred:function(a){var b=[["resolve","done",kb.Callbacks("once memory"),"resolved"],["reject","fail",kb.Callbacks("once memory"),"rejected"],["notify","progress",kb.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return kb.Deferred(function(c){kb.each(b,function(b,f){var g=f[0],h=kb.isFunction(a[b])&&a[b];e[f[1]](function(){var a=h&&h.apply(this,arguments);a&&kb.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[g+"With"](this===d?c.promise():this,h?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?kb.extend(a,d):d}},e={};return d.pipe=d.then,kb.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=fb.call(arguments),g=f.length,h=1!==g||a&&kb.isFunction(a.promise)?g:0,i=1===h?a:kb.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?fb.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&kb.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),kb.support=function(b){var c,d,e,f,g,h,i,j,k,l=Y.createElement("div");if(l.setAttribute("className","t"),l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=l.getElementsByTagName("*")||[],d=l.getElementsByTagName("a")[0],!d||!d.style||!c.length)return b;f=Y.createElement("select"),h=f.appendChild(Y.createElement("option")),e=l.getElementsByTagName("input")[0],d.style.cssText="top:1px;float:left;opacity:.5",b.getSetAttribute="t"!==l.className,b.leadingWhitespace=3===l.firstChild.nodeType,b.tbody=!l.getElementsByTagName("tbody").length,b.htmlSerialize=!!l.getElementsByTagName("link").length,b.style=/top/.test(d.getAttribute("style")),b.hrefNormalized="/a"===d.getAttribute("href"),b.opacity=/^0.5/.test(d.style.opacity),b.cssFloat=!!d.style.cssFloat,b.checkOn=!!e.value,b.optSelected=h.selected,b.enctype=!!Y.createElement("form").enctype,b.html5Clone="<:nav></:nav>"!==Y.createElement("nav").cloneNode(!0).outerHTML,b.inlineBlockNeedsLayout=!1,b.shrinkWrapBlocks=!1,b.pixelPosition=!1,b.deleteExpando=!0,b.noCloneEvent=!0,b.reliableMarginRight=!0,b.boxSizingReliable=!0,e.checked=!0,b.noCloneChecked=e.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!h.disabled;try{delete l.test}catch(m){b.deleteExpando=!1}e=Y.createElement("input"),e.setAttribute("value",""),b.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),b.radioValue="t"===e.value,e.setAttribute("checked","t"),e.setAttribute("name","t"),g=Y.createDocumentFragment(),g.appendChild(e),b.appendChecked=e.checked,b.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,l.attachEvent&&(l.attachEvent("onclick",function(){b.noCloneEvent=!1}),l.cloneNode(!0).click());for(k in{submit:!0,change:!0,focusin:!0})l.setAttribute(i="on"+k,"t"),b[k+"Bubbles"]=i in a||l.attributes[i].expando===!1;l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===l.style.backgroundClip;for(k in kb(b))break;return b.ownLast="0"!==k,kb(function(){var c,d,e,f="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",g=Y.getElementsByTagName("body")[0];g&&(c=Y.createElement("div"),c.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",g.appendChild(c).appendChild(l),l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=l.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",j=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=j&&0===e[0].offsetHeight,l.innerHTML="",l.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",kb.swap(g,null!=g.style.zoom?{zoom:1}:{},function(){b.boxSizing=4===l.offsetWidth}),a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(l,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(l,null)||{width:"4px"}).width,d=l.appendChild(Y.createElement("div")),d.style.cssText=l.style.cssText=f,d.style.marginRight=d.style.width="0",l.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),typeof l.style.zoom!==W&&(l.innerHTML="",l.style.cssText=f+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===l.offsetWidth,l.style.display="block",l.innerHTML="<div></div>",l.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==l.offsetWidth,b.inlineBlockNeedsLayout&&(g.style.zoom=1)),g.removeChild(c),c=l=e=d=null)}),c=f=g=h=d=e=null,b}({});var Ab=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Bb=/([A-Z])/g;kb.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?kb.cache[a[kb.expando]]:a[kb.expando],!!a&&!h(a)},data:function(a,b,c){return e(a,b,c)},removeData:function(a,b){return f(a,b)},_data:function(a,b,c){return e(a,b,c,!0)},_removeData:function(a,b){return f(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&kb.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),kb.fn.extend({data:function(a,c){var d,e,f=null,h=0,i=this[0];if(a===b){if(this.length&&(f=kb.data(i),1===i.nodeType&&!kb._data(i,"parsedAttrs"))){for(d=i.attributes;h<d.length;h++)e=d[h].name,0===e.indexOf("data-")&&(e=kb.camelCase(e.slice(5)),g(i,e,f[e]));kb._data(i,"parsedAttrs",!0)}return f}return"object"==typeof a?this.each(function(){kb.data(this,a)}):arguments.length>1?this.each(function(){kb.data(this,a,c)}):i?g(i,a,kb.data(i,a)):null},removeData:function(a){return this.each(function(){kb.removeData(this,a)})}}),kb.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=kb._data(a,b),c&&(!d||kb.isArray(c)?d=kb._data(a,b,kb.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=kb.queue(a,b),d=c.length,e=c.shift(),f=kb._queueHooks(a,b),g=function(){kb.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return kb._data(a,c)||kb._data(a,c,{empty:kb.Callbacks("once memory").add(function(){kb._removeData(a,b+"queue"),kb._removeData(a,c)})})}}),kb.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),arguments.length<d?kb.queue(this[0],a):c===b?this:this.each(function(){var b=kb.queue(this,a,c);kb._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&kb.dequeue(this,a)})},dequeue:function(a){return this.each(function(){kb.dequeue(this,a)})},delay:function(a,b){return a=kb.fx?kb.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=kb.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)d=kb._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var Cb,Db,Eb=/[\t\r\n\f]/g,Fb=/\r/g,Gb=/^(?:input|select|textarea|button|object)$/i,Hb=/^(?:a|area)$/i,Ib=/^(?:checked|selected)$/i,Jb=kb.support.getSetAttribute,Kb=kb.support.input;kb.fn.extend({attr:function(a,b){return kb.access(this,kb.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){kb.removeAttr(this,a)})},prop:function(a,b){return kb.access(this,kb.prop,a,b,arguments.length>1)},removeProp:function(a){return a=kb.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g=0,h=this.length,i="string"==typeof a&&a;if(kb.isFunction(a))return this.each(function(b){kb(this).addClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(mb)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Eb," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");c.className=kb.trim(d)}return this},removeClass:function(a){var b,c,d,e,f,g=0,h=this.length,i=0===arguments.length||"string"==typeof a&&a;if(kb.isFunction(a))return this.each(function(b){kb(this).removeClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(mb)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Eb," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");c.className=a?kb.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(kb.isFunction(a)?function(c){kb(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=kb(this),f=a.match(mb)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===W||"boolean"===c)&&(this.className&&kb._data(this,"__className__",this.className),this.className=this.className||a===!1?"":kb._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Eb," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];{if(arguments.length)return e=kb.isFunction(a),this.each(function(c){var f;1===this.nodeType&&(f=e?a.call(this,c,kb(this).val()):a,null==f?f="":"number"==typeof f?f+="":kb.isArray(f)&&(f=kb.map(f,function(a){return null==a?"":a+""})),d=kb.valHooks[this.type]||kb.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&d.set(this,f,"value")!==b||(this.value=f))});if(f)return d=kb.valHooks[f.type]||kb.valHooks[f.nodeName.toLowerCase()],d&&"get"in d&&(c=d.get(f,"value"))!==b?c:(c=f.value,"string"==typeof c?c.replace(Fb,""):null==c?"":c)
}}}),kb.extend({valHooks:{option:{get:function(a){var b=kb.find.attr(a,"value");return null!=b?b:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(kb.support.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&kb.nodeName(c.parentNode,"optgroup"))){if(b=kb(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=kb.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=kb.inArray(kb(d).val(),f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}},attr:function(a,c,d){var e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return typeof a.getAttribute===W?kb.prop(a,c,d):(1===g&&kb.isXMLDoc(a)||(c=c.toLowerCase(),e=kb.attrHooks[c]||(kb.expr.match.bool.test(c)?Db:Cb)),d===b?e&&"get"in e&&null!==(f=e.get(a,c))?f:(f=kb.find.attr(a,c),null==f?b:f):null!==d?e&&"set"in e&&(f=e.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d):void kb.removeAttr(a,c))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(mb);if(f&&1===a.nodeType)for(;c=f[e++];)d=kb.propFix[c]||c,kb.expr.match.bool.test(c)?Kb&&Jb||!Ib.test(c)?a[d]=!1:a[kb.camelCase("default-"+c)]=a[d]=!1:kb.attr(a,c,""),a.removeAttribute(Jb?c:d)},attrHooks:{type:{set:function(a,b){if(!kb.support.radioValue&&"radio"===b&&kb.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!kb.isXMLDoc(a),g&&(c=kb.propFix[c]||c,f=kb.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){var b=kb.find.attr(a,"tabindex");return b?parseInt(b,10):Gb.test(a.nodeName)||Hb.test(a.nodeName)&&a.href?0:-1}}}}),Db={set:function(a,b,c){return b===!1?kb.removeAttr(a,c):Kb&&Jb||!Ib.test(c)?a.setAttribute(!Jb&&kb.propFix[c]||c,c):a[kb.camelCase("default-"+c)]=a[c]=!0,c}},kb.each(kb.expr.match.bool.source.match(/\w+/g),function(a,c){var d=kb.expr.attrHandle[c]||kb.find.attr;kb.expr.attrHandle[c]=Kb&&Jb||!Ib.test(c)?function(a,c,e){var f=kb.expr.attrHandle[c],g=e?b:(kb.expr.attrHandle[c]=b)!=d(a,c,e)?c.toLowerCase():null;return kb.expr.attrHandle[c]=f,g}:function(a,c,d){return d?b:a[kb.camelCase("default-"+c)]?c.toLowerCase():null}}),Kb&&Jb||(kb.attrHooks.value={set:function(a,b,c){return kb.nodeName(a,"input")?void(a.defaultValue=b):Cb&&Cb.set(a,b,c)}}),Jb||(Cb={set:function(a,c,d){var e=a.getAttributeNode(d);return e||a.setAttributeNode(e=a.ownerDocument.createAttribute(d)),e.value=c+="","value"===d||c===a.getAttribute(d)?c:b}},kb.expr.attrHandle.id=kb.expr.attrHandle.name=kb.expr.attrHandle.coords=function(a,c,d){var e;return d?b:(e=a.getAttributeNode(c))&&""!==e.value?e.value:null},kb.valHooks.button={get:function(a,c){var d=a.getAttributeNode(c);return d&&d.specified?d.value:b},set:Cb.set},kb.attrHooks.contenteditable={set:function(a,b,c){Cb.set(a,""===b?!1:b,c)}},kb.each(["width","height"],function(a,b){kb.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),kb.support.hrefNormalized||kb.each(["href","src"],function(a,b){kb.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),kb.support.style||(kb.attrHooks.style={get:function(a){return a.style.cssText||b},set:function(a,b){return a.style.cssText=b+""}}),kb.support.optSelected||(kb.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),kb.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){kb.propFix[this.toLowerCase()]=this}),kb.support.enctype||(kb.propFix.enctype="encoding"),kb.each(["radio","checkbox"],function(){kb.valHooks[this]={set:function(a,b){return kb.isArray(b)?a.checked=kb.inArray(kb(a).val(),b)>=0:void 0}},kb.support.checkOn||(kb.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Lb=/^(?:input|select|textarea)$/i,Mb=/^key/,Nb=/^(?:mouse|contextmenu)|click/,Ob=/^(?:focusinfocus|focusoutblur)$/,Pb=/^([^.]*)(?:\.(.+)|)$/;kb.event={global:{},add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r=kb._data(a);if(r){for(d.handler&&(j=d,d=j.handler,f=j.selector),d.guid||(d.guid=kb.guid++),(h=r.events)||(h=r.events={}),(l=r.handle)||(l=r.handle=function(a){return typeof kb===W||a&&kb.event.triggered===a.type?b:kb.event.dispatch.apply(l.elem,arguments)},l.elem=a),c=(c||"").match(mb)||[""],i=c.length;i--;)g=Pb.exec(c[i])||[],o=q=g[1],p=(g[2]||"").split(".").sort(),o&&(k=kb.event.special[o]||{},o=(f?k.delegateType:k.bindType)||o,k=kb.event.special[o]||{},m=kb.extend({type:o,origType:q,data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&kb.expr.match.needsContext.test(f),namespace:p.join(".")},j),(n=h[o])||(n=h[o]=[],n.delegateCount=0,k.setup&&k.setup.call(a,e,p,l)!==!1||(a.addEventListener?a.addEventListener(o,l,!1):a.attachEvent&&a.attachEvent("on"+o,l))),k.add&&(k.add.call(a,m),m.handler.guid||(m.handler.guid=d.guid)),f?n.splice(n.delegateCount++,0,m):n.push(m),kb.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=kb.hasData(a)&&kb._data(a);if(q&&(k=q.events)){for(b=(b||"").match(mb)||[""],j=b.length;j--;)if(h=Pb.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=kb.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||kb.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)kb.event.remove(a,n+b[j],c,d,!0);kb.isEmptyObject(k)&&(delete q.handle,kb._removeData(a,"events"))}},trigger:function(c,d,e,f){var g,h,i,j,k,l,m,n=[e||Y],o=ib.call(c,"type")?c.type:c,p=ib.call(c,"namespace")?c.namespace.split("."):[];if(i=l=e=e||Y,3!==e.nodeType&&8!==e.nodeType&&!Ob.test(o+kb.event.triggered)&&(o.indexOf(".")>=0&&(p=o.split("."),o=p.shift(),p.sort()),h=o.indexOf(":")<0&&"on"+o,c=c[kb.expando]?c:new kb.Event(o,"object"==typeof c&&c),c.isTrigger=f?2:3,c.namespace=p.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=b,c.target||(c.target=e),d=null==d?[c]:kb.makeArray(d,[c]),k=kb.event.special[o]||{},f||!k.trigger||k.trigger.apply(e,d)!==!1)){if(!f&&!k.noBubble&&!kb.isWindow(e)){for(j=k.delegateType||o,Ob.test(j+o)||(i=i.parentNode);i;i=i.parentNode)n.push(i),l=i;l===(e.ownerDocument||Y)&&n.push(l.defaultView||l.parentWindow||a)}for(m=0;(i=n[m++])&&!c.isPropagationStopped();)c.type=m>1?j:k.bindType||o,g=(kb._data(i,"events")||{})[c.type]&&kb._data(i,"handle"),g&&g.apply(i,d),g=h&&i[h],g&&kb.acceptData(i)&&g.apply&&g.apply(i,d)===!1&&c.preventDefault();if(c.type=o,!f&&!c.isDefaultPrevented()&&(!k._default||k._default.apply(n.pop(),d)===!1)&&kb.acceptData(e)&&h&&e[o]&&!kb.isWindow(e)){l=e[h],l&&(e[h]=null),kb.event.triggered=o;try{e[o]()}catch(q){}kb.event.triggered=b,l&&(e[h]=l)}return c.result}},dispatch:function(a){a=kb.event.fix(a);var c,d,e,f,g,h=[],i=fb.call(arguments),j=(kb._data(this,"events")||{})[a.type]||[],k=kb.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=kb.event.handlers.call(this,a,j),c=0;(f=h[c++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,g=0;(e=f.handlers[g++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,d=((kb.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),d!==b&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,c){var d,e,f,g,h=[],i=c.delegateCount,j=a.target;if(i&&j.nodeType&&(!a.button||"click"!==a.type))for(;j!=this;j=j.parentNode||this)if(1===j.nodeType&&(j.disabled!==!0||"click"!==a.type)){for(f=[],g=0;i>g;g++)e=c[g],d=e.selector+" ",f[d]===b&&(f[d]=e.needsContext?kb(d,this).index(j)>=0:kb.find(d,this,null,[j]).length),f[d]&&f.push(e);f.length&&h.push({elem:j,handlers:f})}return i<c.length&&h.push({elem:this,handlers:c.slice(i)}),h},fix:function(a){if(a[kb.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Nb.test(e)?this.mouseHooks:Mb.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new kb.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||Y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(e=a.target.ownerDocument||Y,f=e.documentElement,d=e.body,a.pageX=c.clientX+(f&&f.scrollLeft||d&&d.scrollLeft||0)-(f&&f.clientLeft||d&&d.clientLeft||0),a.pageY=c.clientY+(f&&f.scrollTop||d&&d.scrollTop||0)-(f&&f.clientTop||d&&d.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==k()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===k()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return kb.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return kb.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==b&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=kb.extend(new kb.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?kb.event.trigger(e,null,b):kb.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},kb.removeEvent=Y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===W&&(a[d]=null),a.detachEvent(d,c))},kb.Event=function(a,b){return this instanceof kb.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?i:j):this.type=a,b&&kb.extend(this,b),this.timeStamp=a&&a.timeStamp||kb.now(),void(this[kb.expando]=!0)):new kb.Event(a,b)},kb.Event.prototype={isDefaultPrevented:j,isPropagationStopped:j,isImmediatePropagationStopped:j,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=i,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=i,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i,this.stopPropagation()}},kb.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){kb.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!kb.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),kb.support.submitBubbles||(kb.event.special.submit={setup:function(){return kb.nodeName(this,"form")?!1:void kb.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=kb.nodeName(c,"input")||kb.nodeName(c,"button")?c.form:b;d&&!kb._data(d,"submitBubbles")&&(kb.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),kb._data(d,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&kb.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return kb.nodeName(this,"form")?!1:void kb.event.remove(this,"._submit")}}),kb.support.changeBubbles||(kb.event.special.change={setup:function(){return Lb.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(kb.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),kb.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),kb.event.simulate("change",this,a,!0)})),!1):void kb.event.add(this,"beforeactivate._change",function(a){var b=a.target;Lb.test(b.nodeName)&&!kb._data(b,"changeBubbles")&&(kb.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||kb.event.simulate("change",this.parentNode,a,!0)}),kb._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return kb.event.remove(this,"._change"),!Lb.test(this.nodeName)}}),kb.support.focusinBubbles||kb.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){kb.event.simulate(b,a.target,kb.event.fix(a),!0)};kb.event.special[b]={setup:function(){0===c++&&Y.addEventListener(a,d,!0)},teardown:function(){0===--c&&Y.removeEventListener(a,d,!0)}}}),kb.fn.extend({on:function(a,c,d,e,f){var g,h;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(g in a)this.on(g,c,d,a[g],f);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=j;else if(!e)return this;return 1===f&&(h=e,e=function(a){return kb().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=kb.guid++)),this.each(function(){kb.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,kb(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(f in a)this.off(f,c,a[f]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=j),this.each(function(){kb.event.remove(this,a,d,c)})},trigger:function(a,b){return this.each(function(){kb.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?kb.event.trigger(a,b,c,!0):void 0}});var Qb=/^.[^:#\[\.,]*$/,Rb=/^(?:parents|prev(?:Until|All))/,Sb=kb.expr.match.needsContext,Tb={children:!0,contents:!0,next:!0,prev:!0};kb.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(kb(a).filter(function(){for(b=0;e>b;b++)if(kb.contains(d[b],this))return!0}));for(b=0;e>b;b++)kb.find(a,d[b],c);return c=this.pushStack(e>1?kb.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},has:function(a){var b,c=kb(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(kb.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(m(this,a||[],!0))},filter:function(a){return this.pushStack(m(this,a||[],!1))},is:function(a){return!!m(this,"string"==typeof a&&Sb.test(a)?kb(a):a||[],!1).length},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Sb.test(a)||"string"!=typeof a?kb(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&kb.find.matchesSelector(c,a))){c=f.push(c);break}return this.pushStack(f.length>1?kb.unique(f):f)},index:function(a){return a?"string"==typeof a?kb.inArray(this[0],kb(a)):kb.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"==typeof a?kb(a,b):kb.makeArray(a&&a.nodeType?[a]:a),d=kb.merge(this.get(),c);return this.pushStack(kb.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),kb.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return kb.dir(a,"parentNode")},parentsUntil:function(a,b,c){return kb.dir(a,"parentNode",c)},next:function(a){return l(a,"nextSibling")},prev:function(a){return l(a,"previousSibling")},nextAll:function(a){return kb.dir(a,"nextSibling")},prevAll:function(a){return kb.dir(a,"previousSibling")},nextUntil:function(a,b,c){return kb.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return kb.dir(a,"previousSibling",c)},siblings:function(a){return kb.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return kb.sibling(a.firstChild)},contents:function(a){return kb.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:kb.merge([],a.childNodes)}},function(a,b){kb.fn[a]=function(c,d){var e=kb.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=kb.filter(d,e)),this.length>1&&(Tb[a]||(e=kb.unique(e)),Rb.test(a)&&(e=e.reverse())),this.pushStack(e)}}),kb.extend({filter:function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?kb.find.matchesSelector(d,a)?[d]:[]:kb.find.matches(a,kb.grep(b,function(a){return 1===a.nodeType}))},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!kb(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Ub="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Vb=/ jQuery\d+="(?:null|\d+)"/g,Wb=new RegExp("<(?:"+Ub+")[\\s/>]","i"),Xb=/^\s+/,Yb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Zb=/<([\w:]+)/,$b=/<tbody/i,_b=/<|&#?\w+;/,ac=/<(?:script|style|link)/i,bc=/^(?:checkbox|radio)$/i,cc=/checked\s*(?:[^=]|=\s*.checked.)/i,dc=/^$|\/(?:java|ecma)script/i,ec=/^true\/(.*)/,fc=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,gc={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:kb.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},hc=n(Y),ic=hc.appendChild(Y.createElement("div"));gc.optgroup=gc.option,gc.tbody=gc.tfoot=gc.colgroup=gc.caption=gc.thead,gc.th=gc.td,kb.fn.extend({text:function(a){return kb.access(this,function(a){return a===b?kb.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=o(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=o(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?kb.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||kb.cleanData(u(c)),c.parentNode&&(b&&kb.contains(c.ownerDocument,c)&&r(u(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&kb.cleanData(u(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&kb.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return kb.clone(this,a,b)})},html:function(a){return kb.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Vb,""):b;if(!("string"!=typeof a||ac.test(a)||!kb.support.htmlSerialize&&Wb.test(a)||!kb.support.leadingWhitespace&&Xb.test(a)||gc[(Zb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Yb,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(kb.cleanData(u(c,!1)),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=kb.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;return this.domManip(arguments,function(c){var d=a[b++],e=a[b++];e&&(d&&d.parentNode!==e&&(d=this.nextSibling),kb(this).remove(),e.insertBefore(c,d))},!0),b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){a=db.apply([],a);var d,e,f,g,h,i,j=0,k=this.length,l=this,m=k-1,n=a[0],o=kb.isFunction(n);if(o||!(1>=k||"string"!=typeof n||kb.support.checkClone)&&cc.test(n))return this.each(function(d){var e=l.eq(d);o&&(a[0]=n.call(this,d,e.html())),e.domManip(a,b,c)});if(k&&(i=kb.buildFragment(a,this[0].ownerDocument,!1,!c&&this),d=i.firstChild,1===i.childNodes.length&&(i=d),d)){for(g=kb.map(u(i,"script"),p),f=g.length;k>j;j++)e=i,j!==m&&(e=kb.clone(e,!0,!0),f&&kb.merge(g,u(e,"script"))),b.call(this[j],e,j);if(f)for(h=g[g.length-1].ownerDocument,kb.map(g,q),j=0;f>j;j++)e=g[j],dc.test(e.type||"")&&!kb._data(e,"globalEval")&&kb.contains(h,e)&&(e.src?kb._evalUrl(e.src):kb.globalEval((e.text||e.textContent||e.innerHTML||"").replace(fc,"")));i=d=null}return this}}),kb.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){kb.fn[a]=function(a){for(var c,d=0,e=[],f=kb(a),g=f.length-1;g>=d;d++)c=d===g?this:this.clone(!0),kb(f[d])[b](c),eb.apply(e,c.get());return this.pushStack(e)}}),kb.extend({clone:function(a,b,c){var d,e,f,g,h,i=kb.contains(a.ownerDocument,a);if(kb.support.html5Clone||kb.isXMLDoc(a)||!Wb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ic.innerHTML=a.outerHTML,ic.removeChild(f=ic.firstChild)),!(kb.support.noCloneEvent&&kb.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||kb.isXMLDoc(a)))for(d=u(f),h=u(a),g=0;null!=(e=h[g]);++g)d[g]&&t(e,d[g]);if(b)if(c)for(h=h||u(a),d=d||u(f),g=0;null!=(e=h[g]);g++)s(e,d[g]);else s(a,f);return d=u(f,"script"),d.length>0&&r(d,!i&&u(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=n(b),o=[],p=0;l>p;p++)if(f=a[p],f||0===f)if("object"===kb.type(f))kb.merge(o,f.nodeType?[f]:f);else if(_b.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=(Zb.exec(f)||["",""])[1].toLowerCase(),k=gc[i]||gc._default,h.innerHTML=k[1]+f.replace(Yb,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!kb.support.leadingWhitespace&&Xb.test(f)&&o.push(b.createTextNode(Xb.exec(f)[0])),!kb.support.tbody)for(f="table"!==i||$b.test(f)?"<table>"!==k[1]||$b.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)kb.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(kb.merge(o,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else o.push(b.createTextNode(f));for(h&&m.removeChild(h),kb.support.appendChecked||kb.grep(u(o,"input"),v),p=0;f=o[p++];)if((!d||-1===kb.inArray(f,d))&&(g=kb.contains(f.ownerDocument,f),h=u(m.appendChild(f),"script"),g&&r(h),c))for(e=0;f=h[e++];)dc.test(f.type||"")&&c.push(f);return h=null,m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=kb.expando,i=kb.cache,j=kb.support.deleteExpando,k=kb.event.special;null!=(c=a[g]);g++)if((b||kb.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?kb.event.remove(c,d):kb.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==W?c.removeAttribute(h):c[h]=null,bb.push(e))}},_evalUrl:function(a){return kb.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),kb.fn.extend({wrapAll:function(a){if(kb.isFunction(a))return this.each(function(b){kb(this).wrapAll(a.call(this,b))});if(this[0]){var b=kb(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(kb.isFunction(a)?function(b){kb(this).wrapInner(a.call(this,b))}:function(){var b=kb(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=kb.isFunction(a);return this.each(function(c){kb(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){kb.nodeName(this,"body")||kb(this).replaceWith(this.childNodes)}).end()}});var jc,kc,lc,mc=/alpha\([^)]*\)/i,nc=/opacity\s*=\s*([^)]*)/,oc=/^(top|right|bottom|left)$/,pc=/^(none|table(?!-c[ea]).+)/,qc=/^margin/,rc=new RegExp("^("+lb+")(.*)$","i"),sc=new RegExp("^("+lb+")(?!px)[a-z%]+$","i"),tc=new RegExp("^([+-])=("+lb+")","i"),uc={BODY:"block"},vc={position:"absolute",visibility:"hidden",display:"block"},wc={letterSpacing:0,fontWeight:400},xc=["Top","Right","Bottom","Left"],yc=["Webkit","O","Moz","ms"];kb.fn.extend({css:function(a,c){return kb.access(this,function(a,c,d){var e,f,g={},h=0;if(kb.isArray(c)){for(f=kc(a),e=c.length;e>h;h++)g[c[h]]=kb.css(a,c[h],!1,f);return g}return d!==b?kb.style(a,c,d):kb.css(a,c)},a,c,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){x(this)?kb(this).show():kb(this).hide()})}}),kb.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=lc(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":kb.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=kb.camelCase(c),j=a.style;if(c=kb.cssProps[i]||(kb.cssProps[i]=w(j,i)),h=kb.cssHooks[c]||kb.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];if(g=typeof d,"string"===g&&(f=tc.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(kb.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"!==g||kb.cssNumber[i]||(d+="px"),kb.support.clearCloneStyle||""!==d||0!==c.indexOf("background")||(j[c]="inherit"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(k){}}},css:function(a,c,d,e){var f,g,h,i=kb.camelCase(c);return c=kb.cssProps[i]||(kb.cssProps[i]=w(a.style,i)),h=kb.cssHooks[c]||kb.cssHooks[i],h&&"get"in h&&(g=h.get(a,!0,d)),g===b&&(g=lc(a,c,e)),"normal"===g&&c in wc&&(g=wc[c]),""===d||d?(f=parseFloat(g),d===!0||kb.isNumeric(f)?f||0:g):g}}),a.getComputedStyle?(kc=function(b){return a.getComputedStyle(b,null)},lc=function(a,c,d){var e,f,g,h=d||kc(a),i=h?h.getPropertyValue(c)||h[c]:b,j=a.style;return h&&(""!==i||kb.contains(a.ownerDocument,a)||(i=kb.style(a,c)),sc.test(i)&&qc.test(c)&&(e=j.width,f=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=i,i=h.width,j.width=e,j.minWidth=f,j.maxWidth=g)),i}):Y.documentElement.currentStyle&&(kc=function(a){return a.currentStyle},lc=function(a,c,d){var e,f,g,h=d||kc(a),i=h?h[c]:b,j=a.style;return null==i&&j&&j[c]&&(i=j[c]),sc.test(i)&&!oc.test(c)&&(e=j.left,f=a.runtimeStyle,g=f&&f.left,g&&(f.left=a.currentStyle.left),j.left="fontSize"===c?"1em":i,i=j.pixelLeft+"px",j.left=e,g&&(f.left=g)),""===i?"auto":i}),kb.each(["height","width"],function(a,b){kb.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&pc.test(kb.css(a,"display"))?kb.swap(a,vc,function(){return B(a,b,d)}):B(a,b,d):void 0},set:function(a,c,d){var e=d&&kc(a);return z(a,c,d?A(a,b,d,kb.support.boxSizing&&"border-box"===kb.css(a,"boxSizing",!1,e),e):0)}}}),kb.support.opacity||(kb.cssHooks.opacity={get:function(a,b){return nc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=kb.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===kb.trim(f.replace(mc,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=mc.test(f)?f.replace(mc,e):f+" "+e)}}),kb(function(){kb.support.reliableMarginRight||(kb.cssHooks.marginRight={get:function(a,b){return b?kb.swap(a,{display:"inline-block"},lc,[a,"marginRight"]):void 0}}),!kb.support.pixelPosition&&kb.fn.position&&kb.each(["top","left"],function(a,b){kb.cssHooks[b]={get:function(a,c){return c?(c=lc(a,b),sc.test(c)?kb(a).position()[b]+"px":c):void 0}}})}),kb.expr&&kb.expr.filters&&(kb.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!kb.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||kb.css(a,"display"))},kb.expr.filters.visible=function(a){return!kb.expr.filters.hidden(a)}),kb.each({margin:"",padding:"",border:"Width"},function(a,b){kb.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+xc[d]+b]=f[d]||f[d-2]||f[0];return e}},qc.test(a)||(kb.cssHooks[a+b].set=z)});var zc=/%20/g,Ac=/\[\]$/,Bc=/\r?\n/g,Cc=/^(?:submit|button|image|reset|file)$/i,Dc=/^(?:input|select|textarea|keygen)/i;kb.fn.extend({serialize:function(){return kb.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=kb.prop(this,"elements");return a?kb.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!kb(this).is(":disabled")&&Dc.test(this.nodeName)&&!Cc.test(a)&&(this.checked||!bc.test(a))}).map(function(a,b){var c=kb(this).val();return null==c?null:kb.isArray(c)?kb.map(c,function(a){return{name:b.name,value:a.replace(Bc,"\r\n")}}):{name:b.name,value:c.replace(Bc,"\r\n")}}).get()}}),kb.param=function(a,c){var d,e=[],f=function(a,b){b=kb.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=kb.ajaxSettings&&kb.ajaxSettings.traditional),kb.isArray(a)||a.jquery&&!kb.isPlainObject(a))kb.each(a,function(){f(this.name,this.value)});else for(d in a)E(d,a[d],c,f);return e.join("&").replace(zc,"+")},kb.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){kb.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),kb.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Ec,Fc,Gc=kb.now(),Hc=/\?/,Ic=/#.*$/,Jc=/([?&])_=[^&]*/,Kc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Lc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mc=/^(?:GET|HEAD)$/,Nc=/^\/\//,Oc=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Pc=kb.fn.load,Qc={},Rc={},Sc="*/".concat("*");try{Fc=X.href}catch(Tc){Fc=Y.createElement("a"),Fc.href="",Fc=Fc.href}Ec=Oc.exec(Fc.toLowerCase())||[],kb.fn.load=function(a,c,d){if("string"!=typeof a&&Pc)return Pc.apply(this,arguments);var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),kb.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(g="POST"),h.length>0&&kb.ajax({url:a,type:g,dataType:"html",data:c}).done(function(a){f=arguments,h.html(e?kb("<div>").append(kb.parseHTML(a)).find(e):a)}).complete(d&&function(a,b){h.each(d,f||[a.responseText,b,a])}),this},kb.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){kb.fn[b]=function(a){return this.on(b,a)}}),kb.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Fc,type:"GET",isLocal:Lc.test(Ec[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Sc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":kb.parseJSON,"text xml":kb.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?H(H(a,kb.ajaxSettings),b):H(kb.ajaxSettings,a)
},ajaxPrefilter:F(Qc),ajaxTransport:F(Rc),ajax:function(a,c){function d(a,c,d,e){var f,l,s,t,v,x=c;2!==u&&(u=2,i&&clearTimeout(i),k=b,h=e||"",w.readyState=a>0?4:0,f=a>=200&&300>a||304===a,d&&(t=I(m,w,d)),t=J(m,t,w,f),f?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(kb.lastModified[g]=v),v=w.getResponseHeader("etag"),v&&(kb.etag[g]=v)),204===a||"HEAD"===m.type?x="nocontent":304===a?x="notmodified":(x=t.state,l=t.data,s=t.error,f=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),w.status=a,w.statusText=(c||x)+"",f?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,j&&o.trigger(f?"ajaxSuccess":"ajaxError",[w,m,f?l:s]),q.fireWith(n,[w,x]),j&&(o.trigger("ajaxComplete",[w,m]),--kb.active||kb.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=kb.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?kb(n):kb.event,p=kb.Deferred(),q=kb.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!l)for(l={};b=Kc.exec(h);)l[b[1].toLowerCase()]=b[2];b=l[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return k&&k.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((a||m.url||Fc)+"").replace(Ic,"").replace(Nc,Ec[1]+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=kb.trim(m.dataType||"*").toLowerCase().match(mb)||[""],null==m.crossDomain&&(e=Oc.exec(m.url.toLowerCase()),m.crossDomain=!(!e||e[1]===Ec[1]&&e[2]===Ec[2]&&(e[3]||("http:"===e[1]?"80":"443"))===(Ec[3]||("http:"===Ec[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=kb.param(m.data,m.traditional)),G(Qc,m,c,w),2===u)return w;j=m.global,j&&0===kb.active++&&kb.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Mc.test(m.type),g=m.url,m.hasContent||(m.data&&(g=m.url+=(Hc.test(g)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=Jc.test(g)?g.replace(Jc,"$1_="+Gc++):g+(Hc.test(g)?"&":"?")+"_="+Gc++)),m.ifModified&&(kb.lastModified[g]&&w.setRequestHeader("If-Modified-Since",kb.lastModified[g]),kb.etag[g]&&w.setRequestHeader("If-None-Match",kb.etag[g])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Sc+"; q=0.01":""):m.accepts["*"]);for(f in m.headers)w.setRequestHeader(f,m.headers[f]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(f in{success:1,error:1,complete:1})w[f](m[f]);if(k=G(Rc,m,c,w)){w.readyState=1,j&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,k.send(s,d)}catch(x){if(!(2>u))throw x;d(-1,x)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return kb.get(a,b,c,"json")},getScript:function(a,c){return kb.get(a,b,c,"script")}}),kb.each(["get","post"],function(a,c){kb[c]=function(a,d,e,f){return kb.isFunction(d)&&(f=f||e,e=d,d=b),kb.ajax({url:a,type:c,dataType:f,data:d,success:e})}}),kb.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return kb.globalEval(a),a}}}),kb.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),kb.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=Y.head||kb("head")[0]||Y.documentElement;return{send:function(b,e){c=Y.createElement("script"),c.async=!0,a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,b){(b||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,b||e(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(b,!0)}}}});var Uc=[],Vc=/(=)\?(?=&|$)|\?\?/;kb.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Uc.pop()||kb.expando+"_"+Gc++;return this[a]=!0,a}}),kb.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.jsonp!==!1&&(Vc.test(c.url)?"url":"string"==typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vc.test(c.data)&&"data");return i||"jsonp"===c.dataTypes[0]?(f=c.jsonpCallback=kb.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,i?c[i]=c[i].replace(Vc,"$1"+f):c.jsonp!==!1&&(c.url+=(Hc.test(c.url)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||kb.error(f+" was not called"),h[0]},c.dataTypes[0]="json",g=a[f],a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,Uc.push(f)),h&&kb.isFunction(g)&&g(h[0]),h=g=b}),"script"):void 0});var Wc,Xc,Yc=0,Zc=a.ActiveXObject&&function(){var a;for(a in Wc)Wc[a](b,!0)};kb.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&K()||L()}:K,Xc=kb.ajaxSettings.xhr(),kb.support.cors=!!Xc&&"withCredentials"in Xc,Xc=kb.support.ajax=!!Xc,Xc&&kb.ajaxTransport(function(c){if(!c.crossDomain||kb.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=kb.noop,Zc&&delete Wc[g]),e)4!==i.readyState&&i.abort();else{l={},h=i.status,j=i.getAllResponseHeaders(),"string"==typeof i.responseText&&(l.text=i.responseText);try{k=i.statusText}catch(m){k=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(n){e||f(-1,n)}l&&f(h,k,l,j)},c.async?4===i.readyState?setTimeout(d):(g=++Yc,Zc&&(Wc||(Wc={},kb(a).unload(Zc)),Wc[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(b,!0)}}}});var $c,_c,ad=/^(?:toggle|show|hide)$/,bd=new RegExp("^(?:([+-])=|)("+lb+")([a-z%]*)$","i"),cd=/queueHooks$/,dd=[Q],ed={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bd.exec(b),f=e&&e[3]||(kb.cssNumber[a]?"":"px"),g=(kb.cssNumber[a]||"px"!==f&&+d)&&bd.exec(kb.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,kb.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};kb.Animation=kb.extend(O,{tweener:function(a,b){kb.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],ed[c]=ed[c]||[],ed[c].unshift(b)},prefilter:function(a,b){b?dd.unshift(a):dd.push(a)}}),kb.Tween=R,R.prototype={constructor:R,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(kb.cssNumber[c]?"":"px")},cur:function(){var a=R.propHooks[this.prop];return a&&a.get?a.get(this):R.propHooks._default.get(this)},run:function(a){var b,c=R.propHooks[this.prop];return this.pos=b=this.options.duration?kb.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=kb.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){kb.fx.step[a.prop]?kb.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[kb.cssProps[a.prop]]||kb.cssHooks[a.prop])?kb.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},kb.each(["toggle","show","hide"],function(a,b){var c=kb.fn[b];kb.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(S(b,!0),a,d,e)}}),kb.fn.extend({fadeTo:function(a,b,c,d){return this.filter(x).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=kb.isEmptyObject(a),f=kb.speed(b,c,d),g=function(){var b=O(this,kb.extend({},a),f);(e||kb._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=kb.timers,g=kb._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&cd.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&kb.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=kb._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=kb.timers,g=d?d.length:0;for(c.finish=!0,kb.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),kb.each({slideDown:S("show"),slideUp:S("hide"),slideToggle:S("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){kb.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),kb.speed=function(a,b,c){var d=a&&"object"==typeof a?kb.extend({},a):{complete:c||!c&&b||kb.isFunction(a)&&a,duration:a,easing:c&&b||b&&!kb.isFunction(b)&&b};return d.duration=kb.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in kb.fx.speeds?kb.fx.speeds[d.duration]:kb.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){kb.isFunction(d.old)&&d.old.call(this),d.queue&&kb.dequeue(this,d.queue)},d},kb.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},kb.timers=[],kb.fx=R.prototype.init,kb.fx.tick=function(){var a,c=kb.timers,d=0;for($c=kb.now();d<c.length;d++)a=c[d],a()||c[d]!==a||c.splice(d--,1);c.length||kb.fx.stop(),$c=b},kb.fx.timer=function(a){a()&&kb.timers.push(a)&&kb.fx.start()},kb.fx.interval=13,kb.fx.start=function(){_c||(_c=setInterval(kb.fx.tick,kb.fx.interval))},kb.fx.stop=function(){clearInterval(_c),_c=null},kb.fx.speeds={slow:600,fast:200,_default:400},kb.fx.step={},kb.expr&&kb.expr.filters&&(kb.expr.filters.animated=function(a){return kb.grep(kb.timers,function(b){return a===b.elem}).length}),kb.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){kb.offset.setOffset(this,a,b)});var c,d,e={top:0,left:0},f=this[0],g=f&&f.ownerDocument;if(g)return c=g.documentElement,kb.contains(c,f)?(typeof f.getBoundingClientRect!==W&&(e=f.getBoundingClientRect()),d=T(g),{top:e.top+(d.pageYOffset||c.scrollTop)-(c.clientTop||0),left:e.left+(d.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):e},kb.offset={setOffset:function(a,b,c){var d=kb.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=kb(a),h=g.offset(),i=kb.css(a,"top"),j=kb.css(a,"left"),k=("absolute"===d||"fixed"===d)&&kb.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),kb.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},kb.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===kb.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),kb.nodeName(a[0],"html")||(c=a.offset()),c.top+=kb.css(a[0],"borderTopWidth",!0),c.left+=kb.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-kb.css(d,"marginTop",!0),left:b.left-c.left-kb.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Z;a&&!kb.nodeName(a,"html")&&"static"===kb.css(a,"position");)a=a.offsetParent;return a||Z})}}),kb.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);kb.fn[a]=function(e){return kb.access(this,function(a,e,f){var g=T(a);return f===b?g?c in g?g[c]:g.document.documentElement[e]:a[e]:void(g?g.scrollTo(d?kb(g).scrollLeft():f,d?f:kb(g).scrollTop()):a[e]=f)},a,e,arguments.length,null)}}),kb.each({Height:"height",Width:"width"},function(a,c){kb.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){kb.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return kb.access(this,function(c,d,e){var f;return kb.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?kb.css(c,d,h):kb.style(c,d,e,h)},c,g?e:b,g,null)}})}),kb.fn.size=function(){return this.length},kb.fn.andSelf=kb.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=kb:(a.jQuery=a.$=kb,"function"==typeof define&&define.amd&&define("jquery",[],function(){return kb}))}(window),function(a){a.extend(a.fn,{validate:function(b){if(!this.length)return void(b&&b.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var c=a.data(this[0],"validator");return c?c:(this.attr("novalidate","novalidate"),c=new a.validator(b,this[0]),a.data(this[0],"validator",c),c.settings.onsubmit&&(this.validateDelegate(":submit","click",function(b){c.settings.submitHandler&&(c.submitButton=b.target),a(b.target).hasClass("cancel")&&(c.cancelSubmit=!0),void 0!==a(b.target).attr("formnovalidate")&&(c.cancelSubmit=!0)}),this.submit(function(b){function d(){var d;return c.settings.submitHandler?(c.submitButton&&(d=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)),c.settings.submitHandler.call(c,c.currentForm,b),c.submitButton&&d.remove(),!1):!0}return c.settings.debug&&b.preventDefault(),c.cancelSubmit?(c.cancelSubmit=!1,d()):c.form()?c.pendingRequest?(c.formSubmitted=!0,!1):d():(c.focusInvalid(),!1)})),c)},valid:function(){if(a(this[0]).is("form"))return this.validate().form();var b=!0,c=a(this[0].form).validate();return this.each(function(){b=b&&c.element(this)}),b},removeAttrs:function(b){var c={},d=this;return a.each(b.split(/\s/),function(a,b){c[b]=d.attr(b),d.removeAttr(b)}),c},rules:function(b,c){var d=this[0];if(b){var e=a.data(d.form,"validator").settings,f=e.rules,g=a.validator.staticRules(d);switch(b){case"add":a.extend(g,a.validator.normalizeRule(c)),delete g.messages,f[d.name]=g,c.messages&&(e.messages[d.name]=a.extend(e.messages[d.name],c.messages));break;case"remove":if(!c)return delete f[d.name],g;var h={};return a.each(c.split(/\s/),function(a,b){h[b]=g[b],delete g[b]}),h}}var i=a.validator.normalizeRules(a.extend({},a.validator.classRules(d),a.validator.attributeRules(d),a.validator.dataRules(d),a.validator.staticRules(d)),d);if(i.required){var j=i.required;delete i.required,i=a.extend({required:j},i)}return i}}),a.extend(a.expr[":"],{blank:function(b){return!a.trim(""+a(b).val())},filled:function(b){return!!a.trim(""+a(b).val())},unchecked:function(b){return!a(b).prop("checked")}}),a.validator=function(b,c){this.settings=a.extend(!0,{},a.validator.defaults,b),this.currentForm=c,this.init()},a.validator.format=function(b,c){return 1===arguments.length?function(){var c=a.makeArray(arguments);return c.unshift(b),a.validator.format.apply(this,c)}:(arguments.length>2&&c.constructor!==Array&&(c=a.makeArray(arguments).slice(1)),c.constructor!==Array&&(c=[c]),a.each(c,function(a,c){b=b.replace(new RegExp("\\{"+a+"\\}","g"),function(){return c})}),b)},a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(a){this.lastActive=a,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(a)).hide())},onfocusout:function(a){this.checkable(a)||!(a.name in this.submitted)&&this.optional(a)||this.element(a)},onkeyup:function(a,b){(9!==b.which||""!==this.elementValue(a))&&(a.name in this.submitted||a===this.lastElement)&&this.element(a)},onclick:function(a){a.name in this.submitted?this.element(a):a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).addClass(c).removeClass(d):a(b).addClass(c).removeClass(d)},unhighlight:function(b,c,d){"radio"===b.type?this.findByName(b.name).removeClass(c).addClass(d):a(b).removeClass(c).addClass(d)}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function b(b){var c=a.data(this[0].form,"validator"),d="on"+b.type.replace(/^validate/,"");c.settings[d]&&c.settings[d].call(c,this[0],b)}this.labelContainer=a(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm),this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var c=this.groups={};a.each(this.settings.groups,function(b,d){"string"==typeof d&&(d=d.split(/\s/)),a.each(d,function(a,d){c[d]=b})});var d=this.settings.rules;a.each(d,function(b,c){d[b]=a.validator.normalizeRule(c)}),a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",b).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",b),this.settings.invalidHandler&&a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),a.extend(this.submitted,this.errorMap),this.invalid=a.extend({},this.errorMap),this.valid()||a(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(b){b=this.validationTargetFor(this.clean(b)),this.lastElement=b,this.prepareElement(b),this.currentElements=a(b);var c=this.check(b)!==!1;return c?delete this.invalid[b.name]:this.invalid[b.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),c},showErrors:function(b){if(b){a.extend(this.errorMap,b),this.errorList=[];for(var c in b)this.errorList.push({message:b[c],element:this.findByName(c)[0]});this.successList=a.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){a.fn.resetForm&&a(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0;for(var c in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}},findLastActive:function(){var b=this.lastActive;return b&&1===a.grep(this.errorList,function(a){return a.element.name===b.name}).length&&b},elements:function(){var b=this,c={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&b.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in c||!b.objectLength(a(this).rules())?!1:(c[this.name]=!0,!0)})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.replace(" ",".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=a([]),this.toHide=a([]),this.currentElements=a([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset(),this.toHide=this.errorsFor(a)},elementValue:function(b){var c=a(b).attr("type"),d=a(b).val();return"radio"===c||"checkbox"===c?a("input[name='"+a(b).attr("name")+"']:checked").val():"string"==typeof d?d.replace(/\r/g,""):d},check:function(b){b=this.validationTargetFor(this.clean(b));var c,d=a(b).rules(),e=!1,f=this.elementValue(b);for(var g in d){var h={method:g,parameters:d[g]};try{if(c=a.validator.methods[g].call(this,f,b,h.parameters),"dependency-mismatch"===c){e=!0;continue}if(e=!1,"pending"===c)return void(this.toHide=this.toHide.not(this.errorsFor(b)));if(!c)return this.formatAndAdd(b,h),!1}catch(i){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+b.id+", check the '"+h.method+"' method.",i),i}}return e?void 0:(this.objectLength(d)&&this.successList.push(b),!0)},customDataMessage:function(b,c){return a(b).data("msg-"+c.toLowerCase())||b.attributes&&a(b).attr("data-msg-"+c.toLowerCase())},customMessage:function(a,b){var c=this.settings.messages[a];return c&&(c.constructor===String?c:c[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a];return void 0},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),!this.settings.ignoreTitle&&b.title||void 0,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(b,c){var d=this.defaultMessage(b,c.method),e=/\$?\{(\d+)\}/g;"function"==typeof d?d=d.call(this,c.parameters,b):e.test(d)&&(d=a.validator.format(d.replace(e,"{$1}"),c.parameters)),this.errorList.push({message:d,element:b}),this.errorMap[b.name]=d,this.submitted[b.name]=d},addWrapper:function(a){return this.settings.wrapper&&(a=a.add(a.parent(this.settings.wrapper))),a},defaultShowErrors:function(){var a,b;for(a=0;this.errorList[a];a++){var c=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,c.element,this.settings.errorClass,this.settings.validClass),this.showLabel(c.element,c.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight)for(a=0,b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(b,c){var d=this.errorsFor(b);d.length?(d.removeClass(this.settings.validClass).addClass(this.settings.errorClass),d.html(c)):(d=a("<"+this.settings.errorElement+">").attr("for",this.idOrName(b)).addClass(this.settings.errorClass).html(c||""),this.settings.wrapper&&(d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,a(b)):d.insertAfter(b))),!c&&this.settings.success&&(d.text(""),"string"==typeof this.settings.success?d.addClass(this.settings.success):this.settings.success(d,b)),this.toShow=this.toShow.add(d)},errorsFor:function(b){var c=this.idOrName(b);return this.errors().filter(function(){return a(this).attr("for")===c})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){return this.checkable(a)&&(a=this.findByName(a.name).not(this.settings.ignore)[0]),a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(b){return a(this.currentForm).find("[name='"+b+"']")},getLength:function(b,c){switch(c.nodeName.toLowerCase()){case"select":return a("option:selected",c).length;case"input":if(this.checkable(c))return this.findByName(c.name).filter(":checked").length}return b.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):!0},dependTypes:{"boolean":function(a){return a},string:function(b,c){return!!a(b,c.form).length},"function":function(a,b){return a(b)}},optional:function(b){var c=this.elementValue(b);return!a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(a){this.pending[a.name]||(this.pendingRequest++,this.pending[a.name]=!0)},stopRequest:function(b,c){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[b.name],c&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(a(this.currentForm).submit(),this.formSubmitted=!1):!c&&0===this.pendingRequest&&this.formSubmitted&&(a(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:!0,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(b,c){b.constructor===String?this.classRuleSettings[b]=c:a.extend(this.classRuleSettings,b)},classRules:function(b){var c={},d=a(b).attr("class");return d&&a.each(d.split(" "),function(){this in a.validator.classRuleSettings&&a.extend(c,a.validator.classRuleSettings[this])}),c},attributeRules:function(b){var c={},d=a(b),e=d[0].getAttribute("type");for(var f in a.validator.methods){var g;"required"===f?(g=d.get(0).getAttribute(f),""===g&&(g=!0),g=!!g):g=d.attr(f),/min|max/.test(f)&&(null===e||/number|range|text/.test(e))&&(g=Number(g)),g?c[f]=g:e===f&&"range"!==e&&(c[f]=!0)}return c.maxlength&&/-1|2147483647|524288/.test(c.maxlength)&&delete c.maxlength,c},dataRules:function(b){var c,d,e={},f=a(b);for(c in a.validator.methods)d=f.data("rule-"+c.toLowerCase()),void 0!==d&&(e[c]=d);return e},staticRules:function(b){var c={},d=a.data(b.form,"validator");return d.settings.rules&&(c=a.validator.normalizeRule(d.settings.rules[b.name])||{}),c},normalizeRules:function(b,c){return a.each(b,function(d,e){if(e===!1)return void delete b[d];if(e.param||e.depends){var f=!0;switch(typeof e.depends){case"string":f=!!a(e.depends,c.form).length;break;case"function":f=e.depends.call(c,c)}f?b[d]=void 0!==e.param?e.param:!0:delete b[d]}}),a.each(b,function(d,e){b[d]=a.isFunction(e)?e(c):e}),a.each(["minlength","maxlength"],function(){b[this]&&(b[this]=Number(b[this]))}),a.each(["rangelength","range"],function(){var c;b[this]&&(a.isArray(b[this])?b[this]=[Number(b[this][0]),Number(b[this][1])]:"string"==typeof b[this]&&(c=b[this].split(/[\s,]+/),b[this]=[Number(c[0]),Number(c[1])]))}),a.validator.autoCreateRanges&&(b.min&&b.max&&(b.range=[b.min,b.max],delete b.min,delete b.max),b.minlength&&b.maxlength&&(b.rangelength=[b.minlength,b.maxlength],delete b.minlength,delete b.maxlength)),b},normalizeRule:function(b){if("string"==typeof b){var c={};a.each(b.split(/\s/),function(){c[this]=!0}),b=c}return b},addMethod:function(b,c,d){a.validator.methods[b]=c,a.validator.messages[b]=void 0!==d?d:a.validator.messages[b],c.length<3&&a.validator.addClassRules(b,a.validator.normalizeRule(b))},methods:{required:function(b,c,d){if(!this.depend(d,c))return"dependency-mismatch";if("select"===c.nodeName.toLowerCase()){var e=a(c).val();return e&&e.length>0}return this.checkable(c)?this.getLength(b,c)>0:a.trim(b).length>0},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(a)},url:function(a,b){return this.optional(b)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a).toString())},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(a)
},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9 \-]+/.test(a))return!1;var c=0,d=0,e=!1;a=a.replace(/\D/g,"");for(var f=a.length-1;f>=0;f--){var g=a.charAt(f);d=parseInt(g,10),e&&(d*=2)>9&&(d-=9),c+=d,e=!e}return c%10===0},minlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d},maxlength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||d>=e},rangelength:function(b,c,d){var e=a.isArray(b)?b.length:this.getLength(a.trim(b),c);return this.optional(c)||e>=d[0]&&e<=d[1]},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||c>=a},range:function(a,b,c){return this.optional(b)||a>=c[0]&&a<=c[1]},equalTo:function(b,c,d){var e=a(d);return this.settings.onfocusout&&e.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(c).valid()}),b===e.val()},remote:function(b,c,d){if(this.optional(c))return"dependency-mismatch";var e=this.previousValue(c);if(this.settings.messages[c.name]||(this.settings.messages[c.name]={}),e.originalMessage=this.settings.messages[c.name].remote,this.settings.messages[c.name].remote=e.message,d="string"==typeof d&&{url:d}||d,e.old===b)return e.valid;e.old=b;var f=this;this.startRequest(c);var g={};return g[c.name]=b,a.ajax(a.extend(!0,{url:d,mode:"abort",port:"validate"+c.name,dataType:"json",data:g,success:function(d){f.settings.messages[c.name].remote=e.originalMessage;var g=d===!0||"true"===d;if(g){var h=f.formSubmitted;f.prepareElement(c),f.formSubmitted=h,f.successList.push(c),delete f.invalid[c.name],f.showErrors()}else{var i={},j=d||f.defaultMessage(c,"remote");i[c.name]=e.message=a.isFunction(j)?j(b):j,f.invalid[c.name]=!0,f.showErrors(i)}e.valid=g,f.stopRequest(c,g)}},d)),"pending"}}}),a.format=a.validator.format}(jQuery),function(a){var b={};if(a.ajaxPrefilter)a.ajaxPrefilter(function(a,c,d){var e=a.port;"abort"===a.mode&&(b[e]&&b[e].abort(),b[e]=d)});else{var c=a.ajax;a.ajax=function(d){var e=("mode"in d?d:a.ajaxSettings).mode,f=("port"in d?d:a.ajaxSettings).port;return"abort"===e?(b[f]&&b[f].abort(),b[f]=c.apply(this,arguments),b[f]):c.apply(this,arguments)}}}(jQuery),function(a){a.extend(a.fn,{validateDelegate:function(b,c,d){return this.bind(c,function(c){var e=a(c.target);return e.is(b)?d.apply(e,arguments):void 0})}})}(jQuery),jQuery.extend(jQuery.validator.messages,{required:"Dit veld moet worden ingevuld",remote:"Please fix this field.",email:"Vul een geldig email adres in.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"De paswoorden komen niet overeen.",accept:"Please enter a value with a valid extension.",maxlength:jQuery.validator.format("Please enter no more than {0} characters."),minlength:jQuery.validator.format("Dit veld moet minstens {0} tekens lang zijn"),rangelength:jQuery.validator.format("Kies een leeftijd tussen {0} en {1} jaar"),range:jQuery.validator.format("Kies een leeftijd tussen {0} en {1} jaar"),max:jQuery.validator.format("Dit veld moet minstens {0} tekens lang zijn."),min:jQuery.validator.format("Dit veld moet minstens {0} tekens lang zijn.")}),function(){var a,b;!function(){function c(b){var c=b.factory;return b.exports={},delete b.factory,c(a,b.exports,b),b.exports}var d={};a=function(a){if(!d[a])throw"module "+a+" not found";return d[a].factory?c(d[a]):d[a].exports},b=function(a,b){if(d[a])throw"module "+a+" already defined";d[a]={id:a,factory:b}},b.remove=function(a){delete d[a]}}(),"object"==typeof module&&"function"==typeof a&&(module.exports.require=a,module.exports.define=b),b("cordova",function(a,c,d){function e(a,b){var c=document.createEvent("Events");if(c.initEvent(a,!1,!1),b)for(var d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);return c}var f=a("cordova/channel");document.addEventListener("DOMContentLoaded",function(){f.onDOMContentLoaded.fire()},!1),("complete"==document.readyState||"interactive"==document.readyState)&&f.onDOMContentLoaded.fire();var g=document.addEventListener,h=document.removeEventListener,i=window.addEventListener,j=window.removeEventListener,k={},l={};document.addEventListener=function(a,b,c){var d=a.toLowerCase();"undefined"!=typeof k[d]?"deviceready"===a?k[d].subscribeOnce(b):k[d].subscribe(b):g.call(document,a,b,c)},window.addEventListener=function(a,b,c){var d=a.toLowerCase();"undefined"!=typeof l[d]?l[d].subscribe(b):i.call(window,a,b,c)},document.removeEventListener=function(a,b,c){var d=a.toLowerCase();"undefined"!=typeof k[d]?k[d].unsubscribe(b):h.call(document,a,b,c)},window.removeEventListener=function(a,b,c){var d=a.toLowerCase();"undefined"!=typeof l[d]?l[d].unsubscribe(b):j.call(window,a,b,c)},"undefined"==typeof window.console&&(window.console={log:function(){}});var m={define:b,require:a,addWindowEventHandler:function(a,b){return l[a]=f.create(a,b)},addDocumentEventHandler:function(a,b){return k[a]=f.create(a,b)},removeWindowEventHandler:function(a){delete l[a]},removeDocumentEventHandler:function(a){delete k[a]},getOriginalHandlers:function(){return{document:{addEventListener:g,removeEventListener:h},window:{addEventListener:i,removeEventListener:j}}},fireDocumentEvent:function(a,b){var c=e(a,b);"undefined"!=typeof k[a]?setTimeout(function(){k[a].fire(c)},0):document.dispatchEvent(c)},fireWindowEvent:function(a,b){var c=e(a,b);"undefined"!=typeof l[a]?setTimeout(function(){l[a].fire(c)},0):window.dispatchEvent(c)},shuttingDown:!1,UsePolling:!1,commandQueue:[],commandQueueFlushing:!1,callbackId:0,callbacks:{},callbackStatus:{NO_RESULT:0,OK:1,CLASS_NOT_FOUND_EXCEPTION:2,ILLEGAL_ACCESS_EXCEPTION:3,INSTANTIATION_EXCEPTION:4,MALFORMED_URL_EXCEPTION:5,IO_EXCEPTION:6,INVALID_ACTION:7,JSON_EXCEPTION:8,ERROR:9},callbackSuccess:function(a,b){if(m.callbacks[a]){if(b.status==m.callbackStatus.OK)try{m.callbacks[a].success&&m.callbacks[a].success(b.message)}catch(c){console.log("Error in success callback: "+a+" = "+c)}b.keepCallback||delete m.callbacks[a]}},callbackError:function(a,b){if(m.callbacks[a]){try{m.callbacks[a].fail&&m.callbacks[a].fail(b.message)}catch(c){console.log("Error in error callback: "+a+" = "+c)}b.keepCallback||delete m.callbacks[a]}},addConstructor:function(a){f.onCordovaReady.subscribeOnce(function(){try{a()}catch(b){console.log("Failed to run constructor: "+b)}})}};f.onPause=m.addDocumentEventHandler("pause"),f.onResume=m.addDocumentEventHandler("resume"),f.onDeviceReady=m.addDocumentEventHandler("deviceready"),d.exports=m}),b("cordova/builder",function(a,b,c){function d(a,b,c){for(var d in a)a.hasOwnProperty(d)&&b.apply(c,[a[d],d])}function e(b,c,h,i){d(c,function(c,d){try{var j=c.path?a(c.path):{};h?("undefined"==typeof b[d]?b[d]=j:"undefined"!=typeof c.path&&(i?f(b[d],j):b[d]=j),j=b[d]):"undefined"==typeof b[d]?b[d]=j:i&&"undefined"!=typeof c.path?(f(j,b[d]),b[d]=j):j=b[d],c.children&&e(j,c.children,h,i)}catch(k){g.alert("Exception building cordova JS globals: "+k+' for key "'+d+'"')}})}function f(a,b){for(var c in b)b.hasOwnProperty(c)&&("undefined"!=typeof a.prototype&&a.prototype.constructor===a?a.prototype[c]=b[c]:a[c]="object"==typeof b[c]?f(a[c],b[c]):b[c]);return a}var g=a("cordova/utils");c.exports={build:function(a){return{intoButDontClobber:function(b){e(b,a,!1,!1)},intoAndClobber:function(b){e(b,a,!0,!1)},intoAndMerge:function(b){e(b,a,!0,!0)}}}}}),b("cordova/channel",function(a,b,c){function d(a){if(null===a||void 0===a||"function"!=typeof a)throw"Function required as first argument!"}var e=a("cordova/utils"),f=function(a,b){this.type=a,this.handlers={},this.numHandlers=0,this.guid=1,this.fired=!1,this.enabled=!0,this.events={onSubscribe:null,onUnsubscribe:null},b&&(b.onSubscribe&&(this.events.onSubscribe=b.onSubscribe),b.onUnsubscribe&&(this.events.onUnsubscribe=b.onUnsubscribe))},g={join:function(a,b){for(var c=b.length,d=c,e=function(){--c||a()},f=0;d>f;f++)b[f].fired?c--:b[f].subscribeOnce(e);c||a()},create:function(a,b){return g[a]=new f(a,b),g[a]},deviceReadyChannelsArray:[],deviceReadyChannelsMap:{},waitForInitialization:function(a){if(a){var b=null;b=this[a]?this[a]:this.create(a),this.deviceReadyChannelsMap[a]=b,this.deviceReadyChannelsArray.push(b)}},initializationComplete:function(a){var b=this.deviceReadyChannelsMap[a];b&&b.fire()}};f.prototype.subscribe=function(a,b,c){d(a);var f=a;return"object"==typeof b&&(f=e.close(b,a)),(c=c||f.observer_guid||a.observer_guid)?c:(c=this.guid++,f.observer_guid=c,a.observer_guid=c,this.handlers[c]=f,this.numHandlers++,this.events.onSubscribe&&this.events.onSubscribe.call(this),this.fired&&f.call(this),c)},f.prototype.subscribeOnce=function(a,b){d(a);var c=null,f=this,g=function(){a.apply(b||null,arguments),f.unsubscribe(c)};return this.fired?("object"==typeof b&&(a=e.close(b,a)),a.apply(this,this.fireArgs)):c=this.subscribe(g),c},f.prototype.unsubscribe=function(a){if(null===a||void 0===a)throw"You must pass _something_ into Channel.unsubscribe";"function"==typeof a&&(a=a.observer_guid);var b=this.handlers[a];b&&(b.observer_guid&&(b.observer_guid=null),this.handlers[a]=null,delete this.handlers[a],this.numHandlers--,this.events.onUnsubscribe&&this.events.onUnsubscribe.call(this))},f.prototype.fire=function(){if(this.enabled){var a=!1;this.fired=!0;for(var b in this.handlers){var c=this.handlers[b];if("function"==typeof c){var d=c.apply(this,arguments)===!1;a=a||d}}return this.fireArgs=arguments,!a}return!0},g.create("onDOMContentLoaded"),g.create("onNativeReady"),g.create("onCordovaReady"),g.create("onCordovaInfoReady"),g.create("onCordovaConnectionReady"),g.create("onDeviceReady"),g.create("onResume"),g.create("onPause"),g.create("onDestroy"),g.waitForInitialization("onCordovaReady"),g.waitForInitialization("onCordovaConnectionReady"),c.exports=g}),b("cordova/common",function(a,b,c){c.exports={objects:{cordova:{path:"cordova",children:{exec:{path:"cordova/exec"},logger:{path:"cordova/plugin/logger"}}},Cordova:{children:{exec:{path:"cordova/exec"}}},PhoneGap:{children:{exec:{path:"cordova/exec"}}},navigator:{children:{notification:{path:"cordova/plugin/notification"},accelerometer:{path:"cordova/plugin/accelerometer"},battery:{path:"cordova/plugin/battery"},camera:{path:"cordova/plugin/Camera"},compass:{path:"cordova/plugin/compass"},contacts:{path:"cordova/plugin/contacts"},device:{children:{capture:{path:"cordova/plugin/capture"}}},geolocation:{path:"cordova/plugin/geolocation"},network:{children:{connection:{path:"cordova/plugin/network"}}},splashscreen:{path:"cordova/plugin/splashscreen"}}},Acceleration:{path:"cordova/plugin/Acceleration"},Camera:{path:"cordova/plugin/CameraConstants"},CameraPopoverOptions:{path:"cordova/plugin/CameraPopoverOptions"},CaptureError:{path:"cordova/plugin/CaptureError"},CaptureAudioOptions:{path:"cordova/plugin/CaptureAudioOptions"},CaptureImageOptions:{path:"cordova/plugin/CaptureImageOptions"},CaptureVideoOptions:{path:"cordova/plugin/CaptureVideoOptions"},CompassHeading:{path:"cordova/plugin/CompassHeading"},CompassError:{path:"cordova/plugin/CompassError"},ConfigurationData:{path:"cordova/plugin/ConfigurationData"},Connection:{path:"cordova/plugin/Connection"},Contact:{path:"cordova/plugin/Contact"},ContactAddress:{path:"cordova/plugin/ContactAddress"},ContactError:{path:"cordova/plugin/ContactError"},ContactField:{path:"cordova/plugin/ContactField"},ContactFindOptions:{path:"cordova/plugin/ContactFindOptions"},ContactName:{path:"cordova/plugin/ContactName"},ContactOrganization:{path:"cordova/plugin/ContactOrganization"},Coordinates:{path:"cordova/plugin/Coordinates"},device:{path:"cordova/plugin/device"},DirectoryEntry:{path:"cordova/plugin/DirectoryEntry"},DirectoryReader:{path:"cordova/plugin/DirectoryReader"},Entry:{path:"cordova/plugin/Entry"},File:{path:"cordova/plugin/File"},FileEntry:{path:"cordova/plugin/FileEntry"},FileError:{path:"cordova/plugin/FileError"},FileReader:{path:"cordova/plugin/FileReader"},FileSystem:{path:"cordova/plugin/FileSystem"},FileTransfer:{path:"cordova/plugin/FileTransfer"},FileTransferError:{path:"cordova/plugin/FileTransferError"},FileUploadOptions:{path:"cordova/plugin/FileUploadOptions"},FileUploadResult:{path:"cordova/plugin/FileUploadResult"},FileWriter:{path:"cordova/plugin/FileWriter"},Flags:{path:"cordova/plugin/Flags"},LocalFileSystem:{path:"cordova/plugin/LocalFileSystem"},Media:{path:"cordova/plugin/Media"},MediaError:{path:"cordova/plugin/MediaError"},MediaFile:{path:"cordova/plugin/MediaFile"},MediaFileData:{path:"cordova/plugin/MediaFileData"},Metadata:{path:"cordova/plugin/Metadata"},Position:{path:"cordova/plugin/Position"},PositionError:{path:"cordova/plugin/PositionError"},ProgressEvent:{path:"cordova/plugin/ProgressEvent"},requestFileSystem:{path:"cordova/plugin/requestFileSystem"},resolveLocalFileSystemURI:{path:"cordova/plugin/resolveLocalFileSystemURI"}}}}),b("cordova/exec",function(a,b,c){var d,e=a("cordova"),f=a("cordova/utils"),g=function(){d=document.createElement("iframe"),d.setAttribute("style","display:none;"),d.setAttribute("height","0px"),d.setAttribute("width","0px"),d.setAttribute("frameborder","0"),document.documentElement.appendChild(d)},h=a("cordova/channel");c.exports=function(){if(!h.onCordovaReady.fired)return void f.alert("ERROR: Attempting to call cordova.exec() before 'deviceready'. Ignoring.");var a,b,c,i,j,k,l=null;"string"!=typeof arguments[0]?(a=arguments[0],b=arguments[1],c=arguments[2],i=arguments[3],j=arguments[4],l="INVALID"):(k=arguments[0].split("."),i=k.pop(),c=k.join("."),j=Array.prototype.splice.call(arguments,1));var m={className:c,methodName:i,arguments:[]};(a||b)&&(l=c+e.callbackId++,e.callbacks[l]={success:a,fail:b}),null!==l&&m.arguments.push(l);for(var n=0;n<j.length;++n){var o=j[n];void 0===o||null===o?m.arguments.push(o):"object"!=typeof o||f.isArray(o)?m.arguments.push(o):m.options=o}e.commandQueue.push(JSON.stringify(m)),1!=e.commandQueue.length||e.commandQueueFlushing||(d||g(),d.src="gap://ready")}}),b("cordova/platform",function(a,b,c){c.exports={id:"ios",initialize:function(){var b=a("cordova/plugin/geolocation");navigator.geolocation.getCurrentPosition=b.getCurrentPosition,navigator.geolocation.watchPosition=b.watchPosition,navigator.geolocation.clearWatch=b.clearWatch},objects:{File:{path:"cordova/plugin/File"},MediaError:{path:"cordova/plugin/MediaError"},console:{path:"cordova/plugin/ios/console"}},merges:{Contact:{path:"cordova/plugin/ios/Contact"},Entry:{path:"cordova/plugin/ios/Entry"},FileReader:{path:"cordova/plugin/ios/FileReader"},navigator:{children:{notification:{path:"cordova/plugin/ios/notification"},contacts:{path:"cordova/plugin/ios/contacts"}}}}};var d=a("cordova/plugin/logger");d.useConsole(!1)}),b("cordova/plugin/Acceleration",function(a,b,c){var d=function(a,b,c,d){this.x=a,this.y=b,this.z=c,this.timestamp=d||(new Date).getTime()};c.exports=d}),b("cordova/plugin/Camera",function(a,b,c){var d=a("cordova/exec"),e=a("cordova/plugin/CameraConstants"),f={};for(var g in e)f[g]=e[g];f.getPicture=function(a,b,c){if("function"!=typeof a)return void console.log("Camera Error: successCallback is not a function");if(b&&"function"!=typeof b)return void console.log("Camera Error: errorCallback is not a function");var f=50;if(c&&"number"==typeof c.quality)f=c.quality;else if(c&&"string"==typeof c.quality){var g=parseInt(c.quality,10);isNaN(g)===!1&&(f=g.valueOf())}var h=e.DestinationType.FILE_URI;"number"==typeof c.destinationType&&(h=c.destinationType);var i=e.PictureSourceType.CAMERA;"number"==typeof c.sourceType&&(i=c.sourceType);var j=-1;if("number"==typeof c.targetWidth)j=c.targetWidth;else if("string"==typeof c.targetWidth){var k=parseInt(c.targetWidth,10);isNaN(k)===!1&&(j=k.valueOf())}var l=-1;if("number"==typeof c.targetHeight)l=c.targetHeight;else if("string"==typeof c.targetHeight){var m=parseInt(c.targetHeight,10);isNaN(m)===!1&&(l=m.valueOf())}var n=e.EncodingType.JPEG;"number"==typeof c.encodingType&&(n=c.encodingType);var o=e.MediaType.PICTURE;"number"==typeof c.mediaType&&(o=c.mediaType);var p=!1;"boolean"==typeof c.allowEdit?p=c.allowEdit:"number"==typeof c.allowEdit&&(p=c.allowEdit<=0?!1:!0);var q=!1;"boolean"==typeof c.correctOrientation?q=c.correctOrientation:"number"==typeof c.correctOrientation&&(q=c.correctOrientation<=0?!1:!0);var r=!1;"boolean"==typeof c.saveToPhotoAlbum?r=c.saveToPhotoAlbum:"number"==typeof c.saveToPhotoAlbum&&(r=c.saveToPhotoAlbum<=0?!1:!0);var s=null;"object"==typeof c.popoverOptions&&(s=c.popoverOptions);var t=[f,h,i,j,l,n,o,p,q,r,s];d(a,b,"Camera","takePicture",t)},f.cleanup=function(a,b){d(a,b,"Camera","cleanup",[])},c.exports=f}),b("cordova/plugin/CameraConstants",function(a,b,c){c.exports={DestinationType:{DATA_URL:0,FILE_URI:1},EncodingType:{JPEG:0,PNG:1},MediaType:{PICTURE:0,VIDEO:1,ALLMEDIA:2},PictureSourceType:{PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2},PopoverArrowDirection:{ARROW_UP:1,ARROW_DOWN:2,ARROW_LEFT:4,ARROW_RIGHT:8,ARROW_ANY:15}}}),b("cordova/plugin/CameraPopoverOptions",function(a,b,c){var d=a("cordova/plugin/CameraConstants"),e=function(a,b,c,e,f){this.x=a||0,this.y=b||32,this.width=c||320,this.height=e||480,this.arrowDir=f||d.PopoverArrowDirection.ARROW_ANY};c.exports=e}),b("cordova/plugin/CaptureAudioOptions",function(a,b,c){var d=function(){this.limit=1,this.duration=0,this.mode=null};c.exports=d}),b("cordova/plugin/CaptureError",function(a,b,c){var d=function(a){this.code=a||null};d.CAPTURE_INTERNAL_ERR=0,d.CAPTURE_APPLICATION_BUSY=1,d.CAPTURE_INVALID_ARGUMENT=2,d.CAPTURE_NO_MEDIA_FILES=3,d.CAPTURE_NOT_SUPPORTED=20,c.exports=d}),b("cordova/plugin/CaptureImageOptions",function(a,b,c){var d=function(){this.limit=1,this.mode=null};c.exports=d}),b("cordova/plugin/CaptureVideoOptions",function(a,b,c){var d=function(){this.limit=1,this.duration=0,this.mode=null};c.exports=d}),b("cordova/plugin/CompassError",function(a,b,c){var d=function(a){this.code=void 0!==a?a:null};d.COMPASS_INTERNAL_ERR=0,d.COMPASS_NOT_SUPPORTED=20,c.exports=d}),b("cordova/plugin/CompassHeading",function(a,b,c){var d=function(a,b,c,d){this.magneticHeading=void 0!==a?a:null,this.trueHeading=void 0!==b?b:null,this.headingAccuracy=void 0!==c?c:null,this.timestamp=void 0!==d?d:(new Date).getTime()};c.exports=d}),b("cordova/plugin/ConfigurationData",function(a,b,c){function d(){this.type=null,this.height=0,this.width=0}c.exports=d}),b("cordova/plugin/Connection",function(a,b,c){c.exports={UNKNOWN:"unknown",ETHERNET:"ethernet",WIFI:"wifi",CELL_2G:"2g",CELL_3G:"3g",CELL_4G:"4g",NONE:"none"}}),b("cordova/plugin/Contact",function(a,b,c){function d(a){var b=a.birthday;try{a.birthday=new Date(parseFloat(b))}catch(c){console.log("Cordova Contact convertIn error: exception creating date.")}return a}function e(a){var b=a.birthday;if(null!==b){if(!h.isDate(b))try{b=new Date(b)}catch(c){b=null}h.isDate(b)&&(b=b.valueOf()),a.birthday=b}return a}var f=a("cordova/exec"),g=a("cordova/plugin/ContactError"),h=a("cordova/utils"),i=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){this.id=a||null,this.rawId=null,this.displayName=b||null,this.name=c||null,this.nickname=d||null,this.phoneNumbers=e||null,this.emails=f||null,this.addresses=g||null,this.ims=h||null,this.organizations=i||null,this.birthday=j||null,this.note=k||null,this.photos=l||null,this.categories=m||null,this.urls=n||null};i.prototype.remove=function(a,b){var c=function(a){b(new g(a))};null===this.id?c(g.UNKNOWN_ERROR):f(a,c,"Contacts","remove",[this.id])},i.prototype.clone=function(){var a,b=h.clone(this);if(b.id=null,b.rawId=null,b.phoneNumbers)for(a=0;a<b.phoneNumbers.length;a++)b.phoneNumbers[a].id=null;if(b.emails)for(a=0;a<b.emails.length;a++)b.emails[a].id=null;if(b.addresses)for(a=0;a<b.addresses.length;a++)b.addresses[a].id=null;if(b.ims)for(a=0;a<b.ims.length;a++)b.ims[a].id=null;if(b.organizations)for(a=0;a<b.organizations.length;a++)b.organizations[a].id=null;if(b.categories)for(a=0;a<b.categories.length;a++)b.categories[a].id=null;if(b.photos)for(a=0;a<b.photos.length;a++)b.photos[a].id=null;if(b.urls)for(a=0;a<b.urls.length;a++)b.urls[a].id=null;return b},i.prototype.save=function(b,c){var i=function(a){c(new g(a))},j=function(c){if(c){if("function"==typeof b){var e=a("cordova/plugin/contacts").create(c);b(d(e))}}else i(g.UNKNOWN_ERROR)},k=e(h.clone(this));f(j,i,"Contacts","save",[k])},c.exports=i}),b("cordova/plugin/ContactAddress",function(a,b,c){var d=function(a,b,c,d,e,f,g,h){this.id=null,this.pref="undefined"!=typeof a?a:!1,this.type=b||null,this.formatted=c||null,this.streetAddress=d||null,this.locality=e||null,this.region=f||null,this.postalCode=g||null,this.country=h||null};c.exports=d}),b("cordova/plugin/ContactError",function(a,b,c){var d=function(a){this.code="undefined"!=typeof a?a:null};d.UNKNOWN_ERROR=0,d.INVALID_ARGUMENT_ERROR=1,d.TIMEOUT_ERROR=2,d.PENDING_OPERATION_ERROR=3,d.IO_ERROR=4,d.NOT_SUPPORTED_ERROR=5,d.PERMISSION_DENIED_ERROR=20,c.exports=d}),b("cordova/plugin/ContactField",function(a,b,c){var d=function(a,b,c){this.id=null,this.type=a&&a.toString()||null,this.value=b&&b.toString()||null,this.pref="undefined"!=typeof c?c:!1};c.exports=d}),b("cordova/plugin/ContactFindOptions",function(a,b,c){var d=function(a,b){this.filter=a||"",this.multiple="undefined"!=typeof b?b:!1};c.exports=d}),b("cordova/plugin/ContactName",function(a,b,c){var d=function(a,b,c,d,e,f){this.formatted=a||null,this.familyName=b||null,this.givenName=c||null,this.middleName=d||null,this.honorificPrefix=e||null,this.honorificSuffix=f||null};c.exports=d}),b("cordova/plugin/ContactOrganization",function(a,b,c){var d=function(a,b,c,d,e){this.id=null,this.pref="undefined"!=typeof a?a:!1,this.type=b||null,this.name=c||null,this.department=d||null,this.title=e||null};c.exports=d}),b("cordova/plugin/Coordinates",function(a,b,c){var d=function(a,b,c,d,e,f,g){this.latitude=a,this.longitude=b,this.accuracy=d,this.altitude=void 0!==c?c:null,this.heading=void 0!==e?e:null,this.speed=void 0!==f?f:null,(0===this.speed||null===this.speed)&&(this.heading=0/0),this.altitudeAccuracy=void 0!==g?g:null};c.exports=d}),b("cordova/plugin/DirectoryEntry",function(a,b,c){var d=a("cordova/utils"),e=a("cordova/exec"),f=a("cordova/plugin/Entry"),g=a("cordova/plugin/FileError"),h=a("cordova/plugin/DirectoryReader"),i=function(a,b){i.__super__.constructor.apply(this,[!1,!0,a,b])};d.extend(i,f),i.prototype.createReader=function(){return new h(this.fullPath)},i.prototype.getDirectory=function(a,b,c,d){var f="function"!=typeof c?null:function(a){var b=new i(a.name,a.fullPath);c(b)},h="function"!=typeof d?null:function(a){d(new g(a))};e(f,h,"File","getDirectory",[this.fullPath,a,b])},i.prototype.removeRecursively=function(a,b){var c="function"!=typeof b?null:function(a){b(new g(a))};e(a,c,"File","removeRecursively",[this.fullPath])},i.prototype.getFile=function(b,c,d,f){var h="function"!=typeof d?null:function(b){var c=a("cordova/plugin/FileEntry"),e=new c(b.name,b.fullPath);d(e)},i="function"!=typeof f?null:function(a){f(new g(a))};e(h,i,"File","getFile",[this.fullPath,b,c])},c.exports=i}),b("cordova/plugin/DirectoryReader",function(a,b,c){function d(a){this.path=a||null}var e=a("cordova/exec"),f=a("cordova/plugin/FileError");d.prototype.readEntries=function(b,c){var d="function"!=typeof b?null:function(c){for(var d=[],e=0;e<c.length;e++){var f=null;c[e].isDirectory?f=new(a("cordova/plugin/DirectoryEntry")):c[e].isFile&&(f=new(a("cordova/plugin/FileEntry"))),f.isDirectory=c[e].isDirectory,f.isFile=c[e].isFile,f.name=c[e].name,f.fullPath=c[e].fullPath,d.push(f)}b(d)},g="function"!=typeof c?null:function(a){c(new f(a))};e(d,g,"File","readEntries",[this.path])},c.exports=d}),b("cordova/plugin/Entry",function(a,b,c){function d(a,b,c,d,e){this.isFile="undefined"!=typeof a?a:!1,this.isDirectory="undefined"!=typeof b?b:!1,this.name=c||"",this.fullPath=d||"",this.filesystem=e||null}var e=a("cordova/exec"),f=a("cordova/plugin/FileError"),g=a("cordova/plugin/Metadata");d.prototype.getMetadata=function(a,b){var c="function"!=typeof a?null:function(b){var c=new g(b);a(c)},d="function"!=typeof b?null:function(a){b(new f(a))};e(c,d,"File","getMetadata",[this.fullPath])},d.prototype.setMetadata=function(a,b,c){e(a,b,"File","setMetadata",[this.fullPath,c])},d.prototype.moveTo=function(b,c,d,g){var h=function(a){"function"==typeof g&&g(new f(a))};if(!b)return void h(f.NOT_FOUND_ERR);var i=this.fullPath,j=c||this.name,k=function(b){if(b){if("function"==typeof d){var c=b.isDirectory?new(a("cordova/plugin/DirectoryEntry"))(b.name,b.fullPath):new(a("cordova/plugin/FileEntry"))(b.name,b.fullPath);try{d(c)}catch(e){console.log("Error invoking callback: "+e)}}}else h(f.NOT_FOUND_ERR)};e(k,h,"File","moveTo",[i,b.fullPath,j])},d.prototype.copyTo=function(b,c,d,g){var h=function(a){"function"==typeof g&&g(new f(a))};if(!b)return void h(f.NOT_FOUND_ERR);var i=this.fullPath,j=c||this.name,k=function(b){if(b){if("function"==typeof d){var c=b.isDirectory?new(a("cordova/plugin/DirectoryEntry"))(b.name,b.fullPath):new(a("cordova/plugin/FileEntry"))(b.name,b.fullPath);try{d(c)}catch(e){console.log("Error invoking callback: "+e)}}}else h(f.NOT_FOUND_ERR)};e(k,h,"File","copyTo",[i,b.fullPath,j])},d.prototype.toURL=function(){return this.fullPath},d.prototype.toURI=function(){return console.log("DEPRECATED: Update your code to use 'toURL'"),this.toURL()},d.prototype.remove=function(a,b){var c="function"!=typeof b?null:function(a){b(new f(a))};e(a,c,"File","remove",[this.fullPath])},d.prototype.getParent=function(b,c){var d="function"!=typeof b?null:function(c){var d=a("cordova/plugin/DirectoryEntry"),e=new d(c.name,c.fullPath);b(e)},g="function"!=typeof c?null:function(a){c(new f(a))};e(d,g,"File","getParent",[this.fullPath])},c.exports=d}),b("cordova/plugin/File",function(a,b,c){var d=function(a,b,c,d,e){this.name=a||"",this.fullPath=b||null,this.type=c||null,this.lastModifiedDate=d||null,this.size=e||0};c.exports=d}),b("cordova/plugin/FileEntry",function(a,b,c){var d=a("cordova/utils"),e=a("cordova/exec"),f=a("cordova/plugin/Entry"),g=a("cordova/plugin/FileWriter"),h=a("cordova/plugin/File"),i=a("cordova/plugin/FileError"),j=function(a,b){j.__super__.constructor.apply(this,[!0,!1,a,b])};d.extend(j,f),j.prototype.createWriter=function(a,b){this.file(function(c){var d=new g(c);null===d.fileName||""===d.fileName?"function"==typeof b&&b(new i(i.INVALID_STATE_ERR)):"function"==typeof a&&a(d)},b)},j.prototype.file=function(a,b){var c="function"!=typeof a?null:function(b){var c=new h(b.name,b.fullPath,b.type,b.lastModifiedDate,b.size);a(c)},d="function"!=typeof b?null:function(a){b(new i(a))};e(c,d,"File","getFileMetadata",[this.fullPath])},c.exports=j}),b("cordova/plugin/FileError",function(a,b,c){function d(a){this.code=a||null}d.NOT_FOUND_ERR=1,d.SECURITY_ERR=2,d.ABORT_ERR=3,d.NOT_READABLE_ERR=4,d.ENCODING_ERR=5,d.NO_MODIFICATION_ALLOWED_ERR=6,d.INVALID_STATE_ERR=7,d.SYNTAX_ERR=8,d.INVALID_MODIFICATION_ERR=9,d.QUOTA_EXCEEDED_ERR=10,d.TYPE_MISMATCH_ERR=11,d.PATH_EXISTS_ERR=12,c.exports=d}),b("cordova/plugin/FileReader",function(a,b,c){var d=a("cordova/exec"),e=a("cordova/plugin/FileError"),f=a("cordova/plugin/ProgressEvent"),g=function(){this.fileName="",this.readyState=0,this.result=null,this.error=null,this.onloadstart=null,this.onprogress=null,this.onload=null,this.onerror=null,this.onloadend=null,this.onabort=null};g.EMPTY=0,g.LOADING=1,g.DONE=2,g.prototype.abort=function(){this.result=null,this.readyState!=g.DONE&&this.readyState!=g.EMPTY&&(this.readyState=g.DONE,"function"==typeof this.onabort&&this.onabort(new f("abort",{target:this})),"function"==typeof this.onloadend&&this.onloadend(new f("loadend",{target:this})))},g.prototype.readAsText=function(a,b){if(this.fileName="",this.fileName="undefined"==typeof a.fullPath?a:a.fullPath,this.readyState==g.LOADING)throw new e(e.INVALID_STATE_ERR);this.readyState=g.LOADING,"function"==typeof this.onloadstart&&this.onloadstart(new f("loadstart",{target:this}));var c=b?b:"UTF-8",h=this;d(function(a){h.readyState!==g.DONE&&(h.result=a,"function"==typeof h.onload&&h.onload(new f("load",{target:h})),h.readyState=g.DONE,"function"==typeof h.onloadend&&h.onloadend(new f("loadend",{target:h})))},function(a){h.readyState!==g.DONE&&(h.readyState=g.DONE,h.result=null,h.error=new e(a),"function"==typeof h.onerror&&h.onerror(new f("error",{target:h})),"function"==typeof h.onloadend&&h.onloadend(new f("loadend",{target:h})))},"File","readAsText",[this.fileName,c])},g.prototype.readAsDataURL=function(a){if(this.fileName="",this.fileName="undefined"==typeof a.fullPath?a:a.fullPath,this.readyState==g.LOADING)throw new e(e.INVALID_STATE_ERR);this.readyState=g.LOADING,"function"==typeof this.onloadstart&&this.onloadstart(new f("loadstart",{target:this}));var b=this;d(function(a){b.readyState!==g.DONE&&(b.readyState=g.DONE,b.result=a,"function"==typeof b.onload&&b.onload(new f("load",{target:b})),"function"==typeof b.onloadend&&b.onloadend(new f("loadend",{target:b})))},function(a){b.readyState!==g.DONE&&(b.readyState=g.DONE,b.result=null,b.error=new e(a),"function"==typeof b.onerror&&b.onerror(new f("error",{target:b})),"function"==typeof b.onloadend&&b.onloadend(new f("loadend",{target:b})))},"File","readAsDataURL",[this.fileName])},g.prototype.readAsBinaryString=function(){console.log('method "readAsBinaryString" is not supported at this time.')},g.prototype.readAsArrayBuffer=function(){console.log("This method is not supported at this time.")},c.exports=g}),b("cordova/plugin/FileSystem",function(a,b,c){var d=a("cordova/plugin/DirectoryEntry"),e=function(a,b){this.name=a||null,b&&(this.root=new d(b.name,b.fullPath))};c.exports=e}),b("cordova/plugin/FileTransfer",function(a,b,c){var d=a("cordova/exec"),e=a("cordova/plugin/FileTransferError"),f=function(){};f.prototype.upload=function(a,b,c,f,g,h){if(!a||!b)throw new Error("FileTransfer.upload requires filePath and server URL parameters at the minimum.");var i=null,j=null,k=null,l=null,m=!0;g&&(i=g.fileKey,j=g.fileName,k=g.mimeType,(null!==g.chunkedMode||"undefined"!=typeof g.chunkedMode)&&(m=g.chunkedMode),l=g.params?g.params:{});var n=function(a){var b=new e(a.code,a.source,a.target,a.http_status);f(b)};d(c,n,"FileTransfer","upload",[a,b,i,j,k,l,h,m])},f.prototype.download=function(b,c,e,f){if(!b||!c)throw new Error("FileTransfer.download requires source URI and target URI parameters at the minimum.");var g=function(b){var c=null;b.isDirectory?c=new(a("cordova/plugin/DirectoryEntry")):b.isFile&&(c=new(a("cordova/plugin/FileEntry"))),c.isDirectory=b.isDirectory,c.isFile=b.isFile,c.name=b.name,c.fullPath=b.fullPath,e(c)};d(g,f,"FileTransfer","download",[b,c])},c.exports=f}),b("cordova/plugin/FileTransferError",function(a,b,c){var d=function(a,b,c,d){this.code=a||null,this.source=b||null,this.target=c||null,this.http_status=d||null};d.FILE_NOT_FOUND_ERR=1,d.INVALID_URL_ERR=2,d.CONNECTION_ERR=3,c.exports=d}),b("cordova/plugin/FileUploadOptions",function(a,b,c){var d=function(a,b,c,d){this.fileKey=a||null,this.fileName=b||null,this.mimeType=c||null,this.params=d||null};c.exports=d}),b("cordova/plugin/FileUploadResult",function(a,b,c){var d=function(){this.bytesSent=0,this.responseCode=null,this.response=null};c.exports=d}),b("cordova/plugin/FileWriter",function(a,b,c){var d=a("cordova/exec"),e=a("cordova/plugin/FileError"),f=a("cordova/plugin/ProgressEvent"),g=function(a){this.fileName="",this.length=0,a&&(this.fileName=a.fullPath||a,this.length=a.size||0),this.position=0,this.readyState=0,this.result=null,this.error=null,this.onwritestart=null,this.onprogress=null,this.onwrite=null,this.onwriteend=null,this.onabort=null,this.onerror=null};g.INIT=0,g.WRITING=1,g.DONE=2,g.prototype.abort=function(){if(this.readyState===g.DONE||this.readyState===g.INIT)throw new e(e.INVALID_STATE_ERR);this.error=new e(e.ABORT_ERR),this.readyState=g.DONE,"function"==typeof this.onabort&&this.onabort(new f("abort",{target:this})),"function"==typeof this.onwriteend&&this.onwriteend(new f("writeend",{target:this}))
},g.prototype.write=function(a){if(this.readyState===g.WRITING)throw new e(e.INVALID_STATE_ERR);this.readyState=g.WRITING;var b=this;"function"==typeof b.onwritestart&&b.onwritestart(new f("writestart",{target:b})),d(function(a){b.readyState!==g.DONE&&(b.position+=a,b.length=b.position,b.readyState=g.DONE,"function"==typeof b.onwrite&&b.onwrite(new f("write",{target:b})),"function"==typeof b.onwriteend&&b.onwriteend(new f("writeend",{target:b})))},function(a){b.readyState!==g.DONE&&(b.readyState=g.DONE,b.error=new e(a),"function"==typeof b.onerror&&b.onerror(new f("error",{target:b})),"function"==typeof b.onwriteend&&b.onwriteend(new f("writeend",{target:b})))},"File","write",[this.fileName,a,this.position])},g.prototype.seek=function(a){if(this.readyState===g.WRITING)throw new e(e.INVALID_STATE_ERR);(a||0===a)&&(this.position=0>a?Math.max(a+this.length,0):a>this.length?this.length:a)},g.prototype.truncate=function(a){if(this.readyState===g.WRITING)throw new e(e.INVALID_STATE_ERR);this.readyState=g.WRITING;var b=this;"function"==typeof b.onwritestart&&b.onwritestart(new f("writestart",{target:this})),d(function(a){b.readyState!==g.DONE&&(b.readyState=g.DONE,b.length=a,b.position=Math.min(b.position,a),"function"==typeof b.onwrite&&b.onwrite(new f("write",{target:b})),"function"==typeof b.onwriteend&&b.onwriteend(new f("writeend",{target:b})))},function(a){b.readyState!==g.DONE&&(b.readyState=g.DONE,b.error=new e(a),"function"==typeof b.onerror&&b.onerror(new f("error",{target:b})),"function"==typeof b.onwriteend&&b.onwriteend(new f("writeend",{target:b})))},"File","truncate",[this.fileName,a])},c.exports=g}),b("cordova/plugin/Flags",function(a,b,c){function d(a,b){this.create=a||!1,this.exclusive=b||!1}c.exports=d}),b("cordova/plugin/LocalFileSystem",function(a,b,c){var d=(a("cordova/exec"),function(){});d.TEMPORARY=0,d.PERSISTENT=1,c.exports=d}),b("cordova/plugin/Media",function(a,b,c){var d=a("cordova/utils"),e=a("cordova/exec"),f={},g=function(a,b,c,g){return b&&"function"!=typeof b?void console.log("Media Error: successCallback is not a function"):c&&"function"!=typeof c?void console.log("Media Error: errorCallback is not a function"):g&&"function"!=typeof g?void console.log("Media Error: statusCallback is not a function"):(this.id=d.createUUID(),f[this.id]=this,this.src=a,this.successCallback=b,this.errorCallback=c,this.statusCallback=g,this._duration=-1,this._position=-1,void e(null,this.errorCallback,"Media","create",[this.id,this.src]))};g.MEDIA_STATE=1,g.MEDIA_DURATION=2,g.MEDIA_POSITION=3,g.MEDIA_ERROR=9,g.MEDIA_NONE=0,g.MEDIA_STARTING=1,g.MEDIA_RUNNING=2,g.MEDIA_PAUSED=3,g.MEDIA_STOPPED=4,g.MEDIA_MSG=["None","Starting","Running","Paused","Stopped"],g.get=function(a){return f[a]},g.prototype.play=function(a){e(null,null,"Media","startPlayingAudio",[this.id,this.src,a])},g.prototype.stop=function(){var a=this;e(function(){a._position=0,a.successCallback()},this.errorCallback,"Media","stopPlayingAudio",[this.id])},g.prototype.seekTo=function(a){var b=this;e(function(a){b._position=a},this.errorCallback,"Media","seekToAudio",[this.id,a])},g.prototype.pause=function(){e(null,this.errorCallback,"Media","pausePlayingAudio",[this.id])},g.prototype.getDuration=function(){return this._duration},g.prototype.getCurrentPosition=function(a,b){var c=this;e(function(b){c._position=b,a(b)},b,"Media","getCurrentPositionAudio",[this.id])},g.prototype.startRecord=function(){e(this.successCallback,this.errorCallback,"Media","startRecordingAudio",[this.id,this.src])},g.prototype.stopRecord=function(){e(this.successCallback,this.errorCallback,"Media","stopRecordingAudio",[this.id])},g.prototype.release=function(){e(null,this.errorCallback,"Media","release",[this.id])},g.prototype.setVolume=function(a){e(null,null,"Media","setVolume",[this.id,a])},g.onStatus=function(a,b,c){var d=f[a];b===g.MEDIA_STATE?(c===g.MEDIA_STOPPED&&d.successCallback&&d.successCallback(),d.statusCallback&&d.statusCallback(c)):b===g.MEDIA_DURATION?d._duration=c:b===g.MEDIA_ERROR?d.errorCallback&&d.errorCallback(c):b===g.MEDIA_POSITION&&(d._position=c)},c.exports=g}),b("cordova/plugin/MediaError",function(a,b,c){var d=function(a,b){this.code=void 0!==a?a:null,this.message=b||""};d.MEDIA_ERR_NONE_ACTIVE=0,d.MEDIA_ERR_ABORTED=1,d.MEDIA_ERR_NETWORK=2,d.MEDIA_ERR_DECODE=3,d.MEDIA_ERR_NONE_SUPPORTED=4,c.exports=d}),b("cordova/plugin/MediaFile",function(a,b,c){var d=a("cordova/utils"),e=a("cordova/exec"),f=a("cordova/plugin/File"),g=a("cordova/plugin/CaptureError"),h=function(){h.__super__.constructor.apply(this,arguments)};d.extend(h,f),h.prototype.getFormatData=function(a,b){"undefined"==typeof this.fullPath||null===this.fullPath?b(new g(g.CAPTURE_INVALID_ARGUMENT)):e(a,b,"Capture","getFormatData",[this.fullPath,this.type])},h.cast=function(a){for(var b=[],c=0;c<a.message.length;c++){var d=new h;d.name=a.message[c].name,d.fullPath=a.message[c].fullPath,d.type=a.message[c].type,d.lastModifiedDate=a.message[c].lastModifiedDate,d.size=a.message[c].size,b.push(d)}return a.message=b,a},c.exports=h}),b("cordova/plugin/MediaFileData",function(a,b,c){var d=function(a,b,c,d,e){this.codecs=a||null,this.bitrate=b||0,this.height=c||0,this.width=d||0,this.duration=e||0};c.exports=d}),b("cordova/plugin/Metadata",function(a,b,c){var d=function(a){this.modificationTime="undefined"!=typeof a?new Date(a):null};c.exports=d}),b("cordova/plugin/Position",function(a,b,c){var d=a("cordova/plugin/Coordinates"),e=function(a,b){this.coords=a?new d(a.latitude,a.longitude,a.altitude,a.accuracy,a.heading,a.velocity,a.altitudeAccuracy):new d,this.timestamp=void 0!==b?b:new Date};c.exports=e}),b("cordova/plugin/PositionError",function(a,b,c){var d=function(a,b){this.code=a||null,this.message=b||""};d.PERMISSION_DENIED=1,d.POSITION_UNAVAILABLE=2,d.TIMEOUT=3,c.exports=d}),b("cordova/plugin/ProgressEvent",function(a,b,c){var d=function(){return function(a,b){this.type=a,this.bubbles=!1,this.cancelBubble=!1,this.cancelable=!1,this.lengthComputable=!1,this.loaded=b&&b.loaded?b.loaded:0,this.total=b&&b.total?b.total:0,this.target=b&&b.target?b.target:null}}();c.exports=d}),b("cordova/plugin/accelerometer",function(a,b,c){function d(){i(function(a){var b=m.slice(0);n=new j(a.x,a.y,a.z,a.timestamp);for(var c=0,d=b.length;d>c;c++)b[c].win(n)},function(a){for(var b=m.slice(0),c=0,d=b.length;d>c;c++)b[c].fail(a)},"Accelerometer","start",[]),k=!0}function e(){i(null,null,"Accelerometer","stop",[]),k=!1}function f(a,b){return{win:a,fail:b}}function g(a){var b=m.indexOf(a);b>-1&&(m.splice(b,1),0===m.length&&e())}var h=a("cordova/utils"),i=a("cordova/exec"),j=a("cordova/plugin/Acceleration"),k=!1,l={},m=[],n=null,o={getCurrentAcceleration:function(a,b){if("function"!=typeof a)throw"getCurrentAcceleration must be called with at least a success callback function as first parameter.";var c,e=function(b){g(c),a(b)},h=function(a){g(c),b(a)};c=f(e,h),m.push(c),k||d()},watchAcceleration:function(a,b,c){var e=c&&c.frequency&&"number"==typeof c.frequency?c.frequency:1e4;if("function"!=typeof a)throw"watchAcceleration must be called with at least a success callback function as first parameter.";var i=h.createUUID(),j=f(function(){},function(a){g(j),b(a)});return m.push(j),l[i]={timer:window.setInterval(function(){n&&a(n)},e),listeners:j},k?n&&a(n):d(),i},clearWatch:function(a){a&&l[a]&&(window.clearInterval(l[a].timer),g(l[a].listeners),delete l[a])}};c.exports=o}),b("cordova/plugin/battery",function(a,b,c){function d(){return h.channels.batterystatus.numHandlers+h.channels.batterylow.numHandlers+h.channels.batterycritical.numHandlers}var e=a("cordova"),f=a("cordova/exec"),g=function(){this._level=null,this._isPlugged=null;var a={onSubscribe:this.onSubscribe,onUnsubscribe:this.onUnsubscribe};this.channels={batterystatus:e.addWindowEventHandler("batterystatus",a),batterylow:e.addWindowEventHandler("batterylow",a),batterycritical:e.addWindowEventHandler("batterycritical",a)}};g.prototype.onSubscribe=function(){var a=h;1===d()&&f(a._status,a._error,"Battery","start",[])},g.prototype.onUnsubscribe=function(){0===d()&&f(null,null,"Battery","stop",[])},g.prototype._status=function(a){if(a){var b=h,c=a.level;(b._level!==c||b._isPlugged!==a.isPlugged)&&(e.fireWindowEvent("batterystatus",a),(20===c||5===c)&&(20===c?e.fireWindowEvent("batterylow",a):e.fireWindowEvent("batterycritical",a))),b._level=c,b._isPlugged=a.isPlugged}},g.prototype._error=function(a){console.log("Error initializing Battery: "+a)};var h=new g;c.exports=h}),b("cordova/plugin/capture",function(a,b,c){function d(a,b,c,d){var e=function(a){var c,d=[];for(c=0;c<a.length;c++){var e=new g;e.name=a[c].name,e.fullPath=a[c].fullPath,e.type=a[c].type,e.lastModifiedDate=a[c].lastModifiedDate,e.size=a[c].size,d.push(e)}b(d)};f(e,c,"Capture",a,[d])}function e(){this.supportedAudioModes=[],this.supportedImageModes=[],this.supportedVideoModes=[]}var f=a("cordova/exec"),g=a("cordova/plugin/MediaFile");e.prototype.captureAudio=function(a,b,c){d("captureAudio",a,b,c)},e.prototype.captureImage=function(a,b,c){d("captureImage",a,b,c)},e.prototype.captureVideo=function(a,b,c){d("captureVideo",a,b,c)},c.exports=new e}),b("cordova/plugin/compass",function(a,b,c){var d=a("cordova/exec"),e=a("cordova/utils"),f=a("cordova/plugin/CompassHeading"),g=a("cordova/plugin/CompassError"),h={},i={getCurrentHeading:function(a,b,c){if("function"!=typeof a)return void console.log("Compass Error: successCallback is not a function");if(b&&"function"!=typeof b)return void console.log("Compass Error: errorCallback is not a function");var e=function(b){var c=new f(b.magneticHeading,b.trueHeading,b.headingAccuracy,b.timestamp);a(c)},h=function(a){var c=new g(a);b(c)};d(e,h,"Compass","getHeading",[c])},watchHeading:function(a,b,c){var d=void 0!==c&&void 0!==c.frequency?c.frequency:100,f=void 0!==c&&void 0!==c.filter?c.filter:0;if("function"!=typeof a)return void console.log("Compass Error: successCallback is not a function");if(b&&"function"!=typeof b)return void console.log("Compass Error: errorCallback is not a function");var g=e.createUUID();return f>0?(h[g]="iOS",i.getCurrentHeading(a,b,c)):h[g]=window.setInterval(function(){i.getCurrentHeading(a,b)},d),g},clearWatch:function(a){a&&h[a]&&("iOS"!=h[a]?clearInterval(h[a]):d(null,null,"Compass","stopHeading",[]),delete h[a])}};c.exports=i}),b("cordova/plugin/console-via-logger",function(a,b,c){function d(){}function e(a,b){return function(){var c=[].slice.call(arguments);try{a.apply(i,c)}catch(d){}try{b.apply(h,c)}catch(d){}}}var f=a("cordova/plugin/logger"),g=a("cordova/utils"),h=c.exports,i=window.console,j=!1,k={};h.useLogger=function(a){if(arguments.length&&(j=!!a),j&&f.useConsole())throw new Error("console and logger are too intertwingly");return j},h.log=function(){f.useConsole()||f.log.apply(f,[].slice.call(arguments))},h.error=function(){f.useConsole()||f.error.apply(f,[].slice.call(arguments))},h.warn=function(){f.useConsole()||f.warn.apply(f,[].slice.call(arguments))},h.info=function(){f.useConsole()||f.info.apply(f,[].slice.call(arguments))},h.debug=function(){f.useConsole()||f.debug.apply(f,[].slice.call(arguments))},h.assert=function(a){if(!a){var b=g.vformat(arguments[1],[].slice.call(arguments,2));h.log("ASSERT: "+b)}},h.clear=function(){},h.dir=function(a){h.log("%o",a)},h.dirxml=function(a){h.log(a.innerHTML)},h.trace=d,h.group=h.log,h.groupCollapsed=h.log,h.groupEnd=d,h.time=function(a){k[a]=(new Date).valueOf()},h.timeEnd=function(a){var b=k[a];if(!b)return void h.warn("unknown timer: "+a);var c=(new Date).valueOf()-b;h.log(a+": "+c+"ms")},h.timeStamp=d,h.profile=d,h.profileEnd=d,h.count=d,h.exception=h.log,h.table=function(a){h.log("%o",a)};for(var l in h)"function"==typeof i[l]&&(h[l]=e(i[l],h[l]))}),b("cordova/plugin/contacts",function(a,b,c){var d=a("cordova/exec"),e=a("cordova/plugin/ContactError"),f=a("cordova/utils"),g=a("cordova/plugin/Contact"),h={find:function(a,b,c,g){if(!b)throw new TypeError("You must specify a success callback for the find command.");if(!a||f.isArray(a)&&0===a.length)"function"==typeof c&&c(new e(e.INVALID_ARGUMENT_ERROR));else{var i=function(a){for(var c=[],d=0,e=a.length;e>d;d++)c.push(h.create(a[d]));b(c)};d(i,c,"Contacts","search",[a,g])}},create:function(a){var b,c=new g;for(b in a)"undefined"!=typeof c[b]&&a.hasOwnProperty(b)&&(c[b]=a[b]);return c}};c.exports=h}),b("cordova/plugin/device",function(a,b,c){function d(){this.available=!1,this.platform=null,this.version=null,this.name=null,this.uuid=null,this.cordova=null;var a=this;e.onCordovaReady.subscribeOnce(function(){a.getInfo(function(b){a.available=!0,a.platform=b.platform,a.version=b.version,a.name=b.name,a.uuid=b.uuid,a.cordova=b.cordova,e.onCordovaInfoReady.fire()},function(b){a.available=!1,f.alert("[ERROR] Error initializing Cordova: "+b)})})}var e=a("cordova/channel"),f=a("cordova/utils"),g=a("cordova/exec");e.waitForInitialization("onCordovaInfoReady"),d.prototype.getInfo=function(a,b){return"function"!=typeof a?void console.log("Device Error: successCallback is not a function"):b&&"function"!=typeof b?void console.log("Device Error: errorCallback is not a function"):void g(a,b,"Device","getDeviceInfo",[])},c.exports=new d}),b("cordova/plugin/geolocation",function(a,b,c){function d(a){var b={maximumAge:0,enableHighAccuracy:!1,timeout:1/0};return a&&(void 0!==a.maximumAge&&!isNaN(a.maximumAge)&&a.maximumAge>0&&(b.maximumAge=a.maximumAge),void 0!==a.enableHighAccuracy&&(b.enableHighAccuracy=a.enableHighAccuracy),void 0===a.timeout||isNaN(a.timeout)||(b.timeout=a.timeout<0?0:a.timeout)),b}function e(a,b){var c=setTimeout(function(){clearTimeout(c),c=null,a({code:h.TIMEOUT,message:"Position retrieval timed out."})},b);return c}var f=a("cordova/utils"),g=a("cordova/exec"),h=a("cordova/plugin/PositionError"),i=a("cordova/plugin/Position"),j={},k={lastPosition:null,getCurrentPosition:function(a,b,c){if(0===arguments.length)throw new Error("getCurrentPosition must be called with at least one argument.");c=d(c);var f=null,j=function(b){if(clearTimeout(f),f){var c=new i({latitude:b.latitude,longitude:b.longitude,altitude:b.altitude,accuracy:b.accuracy,heading:b.heading,velocity:b.velocity,altitudeAccuracy:b.altitudeAccuracy},void 0===b.timestamp?new Date:b.timestamp instanceof Date?b.timestamp:new Date(b.timestamp));k.lastPosition=c,a(c)}},l=function(a){clearTimeout(f),f=null;var c=new h(a.code,a.message);b&&b(c)};return k.lastPosition&&c.maximumAge&&(new Date).getTime()-k.lastPosition.timestamp.getTime()<=c.maximumAge?a(k.lastPosition):0===c.timeout?l({code:h.TIMEOUT,message:"timeout value in PositionOptions set to 0 and no cached Position object available, or cached Position object's age exceed's provided PositionOptions' maximumAge parameter."}):(f=1/0!==c.timeout?e(l,c.timeout):!0,g(j,l,"Geolocation","getLocation",[c.enableHighAccuracy,c.maximumAge])),f},watchPosition:function(a,b,c){if(0===arguments.length)throw new Error("watchPosition must be called with at least one argument.");c=d(c);var l=f.createUUID();j[l]=k.getCurrentPosition(a,b,c);var m=function(a){clearTimeout(j[l]);var c=new h(a.code,a.message);b&&b(c)},n=function(b){clearTimeout(j[l]),1/0!==c.timeout&&(j[l]=e(m,c.timeout));var d=new i({latitude:b.latitude,longitude:b.longitude,altitude:b.altitude,accuracy:b.accuracy,heading:b.heading,velocity:b.velocity,altitudeAccuracy:b.altitudeAccuracy},void 0===b.timestamp?new Date:b.timestamp instanceof Date?b.timestamp:new Date(b.timestamp));k.lastPosition=d,a(d)};return g(n,m,"Geolocation","addWatch",[l,c.enableHighAccuracy]),l},clearWatch:function(a){a&&void 0!==j[a]&&(clearTimeout(j[a]),delete j[a],g(null,null,"Geolocation","clearWatch",[a]))}};c.exports=k}),b("cordova/plugin/ios/Contact",function(a,b,c){var d=a("cordova/exec"),e=a("cordova/plugin/ContactError");c.exports={display:function(a,b){if(null===this.id){if("function"==typeof a){var c=new e(e.UNKNOWN_ERROR);a(c)}}else d(null,a,"Contacts","displayContact",[this.id,b])}}}),b("cordova/plugin/ios/Entry",function(a,b,c){c.exports={toURL:function(){return"file://localhost"+this.fullPath},toURI:function(){return console.log("DEPRECATED: Update your code to use 'toURL'"),"file://localhost"+this.fullPath}}}),b("cordova/plugin/ios/FileReader",function(a,b,c){var d=a("cordova/exec"),e=a("cordova/plugin/FileError"),f=a("cordova/plugin/FileReader"),g=a("cordova/plugin/ProgressEvent");c.exports={readAsText:function(a,b){if(this.fileName="",this.fileName="undefined"==typeof a.fullPath?a:a.fullPath,this.readyState==f.LOADING)throw new e(e.INVALID_STATE_ERR);this.readyState=f.LOADING,"function"==typeof this.onloadstart&&this.onloadstart(new g("loadstart",{target:this}));var c=b?b:"UTF-8",h=this;d(function(a){h.readyState!==f.DONE&&(h.result=decodeURIComponent(a),"function"==typeof h.onload&&h.onload(new g("load",{target:h})),h.readyState=f.DONE,"function"==typeof h.onloadend&&h.onloadend(new g("loadend",{target:h})))},function(a){h.readyState!==f.DONE&&(h.readyState=f.DONE,h.result=null,h.error=new e(a),"function"==typeof h.onerror&&h.onerror(new g("error",{target:h})),"function"==typeof h.onloadend&&h.onloadend(new g("loadend",{target:h})))},"File","readAsText",[this.fileName,c])}}}),b("cordova/plugin/ios/console",function(a,b,c){var d=a("cordova/exec"),e=function(){this.winConsole=window.console,this.logLevel=e.INFO_LEVEL};e.ALL_LEVEL=1,e.INFO_LEVEL=1,e.WARN_LEVEL=2,e.ERROR_LEVEL=4,e.NONE_LEVEL=8,e.prototype.setLevel=function(a){this.logLevel=a};var f=function(a){try{if("object"!=typeof a||!JSON||!JSON.stringify)return a.toString();try{return JSON.stringify(a)}catch(b){return"error JSON.stringify()ing argument: "+b}}catch(b){return b.toString()}};e.prototype.log=function(a){this.logLevel<=e.INFO_LEVEL?d(null,null,"Debug Console","log",[f(a),{logLevel:"INFO"}]):this.winConsole&&this.winConsole.log&&this.winConsole.log(a)},e.prototype.warn=function(a){this.logLevel<=e.WARN_LEVEL?d(null,null,"Debug Console","log",[f(a),{logLevel:"WARN"}]):this.winConsole&&this.winConsole.warn&&this.winConsole.warn(a)},e.prototype.error=function(a){this.logLevel<=e.ERROR_LEVEL?d(null,null,"Debug Console","log",[f(a),{logLevel:"ERROR"}]):this.winConsole&&this.winConsole.error&&this.winConsole.error(a)},c.exports=new e}),b("cordova/plugin/ios/contacts",function(a,b,c){var d=a("cordova/exec");c.exports={newContactUI:function(a){d(a,null,"Contacts","newContact",[])},chooseContact:function(a,b){d(a,null,"Contacts","chooseContact",[b])}}}),b("cordova/plugin/ios/nativecomm",function(a,b,c){var d=a("cordova");c.exports=function(){var a=JSON.stringify(d.commandQueue);return d.commandQueue=[],a}}),b("cordova/plugin/ios/notification",function(a,b,c){var d=a("cordova/plugin/Media");c.exports={beep:function(){new d("beep.wav").play()}}}),b("cordova/plugin/logger",function(a,b){function c(a,b){b=[a].concat([].slice.call(b)),e.logLevel.apply(e,b)}for(var d,e=b,f=a("cordova/exec"),g=a("cordova/utils"),h=!0,i=[],j=!1,k=["LOG","ERROR","WARN","INFO","DEBUG"],l={},m=0;m<k.length;m++){var n=k[m];l[n]=m,e[n]=n}d=l.WARN,e.level=function(a){if(arguments.length){if(null===l[a])throw new Error("invalid logging level: "+a);d=l[a]}return k[d]},e.useConsole=function(a){if(arguments.length&&(h=!!a),h){if("undefined"==typeof console)throw new Error("global console object is not defined");if("function"!=typeof console.log)throw new Error("global console object does not have a log function");if("function"==typeof console.useLogger&&console.useLogger())throw new Error("console and logger are too intertwingly")}return h},e.log=function(){c("LOG",arguments)},e.error=function(){c("ERROR",arguments)},e.warn=function(){c("WARN",arguments)},e.info=function(){c("INFO",arguments)},e.debug=function(){c("DEBUG",arguments)},e.logLevel=function(a,b){var c=[].slice.call(arguments,2);if(b=g.vformat(b,c),null===l[a])throw new Error("invalid logging level: "+a);if(!(l[a]>d)){if(!j&&!h)return void i.push([a,b]);if(!h)return void f(null,null,"Logger","logLevel",[a,b]);if(console.__usingCordovaLogger)throw new Error("console and logger are too intertwingly");switch(a){case e.LOG:console.log(b);break;case e.ERROR:console.log("ERROR: "+b);break;case e.WARN:console.log("WARN: "+b);break;case e.INFO:console.log("INFO: "+b);break;case e.DEBUG:console.log("DEBUG: "+b)}}},e.__onDeviceReady=function(){if(!j){j=!0;for(var a=0;a<i.length;a++){var b=i[a];e.logLevel(b[0],b[1])}i=null}},document.addEventListener("deviceready",e.__onDeviceReady,!1)}),b("cordova/plugin/network",function(a,b,c){var d=a("cordova/exec"),e=a("cordova"),f=a("cordova/channel"),g=function(){this.type=null,this._firstRun=!0,this._timer=null,this.timeout=500;var a=this;f.onCordovaReady.subscribeOnce(function(){a.getInfo(function(b){a.type=b,"none"===b?a._timer=setTimeout(function(){e.fireDocumentEvent("offline"),a._timer=null},a.timeout):(null!==a._timer&&(clearTimeout(a._timer),a._timer=null),e.fireDocumentEvent("online")),a._firstRun&&(a._firstRun=!1,f.onCordovaConnectionReady.fire())},function(b){a._firstRun&&(a._firstRun=!1,f.onCordovaConnectionReady.fire()),console.log("Error initializing Network Connection: "+b)})})};g.prototype.getInfo=function(a,b){d(a,b,"NetworkStatus","getConnectionInfo",[])},c.exports=new g}),b("cordova/plugin/notification",function(a,b,c){var d=a("cordova/exec");c.exports={alert:function(a,b,c,e){var f=c||"Alert",g=e||"OK";d(b,null,"Notification","alert",[a,f,g])},confirm:function(a,b,c,e){var f=c||"Confirm",g=e||"OK,Cancel";d(b,null,"Notification","confirm",[a,f,g])},vibrate:function(a){d(null,null,"Notification","vibrate",[a])},beep:function(a){d(null,null,"Notification","beep",[a])}}}),b("cordova/plugin/requestFileSystem",function(a,b,c){var d=a("cordova/plugin/FileError"),e=a("cordova/plugin/FileSystem"),f=a("cordova/exec"),g=function(a,b,c,g){var h=function(a){"function"==typeof g&&g(new d(a))};if(0>a||a>3)h(d.SYNTAX_ERR);else{var i=function(a){if(a){if("function"==typeof c){var b=new e(a.name,a.root);c(b)}}else h(d.NOT_FOUND_ERR)};f(i,h,"File","requestFileSystem",[a,b])}};c.exports=g}),b("cordova/plugin/resolveLocalFileSystemURI",function(a,b,c){var d=a("cordova/plugin/DirectoryEntry"),e=a("cordova/plugin/FileEntry"),f=a("cordova/plugin/FileError"),g=a("cordova/exec");c.exports=function(a,b,c){var h=function(a){"function"==typeof c&&c(new f(a))};if(!a||a.split(":").length>2)return void setTimeout(function(){h(f.ENCODING_ERR)},0);var i=function(a){var c;if(a){if("function"==typeof b){c=a.isDirectory?new d(a.name,a.fullPath):new e(a.name,a.fullPath);try{b(c)}catch(g){console.log("Error invoking callback: "+g)}}}else h(f.NOT_FOUND_ERR)};g(i,h,"File","resolveLocalFileSystemURI",[a])}}),b("cordova/plugin/splashscreen",function(a,b,c){var d=a("cordova/exec"),e={show:function(){d(null,null,"SplashScreen","show",[])},hide:function(){d(null,null,"SplashScreen","hide",[])}};c.exports=e}),b("cordova/utils",function(a,b){function c(a){for(var b="",c=0;a>c;c++){var d=parseInt(256*Math.random(),10).toString(16);1==d.length&&(d="0"+d),b+=d}return b}function d(a,b){try{switch(b){case"j":case"o":return JSON.stringify(a);case"c":return""}}catch(c){return"error JSON.stringify()ing argument: "+c}return null===a||void 0===a?Object.prototype.toString.call(a):a.toString()}var e=b;e.isArray=function(a){return"[object Array]"==Object.prototype.toString.call(a)},e.isDate=function(a){return"[object Date]"==Object.prototype.toString.call(a)},e.clone=function(a){if(!a||"function"==typeof a||e.isDate(a)||"object"!=typeof a)return a;var b,c;if(e.isArray(a)){for(b=[],c=0;c<a.length;++c)b.push(e.clone(a[c]));return b}b={};for(c in a)c in b&&b[c]==a[c]||(b[c]=e.clone(a[c]));return b},e.close=function(a,b,c){return"undefined"==typeof c?function(){return b.apply(a,arguments)}:function(){return b.apply(a,c)}},e.createUUID=function(){return c(4)+"-"+c(2)+"-"+c(2)+"-"+c(2)+"-"+c(6)},e.extend=function(){var a=function(){};return function(b,c){a.prototype=c.prototype,b.prototype=new a,b.__super__=c.prototype,b.prototype.constructor=b}}(),e.alert=function(a){alert?alert(a):console&&console.log&&console.log(a)},e.format=function(a){var b=[].slice.call(arguments,1);return e.vformat(a,b)},e.vformat=function(a,b){if(null===a||void 0===a)return"";if(1==arguments.length)return a.toString();if("string"!=typeof a)return a.toString();for(var c=/(.*?)%(.)(.*)/,e=a,f=[];b.length;){var g=b.shift(),h=c.exec(e);if(!h)break;e=h[3],f.push(h[1]),"%"!=h[2]?f.push(d(g,h[2])):(f.push("%"),b.unshift(g))}return f.push(e),f.join("")}}),window.cordova=a("cordova"),function(){var b=a("cordova/channel"),c={boot:function(){b.join(function(){var c=a("cordova/builder"),d=a("cordova/common"),e=a("cordova/platform");c.build(d.objects).intoButDontClobber(window),c.build(e.objects).intoAndClobber(window),"undefined"!=typeof e.merges&&c.build(e.merges).intoAndMerge(window),e.initialize(),b.onCordovaReady.fire(),b.join(function(){a("cordova").fireDocumentEvent("deviceready")},b.deviceReadyChannelsArray)},[b.onDOMContentLoaded,b.onNativeReady])}};b.onNativeReady.subscribeOnce(c.boot),window._nativeReady&&b.onNativeReady.fire()}(window)}(),Date.prototype.toDateInputValue=function(){var a=new Date(this);return a.setMinutes(this.getMinutes()-this.getTimezoneOffset()),a.toJSON().slice(0,10)},function(a){a.fn.textfill=function(b){function c(){g.debug&&"undefined"!=typeof console&&"undefined"!=typeof console.debug&&console.debug.apply(console,arguments)}function d(){"undefined"!=typeof console&&"undefined"!=typeof console.warn&&console.warn.apply(console,arguments)}function e(a,b,d,e,f,g){function h(a,b){var c=" / ";return a>b?c=" > ":a==b&&(c=" = "),c}c(a+"font: "+b.css("font-size")+", H: "+b.height()+h(b.height(),d)+d+", W: "+b.width()+h(b.width(),e)+e+", minFontPixels: "+f+", maxFontPixels: "+g)}function f(a,b,c,d,f,g,h,i){for(e(a+": ",b,f,g,h,i);i-1>h;){var j=Math.floor((h+i)/2);if(b.css("font-size",j),c.call(b)<=d){if(h=j,c.call(b)==d)break}else i=j;e(a+": ",b,f,g,h,i)}return b.css("font-size",i),c.call(b)<=d&&(h=i,e(a+"* ",b,f,g,h,i)),h}var g=a.extend({debug:!1,maxFontPixels:40,minFontPixels:4,innerTag:"span",widthOnly:!1,success:null,callback:null,fail:null,complete:null,explicitWidth:null,explicitHeight:null},b);return this.each(function(){var b=a(g.innerTag+":visible:first",this),e=g.explicitHeight||a(this).height(),h=g.explicitWidth||a(this).width(),i=b.css("font-size");c("Opts: ",g),c("Vars: maxHeight: "+e+", maxWidth: "+h);var j=g.minFontPixels,k=0>=g.maxFontPixels?e:g.maxFontPixels,l=void 0;g.widthOnly||(l=f("H",b,a.fn.height,e,e,h,j,k)),j=f("W",b,a.fn.width,h,e,h,j,k),g.widthOnly?b.css("font-size",j):b.css("font-size",Math.min(l,j)),c("Final: "+b.css("font-size")),b.width()>h||b.height()>e&&!g.widthOnly?(b.css("font-size",i),g.fail&&g.fail(this)):g.success?g.success(this):g.callback&&(d("callback is deprecated, use success, instead"),g.callback(this))}),g.complete&&g.complete(this),this}}(window.jQuery),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?void(this._wrapped=a):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.5.2";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g=x.keys(a),e=0,f=g.length;f>e;e++)if(b.call(d,a[g[e]],g[e],a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null==a?!1:s&&a.indexOf===s?-1!=a.indexOf(b):A(a,function(a){return a===b})},x.invoke=function(a,b){var c=h.call(arguments,2),d=x.isFunction(b);return x.map(a,function(a){return(d?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b,c){return x.isEmpty(b)?c?void 0:[]:x[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.findWhere=function(a,b){return x.where(a,b,!0)},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-1/0;var d={computed:-1/0,value:-1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d},x.sample=function(a,b,c){return arguments.length<2||c?a[x.random(a.length-1)]:x.shuffle(a).slice(0,Math.max(0,b))};var B=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=B(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var C=function(a){return function(b,c,d){var e={},f=null==c?x.identity:B(c);return y(b,function(c,g){var h=f.call(d,c,g,b);a(e,h,c)}),e}};x.groupBy=C(function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)}),x.indexBy=C(function(a,b,c){a[b]=c}),x.countBy=C(function(a,b){x.has(a,b)?a[b]++:a[b]=1}),x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return b&&x.every(a,x.isArray)?i.apply(c,a):(y(a,function(a){x.isArray(a)||x.isArguments(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c)};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);
var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=x.max(x.pluck(arguments,"length").concat(0)),b=new Array(a),c=0;a>c;c++)b[c]=x.pluck(arguments,""+c);return b},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var E=function(){};x.bind=function(a,b){var c,d;if(w&&a.bind===w)return w.apply(a,h.call(arguments,1));if(!x.isFunction(a))throw new TypeError;return c=h.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(b,c.concat(h.call(arguments)));E.prototype=a.prototype;var e=new E;E.prototype=null;var f=a.apply(e,c.concat(h.call(arguments)));return Object(f)===f?f:e}},x.partial=function(a){var b=h.call(arguments,1);return function(){return a.apply(this,b.concat(h.call(arguments)))}},x.bindAll=function(a){var b=h.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:new Date,g=null,f=a.apply(d,e)};return function(){var j=new Date;h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,0>=k?(clearTimeout(g),g=null,h=j,f=a.apply(d,e)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},x.debounce=function(a,b,c){var d,e,f,g,h;return function(){f=this,e=arguments,g=new Date;var i=function(){var j=new Date-g;b>j?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e)))},j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e)),h}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)x.has(a,c)&&b.push(c);return b},x.values=function(a){for(var b=x.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},x.pairs=function(a){for(var b=x.keys(a),c=b.length,d=new Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},x.invert=function(a){for(var b={},c=x.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var F=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;var g=a.constructor,h=b.constructor;if(g!==h&&!(x.isFunction(g)&&g instanceof g&&x.isFunction(h)&&h instanceof h))return!1;c.push(a),d.push(b);var i=0,k=!0;if("[object Array]"==e){if(i=a.length,k=i==b.length)for(;i--&&(k=F(a[i],b[i],c,d)););}else{for(var l in a)if(x.has(a,l)&&(i++,!(k=x.has(b,l)&&F(a[l],b[l],c,d))))break;if(k){for(l in b)if(x.has(b,l)&&!i--)break;k=!i}}return c.pop(),d.pop(),k};x.isEqual=function(a,b){return F(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var G={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};G.unescape=x.invert(G.escape);var H={escape:new RegExp("["+x.keys(G.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(G.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(H[a],function(b){return G[a][b]})}}),x.result=function(a,b){if(null==a)return void 0;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),M.call(this,c.apply(x,a))}})};var I=0;x.uniqueId=function(a){var b=++I+"";return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){var d;c=x.defaults({},c,x.templateSettings);var e=new RegExp([(c.escape||J).source,(c.interpolate||J).source,(c.evaluate||J).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(L,function(a){return"\\"+K[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,x);var i=function(a){return d.call(this,a,x)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},x.chain=function(a){return x(a).chain()};var M=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],M.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return M.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this)}({},function(){return this}());